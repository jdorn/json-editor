{
  "version": 3,
  "file": "jsoneditor.js",
  "sources": [
    "src/intro.js",
    "src/class.js",
    "src/ie9.js",
    "src/utilities.js",
    "src/core.js",
    "src/validator.js",
    "src/editor.js",
    "src/editors/null.js",
    "src/editors/string.js",
    "src/editors/number.js",
    "src/editors/integer.js",
    "src/editors/object.js",
    "src/editors/array.js",
    "src/editors/table.js",
    "src/editors/multiple.js",
    "src/editors/enum.js",
    "src/editors/select.js",
    "src/editors/selectize.js",
    "src/editors/multiselect.js",
    "src/editors/base64.js",
    "src/editors/upload.js",
    "src/editors/checkbox.js",
    "src/editors/array/selectize.js",
    "src/theme.js",
    "src/themes/bootstrap2.js",
    "src/themes/bootstrap3.js",
    "src/themes/foundation.js",
    "src/themes/html.js",
    "src/themes/jqueryui.js",
    "src/iconlib.js",
    "src/iconlibs/bootstrap2.js",
    "src/iconlibs/bootstrap3.js",
    "src/iconlibs/fontawesome3.js",
    "src/iconlibs/fontawesome4.js",
    "src/iconlibs/foundation2.js",
    "src/iconlibs/foundation3.js",
    "src/iconlibs/jqueryui.js",
    "src/templates/default.js",
    "src/templates/ejs.js",
    "src/templates/handlebars.js",
    "src/templates/hogan.js",
    "src/templates/markup.js",
    "src/templates/mustache.js",
    "src/templates/swig.js",
    "src/templates/underscore.js",
    "src/defaults.js",
    "src/jquery.js",
    "src/outro.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AChcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACz2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5rBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC3RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACjWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACzVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC9VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACdA;AACA;AACA;A;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;A;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;ACrTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;AC/DA;AACA;A",
  "sourcesContent": [
    "/*! JSON Editor v0.7.24 - JSON Schema -> HTML Editor\r\n * By Jeremy Dorn - https://github.com/jdorn/json-editor/\r\n * Released under the MIT license\r\n *\r\n * Date: 2016-02-11\r\n */\r\n\r\n/**\r\n * See README.md for requirements and usage info\r\n */\r\n\r\n(function() {\r\n",
    "/*jshint loopfunc: true */\r\n/* Simple JavaScript Inheritance\r\n * By John Resig http://ejohn.org/\r\n * MIT Licensed.\r\n */\r\n// Inspired by base2 and Prototype\r\nvar Class;\r\n(function(){\r\n  var initializing = false, fnTest = /xyz/.test(function(){window.postMessage(\"xyz\");}) ? /\\b_super\\b/ : /.*/;\r\n \r\n  // The base Class implementation (does nothing)\r\n  Class = function(){};\r\n \r\n  // Create a new Class that inherits from this class\r\n  Class.extend = function(prop) {\r\n    var _super = this.prototype;\r\n   \r\n    // Instantiate a base class (but only create the instance,\r\n    // don't run the init constructor)\r\n    initializing = true;\r\n    var prototype = new this();\r\n    initializing = false;\r\n   \r\n    // Copy the properties over onto the new prototype\r\n    for (var name in prop) {\r\n      // Check if we're overwriting an existing function\r\n      prototype[name] = typeof prop[name] == \"function\" &&\r\n        typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\r\n        (function(name, fn){\r\n          return function() {\r\n            var tmp = this._super;\r\n           \r\n            // Add a new ._super() method that is the same method\r\n            // but on the super-class\r\n            this._super = _super[name];\r\n           \r\n            // The method only need to be bound temporarily, so we\r\n            // remove it when we're done executing\r\n            var ret = fn.apply(this, arguments);        \r\n            this._super = tmp;\r\n           \r\n            return ret;\r\n          };\r\n        })(name, prop[name]) :\r\n        prop[name];\r\n    }\r\n   \r\n    // The dummy class constructor\r\n    function Class() {\r\n      // All construction is actually done in the init method\r\n      if ( !initializing && this.init )\r\n        this.init.apply(this, arguments);\r\n    }\r\n   \r\n    // Populate our constructed prototype object\r\n    Class.prototype = prototype;\r\n   \r\n    // Enforce the constructor to be what we expect\r\n    Class.prototype.constructor = Class;\r\n \r\n    // And make this class extendable\r\n    Class.extend = arguments.callee;\r\n   \r\n    return Class;\r\n  };\r\n  \r\n  return Class;\r\n})();\r\n",
    "// CustomEvent constructor polyfill\r\n// From MDN\r\n(function () {\r\n  function CustomEvent ( event, params ) {\r\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n    var evt = document.createEvent( 'CustomEvent' );\r\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\r\n    return evt;\r\n  }\r\n\r\n  CustomEvent.prototype = window.Event.prototype;\r\n\r\n  window.CustomEvent = CustomEvent;\r\n})();\r\n\r\n// requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\r\n// MIT license\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || \r\n                                      window[vendors[x]+'CancelRequestAnimationFrame'];\r\n    }\r\n \r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \r\n              timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n \r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n\r\n// Array.isArray polyfill\r\n// From MDN\r\n(function() {\r\n\tif(!Array.isArray) {\r\n\t  Array.isArray = function(arg) {\r\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\r\n\t  };\r\n\t}\r\n}());",
    "/**\r\n * Taken from jQuery 2.1.3\r\n *\r\n * @param obj\r\n * @returns {boolean}\r\n */\r\nvar $isplainobject = function( obj ) {\r\n  // Not plain objects:\r\n  // - Any object or value whose internal [[Class]] property is not \"[object Object]\"\r\n  // - DOM nodes\r\n  // - window\r\n  if (typeof obj !== \"object\" || obj.nodeType || (obj !== null && obj === obj.window)) {\r\n    return false;\r\n  }\r\n\r\n  if (obj.constructor && !Object.prototype.hasOwnProperty.call(obj.constructor.prototype, \"isPrototypeOf\")) {\r\n    return false;\r\n  }\r\n\r\n  // If the function hasn't returned already, we're confident that\r\n  // |obj| is a plain object, created by {} or constructed with new Object\r\n  return true;\r\n};\r\n\r\nvar $extend = function(destination) {\r\n  var source, i,property;\r\n  for(i=1; i<arguments.length; i++) {\r\n    source = arguments[i];\r\n    for (property in source) {\r\n      if(!source.hasOwnProperty(property)) continue;\r\n      if(source[property] && $isplainobject(source[property])) {\r\n        if(!destination.hasOwnProperty(property)) destination[property] = {};\r\n        $extend(destination[property], source[property]);\r\n      }\r\n      else {\r\n        destination[property] = source[property];\r\n      }\r\n    }\r\n  }\r\n  return destination;\r\n};\r\n\r\nvar $each = function(obj,callback) {\r\n  if(!obj || typeof obj !== \"object\") return;\r\n  var i;\r\n  if(Array.isArray(obj) || (typeof obj.length === 'number' && obj.length > 0 && (obj.length - 1) in obj)) {\r\n    for(i=0; i<obj.length; i++) {\r\n      if(callback(i,obj[i])===false) return;\r\n    }\r\n  }\r\n  else {\r\n    if (Object.keys) {\r\n      var keys = Object.keys(obj);\r\n      for(i=0; i<keys.length; i++) {\r\n        if(callback(keys[i],obj[keys[i]])===false) return;\r\n      }\r\n    }\r\n    else {\r\n      for(i in obj) {\r\n        if(!obj.hasOwnProperty(i)) continue;\r\n        if(callback(i,obj[i])===false) return;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nvar $trigger = function(el,event) {\r\n  var e = document.createEvent('HTMLEvents');\r\n  e.initEvent(event, true, true);\r\n  el.dispatchEvent(e);\r\n};\r\nvar $triggerc = function(el,event) {\r\n  var e = new CustomEvent(event,{\r\n    bubbles: true,\r\n    cancelable: true\r\n  });\r\n\r\n  el.dispatchEvent(e);\r\n};\r\n",
    "var JSONEditor = function(element,options) {\r\n  if (!(element instanceof Element)) {\r\n    throw new Error('element should be an instance of Element');\r\n  }\r\n  options = $extend({},JSONEditor.defaults.options,options||{});\r\n  this.element = element;\r\n  this.options = options;\r\n  this.init();\r\n};\r\nJSONEditor.prototype = {\r\n  // necessary since we remove the ctor property by doing a literal assignment. Without this\r\n  // the $isplainobject function will think that this is a plain object.\r\n  constructor: JSONEditor,\r\n  init: function() {\r\n    var self = this;\r\n    \r\n    this.ready = false;\r\n\r\n    var theme_class = JSONEditor.defaults.themes[this.options.theme || JSONEditor.defaults.theme];\r\n    if(!theme_class) throw \"Unknown theme \" + (this.options.theme || JSONEditor.defaults.theme);\r\n    \r\n    this.schema = this.options.schema;\r\n    this.theme = new theme_class();\r\n    this.template = this.options.template;\r\n    this.refs = this.options.refs || {};\r\n    this.uuid = 0;\r\n    this.__data = {};\r\n    \r\n    var icon_class = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib];\r\n    if(icon_class) this.iconlib = new icon_class();\r\n\r\n    this.root_container = this.theme.getContainer();\r\n    this.element.appendChild(this.root_container);\r\n    \r\n    this.translate = this.options.translate || JSONEditor.defaults.translate;\r\n\r\n    // Fetch all external refs via ajax\r\n    this._loadExternalRefs(this.schema, function() {\r\n      self._getDefinitions(self.schema);\r\n      \r\n      // Validator options\r\n      var validator_options = {};\r\n      if(self.options.custom_validators) {\r\n        validator_options.custom_validators = self.options.custom_validators;\r\n      }\r\n      self.validator = new JSONEditor.Validator(self,null,validator_options);\r\n      \r\n      // Create the root editor\r\n      var editor_class = self.getEditorClass(self.schema);\r\n      self.root = self.createEditor(editor_class, {\r\n        jsoneditor: self,\r\n        schema: self.schema,\r\n        required: true,\r\n        container: self.root_container\r\n      });\r\n      \r\n      self.root.preBuild();\r\n      self.root.build();\r\n      self.root.postBuild();\r\n\r\n      // Starting data\r\n      if(self.options.startval) self.root.setValue(self.options.startval);\r\n\r\n      self.validation_results = self.validator.validate(self.root.getValue());\r\n      self.root.showValidationErrors(self.validation_results);\r\n      self.ready = true;\r\n\r\n      // Fire ready event asynchronously\r\n      window.requestAnimationFrame(function() {\r\n        if(!self.ready) return;\r\n        self.validation_results = self.validator.validate(self.root.getValue());\r\n        self.root.showValidationErrors(self.validation_results);\r\n        self.trigger('ready');\r\n        self.trigger('change');\r\n      });\r\n    });\r\n  },\r\n  getValue: function() {\r\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\";\r\n\r\n    return this.root.getValue();\r\n  },\r\n  setValue: function(value) {\r\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\";\r\n\r\n    this.root.setValue(value);\r\n    return this;\r\n  },\r\n  validate: function(value) {\r\n    if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before validating\";\r\n    \r\n    // Custom value\r\n    if(arguments.length === 1) {\r\n      return this.validator.validate(value);\r\n    }\r\n    // Current value (use cached result)\r\n    else {\r\n      return this.validation_results;\r\n    }\r\n  },\r\n  destroy: function() {\r\n    if(this.destroyed) return;\r\n    if(!this.ready) return;\r\n    \r\n    this.schema = null;\r\n    this.options = null;\r\n    this.root.destroy();\r\n    this.root = null;\r\n    this.root_container = null;\r\n    this.validator = null;\r\n    this.validation_results = null;\r\n    this.theme = null;\r\n    this.iconlib = null;\r\n    this.template = null;\r\n    this.__data = null;\r\n    this.ready = false;\r\n    this.element.innerHTML = '';\r\n    \r\n    this.destroyed = true;\r\n  },\r\n  on: function(event, callback) {\r\n    this.callbacks = this.callbacks || {};\r\n    this.callbacks[event] = this.callbacks[event] || [];\r\n    this.callbacks[event].push(callback);\r\n    \r\n    return this;\r\n  },\r\n  off: function(event, callback) {\r\n    // Specific callback\r\n    if(event && callback) {\r\n      this.callbacks = this.callbacks || {};\r\n      this.callbacks[event] = this.callbacks[event] || [];\r\n      var newcallbacks = [];\r\n      for(var i=0; i<this.callbacks[event].length; i++) {\r\n        if(this.callbacks[event][i]===callback) continue;\r\n        newcallbacks.push(this.callbacks[event][i]);\r\n      }\r\n      this.callbacks[event] = newcallbacks;\r\n    }\r\n    // All callbacks for a specific event\r\n    else if(event) {\r\n      this.callbacks = this.callbacks || {};\r\n      this.callbacks[event] = [];\r\n    }\r\n    // All callbacks for all events\r\n    else {\r\n      this.callbacks = {};\r\n    }\r\n    \r\n    return this;\r\n  },\r\n  trigger: function(event) {\r\n    if(this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\r\n      for(var i=0; i<this.callbacks[event].length; i++) {\r\n        this.callbacks[event][i]();\r\n      }\r\n    }\r\n    \r\n    return this;\r\n  },\r\n  setOption: function(option, value) {\r\n    if(option === \"show_errors\") {\r\n      this.options.show_errors = value;\r\n      this.onChange();\r\n    }\r\n    // Only the `show_errors` option is supported for now\r\n    else {\r\n      throw \"Option \"+option+\" must be set during instantiation and cannot be changed later\";\r\n    }\r\n    \r\n    return this;\r\n  },\r\n  getEditorClass: function(schema) {\r\n    var classname;\r\n\r\n    schema = this.expandSchema(schema);\r\n\r\n    $each(JSONEditor.defaults.resolvers,function(i,resolver) {\r\n      var tmp = resolver(schema);\r\n      if(tmp) {\r\n        if(JSONEditor.defaults.editors[tmp]) {\r\n          classname = tmp;\r\n          return false;\r\n        }\r\n      }\r\n    });\r\n\r\n    if(!classname) throw \"Unknown editor for schema \"+JSON.stringify(schema);\r\n    if(!JSONEditor.defaults.editors[classname]) throw \"Unknown editor \"+classname;\r\n\r\n    return JSONEditor.defaults.editors[classname];\r\n  },\r\n  createEditor: function(editor_class, options) {\r\n    options = $extend({},editor_class.options||{},options);\r\n    return new editor_class(options);\r\n  },\r\n  onChange: function() {\r\n    if(!this.ready) return;\r\n    \r\n    if(this.firing_change) return;\r\n    this.firing_change = true;\r\n    \r\n    var self = this;\r\n    \r\n    window.requestAnimationFrame(function() {\r\n      self.firing_change = false;\r\n      if(!self.ready) return;\r\n\r\n      // Validate and cache results\r\n      self.validation_results = self.validator.validate(self.root.getValue());\r\n      \r\n      if(self.options.show_errors !== \"never\") {\r\n        self.root.showValidationErrors(self.validation_results);\r\n      }\r\n      else {\r\n        self.root.showValidationErrors([]);\r\n      }\r\n      \r\n      // Fire change event\r\n      self.trigger('change');\r\n    });\r\n    \r\n    return this;\r\n  },\r\n  compileTemplate: function(template, name) {\r\n    name = name || JSONEditor.defaults.template;\r\n\r\n    var engine;\r\n\r\n    // Specifying a preset engine\r\n    if(typeof name === 'string') {\r\n      if(!JSONEditor.defaults.templates[name]) throw \"Unknown template engine \"+name;\r\n      engine = JSONEditor.defaults.templates[name]();\r\n\r\n      if(!engine) throw \"Template engine \"+name+\" missing required library.\";\r\n    }\r\n    // Specifying a custom engine\r\n    else {\r\n      engine = name;\r\n    }\r\n\r\n    if(!engine) throw \"No template engine set\";\r\n    if(!engine.compile) throw \"Invalid template engine set\";\r\n\r\n    return engine.compile(template);\r\n  },\r\n  _data: function(el,key,value) {\r\n    // Setting data\r\n    if(arguments.length === 3) {\r\n      var uuid;\r\n      if(el.hasAttribute('data-jsoneditor-'+key)) {\r\n        uuid = el.getAttribute('data-jsoneditor-'+key);\r\n      }\r\n      else {\r\n        uuid = this.uuid++;\r\n        el.setAttribute('data-jsoneditor-'+key,uuid);\r\n      }\r\n\r\n      this.__data[uuid] = value;\r\n    }\r\n    // Getting data\r\n    else {\r\n      // No data stored\r\n      if(!el.hasAttribute('data-jsoneditor-'+key)) return null;\r\n      \r\n      return this.__data[el.getAttribute('data-jsoneditor-'+key)];\r\n    }\r\n  },\r\n  registerEditor: function(editor) {\r\n    this.editors = this.editors || {};\r\n    this.editors[editor.path] = editor;\r\n    return this;\r\n  },\r\n  unregisterEditor: function(editor) {\r\n    this.editors = this.editors || {};\r\n    this.editors[editor.path] = null;\r\n    return this;\r\n  },\r\n  getEditor: function(path) {\r\n    if(!this.editors) return;\r\n    return this.editors[path];\r\n  },\r\n  watch: function(path,callback) {\r\n    this.watchlist = this.watchlist || {};\r\n    this.watchlist[path] = this.watchlist[path] || [];\r\n    this.watchlist[path].push(callback);\r\n    \r\n    return this;\r\n  },\r\n  unwatch: function(path,callback) {\r\n    if(!this.watchlist || !this.watchlist[path]) return this;\r\n    // If removing all callbacks for a path\r\n    if(!callback) {\r\n      this.watchlist[path] = null;\r\n      return this;\r\n    }\r\n    \r\n    var newlist = [];\r\n    for(var i=0; i<this.watchlist[path].length; i++) {\r\n      if(this.watchlist[path][i] === callback) continue;\r\n      else newlist.push(this.watchlist[path][i]);\r\n    }\r\n    this.watchlist[path] = newlist.length? newlist : null;\r\n    return this;\r\n  },\r\n  notifyWatchers: function(path) {\r\n    if(!this.watchlist || !this.watchlist[path]) return this;\r\n    for(var i=0; i<this.watchlist[path].length; i++) {\r\n      this.watchlist[path][i]();\r\n    }\r\n  },\r\n  isEnabled: function() {\r\n    return !this.root || this.root.isEnabled();\r\n  },\r\n  enable: function() {\r\n    this.root.enable();\r\n  },\r\n  disable: function() {\r\n    this.root.disable();\r\n  },\r\n  _getDefinitions: function(schema,path) {\r\n    path = path || '#/definitions/';\r\n    if(schema.definitions) {\r\n      for(var i in schema.definitions) {\r\n        if(!schema.definitions.hasOwnProperty(i)) continue;\r\n        this.refs[path+i] = schema.definitions[i];\r\n        if(schema.definitions[i].definitions) {\r\n          this._getDefinitions(schema.definitions[i],path+i+'/definitions/');\r\n        }\r\n      }\r\n    }\r\n  },\r\n  _getExternalRefs: function(schema) {\r\n    var refs = {};\r\n    var merge_refs = function(newrefs) {\r\n      for(var i in newrefs) {\r\n        if(newrefs.hasOwnProperty(i)) {\r\n          refs[i] = true;\r\n        }\r\n      }\r\n    };\r\n    \r\n    if(schema.$ref && typeof schema.$ref !== \"object\" && schema.$ref.substr(0,1) !== \"#\" && !this.refs[schema.$ref]) {\r\n      refs[schema.$ref] = true;\r\n    }\r\n    \r\n    for(var i in schema) {\r\n      if(!schema.hasOwnProperty(i)) continue;\r\n      if(schema[i] && typeof schema[i] === \"object\" && Array.isArray(schema[i])) {\r\n        for(var j=0; j<schema[i].length; j++) {\r\n          if(typeof schema[i][j]===\"object\") {\r\n            merge_refs(this._getExternalRefs(schema[i][j]));\r\n          }\r\n        }\r\n      }\r\n      else if(schema[i] && typeof schema[i] === \"object\") {\r\n        merge_refs(this._getExternalRefs(schema[i]));\r\n      }\r\n    }\r\n    \r\n    return refs;\r\n  },\r\n  _loadExternalRefs: function(schema, callback) {\r\n    var self = this;\r\n    var refs = this._getExternalRefs(schema);\r\n    \r\n    var done = 0, waiting = 0, callback_fired = false;\r\n    \r\n    $each(refs,function(url) {\r\n      if(self.refs[url]) return;\r\n      if(!self.options.ajax) throw \"Must set ajax option to true to load external ref \"+url;\r\n      self.refs[url] = 'loading';\r\n      waiting++;\r\n\r\n      var r = new XMLHttpRequest(); \r\n      r.open(\"GET\", url, true);\r\n      r.onreadystatechange = function () {\r\n        if (r.readyState != 4) return; \r\n        // Request succeeded\r\n        if(r.status === 200) {\r\n          var response;\r\n          try {\r\n            response = JSON.parse(r.responseText);\r\n          }\r\n          catch(e) {\r\n            window.console.log(e);\r\n            throw \"Failed to parse external ref \"+url;\r\n          }\r\n          if(!response || typeof response !== \"object\") throw \"External ref does not contain a valid schema - \"+url;\r\n          \r\n          self.refs[url] = response;\r\n          self._loadExternalRefs(response,function() {\r\n            done++;\r\n            if(done >= waiting && !callback_fired) {\r\n              callback_fired = true;\r\n              callback();\r\n            }\r\n          });\r\n        }\r\n        // Request failed\r\n        else {\r\n          window.console.log(r);\r\n          throw \"Failed to fetch ref via ajax- \"+url;\r\n        }\r\n      };\r\n      r.send();\r\n    });\r\n    \r\n    if(!waiting) {\r\n      callback();\r\n    }\r\n  },\r\n  expandRefs: function(schema) {\r\n    schema = $extend({},schema);\r\n    \r\n    while (schema.$ref) {\r\n      var ref = schema.$ref;\r\n      delete schema.$ref;\r\n      \r\n      if(!this.refs[ref]) ref = decodeURIComponent(ref);\r\n      \r\n      schema = this.extendSchemas(schema,this.refs[ref]);\r\n    }\r\n    return schema;\r\n  },\r\n  expandSchema: function(schema) {\r\n    var self = this;\r\n    var extended = $extend({},schema);\r\n    var i;\r\n\r\n    // Version 3 `type`\r\n    if(typeof schema.type === 'object') {\r\n      // Array of types\r\n      if(Array.isArray(schema.type)) {\r\n        $each(schema.type, function(key,value) {\r\n          // Schema\r\n          if(typeof value === 'object') {\r\n            schema.type[key] = self.expandSchema(value);\r\n          }\r\n        });\r\n      }\r\n      // Schema\r\n      else {\r\n        schema.type = self.expandSchema(schema.type);\r\n      }\r\n    }\r\n    // Version 3 `disallow`\r\n    if(typeof schema.disallow === 'object') {\r\n      // Array of types\r\n      if(Array.isArray(schema.disallow)) {\r\n        $each(schema.disallow, function(key,value) {\r\n          // Schema\r\n          if(typeof value === 'object') {\r\n            schema.disallow[key] = self.expandSchema(value);\r\n          }\r\n        });\r\n      }\r\n      // Schema\r\n      else {\r\n        schema.disallow = self.expandSchema(schema.disallow);\r\n      }\r\n    }\r\n    // Version 4 `anyOf`\r\n    if(schema.anyOf) {\r\n      $each(schema.anyOf, function(key,value) {\r\n        schema.anyOf[key] = self.expandSchema(value);\r\n      });\r\n    }\r\n    // Version 4 `dependencies` (schema dependencies)\r\n    if(schema.dependencies) {\r\n      $each(schema.dependencies,function(key,value) {\r\n        if(typeof value === \"object\" && !(Array.isArray(value))) {\r\n          schema.dependencies[key] = self.expandSchema(value);\r\n        }\r\n      });\r\n    }\r\n    // Version 4 `not`\r\n    if(schema.not) {\r\n      schema.not = this.expandSchema(schema.not);\r\n    }\r\n    \r\n    // allOf schemas should be merged into the parent\r\n    if(schema.allOf) {\r\n      for(i=0; i<schema.allOf.length; i++) {\r\n        extended = this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));\r\n      }\r\n      delete extended.allOf;\r\n    }\r\n    // extends schemas should be merged into parent\r\n    if(schema[\"extends\"]) {\r\n      // If extends is a schema\r\n      if(!(Array.isArray(schema[\"extends\"]))) {\r\n        extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"]));\r\n      }\r\n      // If extends is an array of schemas\r\n      else {\r\n        for(i=0; i<schema[\"extends\"].length; i++) {\r\n          extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"][i]));\r\n        }\r\n      }\r\n      delete extended[\"extends\"];\r\n    }\r\n    // parent should be merged into oneOf schemas\r\n    if(schema.oneOf) {\r\n      var tmp = $extend({},extended);\r\n      delete tmp.oneOf;\r\n      for(i=0; i<schema.oneOf.length; i++) {\r\n        extended.oneOf[i] = this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp);\r\n      }\r\n    }\r\n    \r\n    return this.expandRefs(extended);\r\n  },\r\n  extendSchemas: function(obj1, obj2) {\r\n    obj1 = $extend({},obj1);\r\n    obj2 = $extend({},obj2);\r\n\r\n    var self = this;\r\n    var extended = {};\r\n    $each(obj1, function(prop,val) {\r\n      // If this key is also defined in obj2, merge them\r\n      if(typeof obj2[prop] !== \"undefined\") {\r\n        // Required arrays should be unioned together\r\n        if(prop === 'required' && typeof val === \"object\" && Array.isArray(val)) {\r\n          // Union arrays and unique\r\n          extended.required = val.concat(obj2[prop]).reduce(function(p, c) {\r\n            if (p.indexOf(c) < 0) p.push(c);\r\n            return p;\r\n          }, []);\r\n        }\r\n        // Type should be intersected and is either an array or string\r\n        else if(prop === 'type' && (typeof val === \"string\" || Array.isArray(val))) {\r\n          // Make sure we're dealing with arrays\r\n          if(typeof val === \"string\") val = [val];\r\n          if(typeof obj2.type === \"string\") obj2.type = [obj2.type];\r\n\r\n\r\n          extended.type = val.filter(function(n) {\r\n            return obj2.type.indexOf(n) !== -1;\r\n          });\r\n\r\n          // If there's only 1 type and it's a primitive, use a string instead of array\r\n          if(extended.type.length === 1 && typeof extended.type[0] === \"string\") {\r\n            extended.type = extended.type[0];\r\n          }\r\n        }\r\n        // All other arrays should be intersected (enum, etc.)\r\n        else if(typeof val === \"object\" && Array.isArray(val)){\r\n          extended[prop] = val.filter(function(n) {\r\n            return obj2[prop].indexOf(n) !== -1;\r\n          });\r\n        }\r\n        // Objects should be recursively merged\r\n        else if(typeof val === \"object\" && val !== null) {\r\n          extended[prop] = self.extendSchemas(val,obj2[prop]);\r\n        }\r\n        // Otherwise, use the first value\r\n        else {\r\n          extended[prop] = val;\r\n        }\r\n      }\r\n      // Otherwise, just use the one in obj1\r\n      else {\r\n        extended[prop] = val;\r\n      }\r\n    });\r\n    // Properties in obj2 that aren't in obj1\r\n    $each(obj2, function(prop,val) {\r\n      if(typeof obj1[prop] === \"undefined\") {\r\n        extended[prop] = val;\r\n      }\r\n    });\r\n\r\n    return extended;\r\n  }\r\n};\r\n\r\nJSONEditor.defaults = {\r\n  themes: {},\r\n  templates: {},\r\n  iconlibs: {},\r\n  editors: {},\r\n  languages: {},\r\n  resolvers: [],\r\n  custom_validators: []\r\n};\r\n",
    "JSONEditor.Validator = Class.extend({\r\n  init: function(jsoneditor,schema,options) {\r\n    this.jsoneditor = jsoneditor;\r\n    this.schema = schema || this.jsoneditor.schema;\r\n    this.options = options || {};\r\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\r\n  },\r\n  validate: function(value) {\r\n    return this._validateSchema(this.schema, value);\r\n  },\r\n  _validateSchema: function(schema,value,path) {\r\n    var self = this;\r\n    var errors = [];\r\n    var valid, i, j;\r\n    var stringified = JSON.stringify(value);\r\n\r\n    path = path || 'root';\r\n\r\n    // Work on a copy of the schema\r\n    schema = $extend({},this.jsoneditor.expandRefs(schema));\r\n\r\n    /*\r\n     * Type Agnostic Validation\r\n     */\r\n\r\n    // Version 3 `required`\r\n    if(schema.required && schema.required === true) {\r\n      if(typeof value === \"undefined\") {\r\n        errors.push({\r\n          path: path,\r\n          property: 'required',\r\n          message: this.translate(\"error_notset\")\r\n        });\r\n\r\n        // Can't do any more validation at this point\r\n        return errors;\r\n      }\r\n    }\r\n    // Value not defined\r\n    else if(typeof value === \"undefined\") {\r\n      // If required_by_default is set, all fields are required\r\n      if(this.jsoneditor.options.required_by_default) {\r\n        errors.push({\r\n          path: path,\r\n          property: 'required',\r\n          message: this.translate(\"error_notset\")\r\n        });\r\n      }\r\n      // Not required, no further validation needed\r\n      else {\r\n        return errors;\r\n      }\r\n    }\r\n\r\n    // `enum`\r\n    if(schema[\"enum\"]) {\r\n      valid = false;\r\n      for(i=0; i<schema[\"enum\"].length; i++) {\r\n        if(stringified === JSON.stringify(schema[\"enum\"][i])) valid = true;\r\n      }\r\n      if(!valid) {\r\n        errors.push({\r\n          path: path,\r\n          property: 'enum',\r\n          message: this.translate(\"error_enum\")\r\n        });\r\n      }\r\n    }\r\n\r\n    // `extends` (version 3)\r\n    if(schema[\"extends\"]) {\r\n      for(i=0; i<schema[\"extends\"].length; i++) {\r\n        errors = errors.concat(this._validateSchema(schema[\"extends\"][i],value,path));\r\n      }\r\n    }\r\n\r\n    // `allOf`\r\n    if(schema.allOf) {\r\n      for(i=0; i<schema.allOf.length; i++) {\r\n        errors = errors.concat(this._validateSchema(schema.allOf[i],value,path));\r\n      }\r\n    }\r\n\r\n    // `anyOf`\r\n    if(schema.anyOf) {\r\n      valid = false;\r\n      for(i=0; i<schema.anyOf.length; i++) {\r\n        if(!this._validateSchema(schema.anyOf[i],value,path).length) {\r\n          valid = true;\r\n          break;\r\n        }\r\n      }\r\n      if(!valid) {\r\n        errors.push({\r\n          path: path,\r\n          property: 'anyOf',\r\n          message: this.translate('error_anyOf')\r\n        });\r\n      }\r\n    }\r\n\r\n    // `oneOf`\r\n    if(schema.oneOf) {\r\n      valid = 0;\r\n      var oneof_errors = [];\r\n      for(i=0; i<schema.oneOf.length; i++) {\r\n        // Set the error paths to be path.oneOf[i].rest.of.path\r\n        var tmp = this._validateSchema(schema.oneOf[i],value,path);\r\n        if(!tmp.length) {\r\n          valid++;\r\n        }\r\n\r\n        for(j=0; j<tmp.length; j++) {\r\n          tmp[j].path = path+'.oneOf['+i+']'+tmp[j].path.substr(path.length);\r\n        }\r\n        oneof_errors = oneof_errors.concat(tmp);\r\n\r\n      }\r\n      if(valid !== 1) {\r\n        errors.push({\r\n          path: path,\r\n          property: 'oneOf',\r\n          message: this.translate('error_oneOf', [valid])\r\n        });\r\n        errors = errors.concat(oneof_errors);\r\n      }\r\n    }\r\n\r\n    // `not`\r\n    if(schema.not) {\r\n      if(!this._validateSchema(schema.not,value,path).length) {\r\n        errors.push({\r\n          path: path,\r\n          property: 'not',\r\n          message: this.translate('error_not')\r\n        });\r\n      }\r\n    }\r\n\r\n    // `type` (both Version 3 and Version 4 support)\r\n    if(schema.type) {\r\n      // Union type\r\n      if(Array.isArray(schema.type)) {\r\n        valid = false;\r\n        for(i=0;i<schema.type.length;i++) {\r\n          if(this._checkType(schema.type[i], value)) {\r\n            valid = true;\r\n            break;\r\n          }\r\n        }\r\n        if(!valid) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'type',\r\n            message: this.translate('error_type_union')\r\n          });\r\n        }\r\n      }\r\n      // Simple type\r\n      else {\r\n        if(!this._checkType(schema.type, value)) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'type',\r\n            message: this.translate('error_type', [schema.type])\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    // `disallow` (version 3)\r\n    if(schema.disallow) {\r\n      // Union type\r\n      if(Array.isArray(schema.disallow)) {\r\n        valid = true;\r\n        for(i=0;i<schema.disallow.length;i++) {\r\n          if(this._checkType(schema.disallow[i], value)) {\r\n            valid = false;\r\n            break;\r\n          }\r\n        }\r\n        if(!valid) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'disallow',\r\n            message: this.translate('error_disallow_union')\r\n          });\r\n        }\r\n      }\r\n      // Simple type\r\n      else {\r\n        if(this._checkType(schema.disallow, value)) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'disallow',\r\n            message: this.translate('error_disallow', [schema.disallow])\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    /*\r\n     * Type Specific Validation\r\n     */\r\n\r\n    // Number Specific Validation\r\n    if(typeof value === \"number\") {\r\n      // `multipleOf` and `divisibleBy`\r\n      if(schema.multipleOf || schema.divisibleBy) {\r\n        var divisor = schema.multipleOf || schema.divisibleBy;\r\n        // Vanilla JS, prone to floating point rounding errors (e.g. 1.14 / .01 == 113.99999)\r\n        valid = (value/divisor === Math.floor(value/divisor));\r\n\r\n        // Use math.js is available\r\n        if(window.math) {\r\n          valid = window.math.mod(window.math.bignumber(value), window.math.bignumber(divisor)).equals(0);\r\n        }\r\n        // Use decimal.js is available\r\n        else if(window.Decimal) {\r\n          valid = (new window.Decimal(value)).mod(new window.Decimal(divisor)).equals(0);\r\n        }\r\n\r\n        if(!valid) {\r\n          errors.push({\r\n            path: path,\r\n            property: schema.multipleOf? 'multipleOf' : 'divisibleBy',\r\n            message: this.translate('error_multipleOf', [divisor])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `maximum`\r\n      if(schema.hasOwnProperty('maximum')) {\r\n        // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\r\n        valid = schema.exclusiveMaximum? (value < schema.maximum) : (value <= schema.maximum);\r\n\r\n        // Use math.js is available\r\n        if(window.math) {\r\n          valid = window.math[schema.exclusiveMaximum?'smaller':'smallerEq'](\r\n            window.math.bignumber(value),\r\n            window.math.bignumber(schema.maximum)\r\n          );\r\n        }\r\n        // Use Decimal.js if available\r\n        else if(window.Decimal) {\r\n          valid = (new window.Decimal(value))[schema.exclusiveMaximum?'lt':'lte'](new window.Decimal(schema.maximum));\r\n        }\r\n\r\n        if(!valid) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'maximum',\r\n            message: this.translate(\r\n              (schema.exclusiveMaximum?'error_maximum_excl':'error_maximum_incl'),\r\n              [schema.maximum]\r\n            )\r\n          });\r\n        }\r\n      }\r\n\r\n      // `minimum`\r\n      if(schema.hasOwnProperty('minimum')) {\r\n        // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\r\n        valid = schema.exclusiveMinimum? (value > schema.minimum) : (value >= schema.minimum);\r\n\r\n        // Use math.js is available\r\n        if(window.math) {\r\n          valid = window.math[schema.exclusiveMinimum?'larger':'largerEq'](\r\n            window.math.bignumber(value),\r\n            window.math.bignumber(schema.minimum)\r\n          );\r\n        }\r\n        // Use Decimal.js if available\r\n        else if(window.Decimal) {\r\n          valid = (new window.Decimal(value))[schema.exclusiveMinimum?'gt':'gte'](new window.Decimal(schema.minimum));\r\n        }\r\n\r\n        if(!valid) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'minimum',\r\n            message: this.translate(\r\n              (schema.exclusiveMinimum?'error_minimum_excl':'error_minimum_incl'),\r\n              [schema.minimum]\r\n            )\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // String specific validation\r\n    else if(typeof value === \"string\") {\r\n      // `maxLength`\r\n      if(schema.maxLength) {\r\n        if((value+\"\").length > schema.maxLength) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'maxLength',\r\n            message: this.translate('error_maxLength', [schema.maxLength])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `minLength`\r\n      if(schema.minLength) {\r\n        if((value+\"\").length < schema.minLength) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'minLength',\r\n            message: this.translate((schema.minLength===1?'error_notempty':'error_minLength'), [schema.minLength])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `pattern`\r\n      if(schema.pattern) {\r\n        if(!(new RegExp(schema.pattern)).test(value)) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'pattern',\r\n            message: this.translate('error_pattern', [schema.pattern])\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // Array specific validation\r\n    else if(typeof value === \"object\" && value !== null && Array.isArray(value)) {\r\n      // `items` and `additionalItems`\r\n      if(schema.items) {\r\n        // `items` is an array\r\n        if(Array.isArray(schema.items)) {\r\n          for(i=0; i<value.length; i++) {\r\n            // If this item has a specific schema tied to it\r\n            // Validate against it\r\n            if(schema.items[i]) {\r\n              errors = errors.concat(this._validateSchema(schema.items[i],value[i],path+'.'+i));\r\n            }\r\n            // If all additional items are allowed\r\n            else if(schema.additionalItems === true) {\r\n              break;\r\n            }\r\n            // If additional items is a schema\r\n            // TODO: Incompatibility between version 3 and 4 of the spec\r\n            else if(schema.additionalItems) {\r\n              errors = errors.concat(this._validateSchema(schema.additionalItems,value[i],path+'.'+i));\r\n            }\r\n            // If no additional items are allowed\r\n            else if(schema.additionalItems === false) {\r\n              errors.push({\r\n                path: path,\r\n                property: 'additionalItems',\r\n                message: this.translate('error_additionalItems')\r\n              });\r\n              break;\r\n            }\r\n            // Default for `additionalItems` is an empty schema\r\n            else {\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        // `items` is a schema\r\n        else {\r\n          // Each item in the array must validate against the schema\r\n          for(i=0; i<value.length; i++) {\r\n            errors = errors.concat(this._validateSchema(schema.items,value[i],path+'.'+i));\r\n          }\r\n        }\r\n      }\r\n\r\n      // `maxItems`\r\n      if(schema.maxItems) {\r\n        if(value.length > schema.maxItems) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'maxItems',\r\n            message: this.translate('error_maxItems', [schema.maxItems])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `minItems`\r\n      if(schema.minItems) {\r\n        if(value.length < schema.minItems) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'minItems',\r\n            message: this.translate('error_minItems', [schema.minItems])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `uniqueItems`\r\n      if(schema.uniqueItems) {\r\n        var seen = {};\r\n        for(i=0; i<value.length; i++) {\r\n          valid = JSON.stringify(value[i]);\r\n          if(seen[valid]) {\r\n            errors.push({\r\n              path: path,\r\n              property: 'uniqueItems',\r\n              message: this.translate('error_uniqueItems')\r\n            });\r\n            break;\r\n          }\r\n          seen[valid] = true;\r\n        }\r\n      }\r\n    }\r\n    // Object specific validation\r\n    else if(typeof value === \"object\" && value !== null) {\r\n      // `maxProperties`\r\n      if(schema.maxProperties) {\r\n        valid = 0;\r\n        for(i in value) {\r\n          if(!value.hasOwnProperty(i)) continue;\r\n          valid++;\r\n        }\r\n        if(valid > schema.maxProperties) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'maxProperties',\r\n            message: this.translate('error_maxProperties', [schema.maxProperties])\r\n          });\r\n        }\r\n      }\r\n\r\n      // `minProperties`\r\n      if(schema.minProperties) {\r\n        valid = 0;\r\n        for(i in value) {\r\n          if(!value.hasOwnProperty(i)) continue;\r\n          valid++;\r\n        }\r\n        if(valid < schema.minProperties) {\r\n          errors.push({\r\n            path: path,\r\n            property: 'minProperties',\r\n            message: this.translate('error_minProperties', [schema.minProperties])\r\n          });\r\n        }\r\n      }\r\n\r\n      // Version 4 `required`\r\n      if(schema.required && Array.isArray(schema.required)) {\r\n        for(i=0; i<schema.required.length; i++) {\r\n          if(typeof value[schema.required[i]] === \"undefined\") {\r\n            errors.push({\r\n              path: path,\r\n              property: 'required',\r\n              message: this.translate('error_required', [schema.required[i]])\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      // `properties`\r\n      var validated_properties = {};\r\n      if(schema.properties) {\r\n        for(i in schema.properties) {\r\n          if(!schema.properties.hasOwnProperty(i)) continue;\r\n          validated_properties[i] = true;\r\n          errors = errors.concat(this._validateSchema(schema.properties[i],value[i],path+'.'+i));\r\n        }\r\n      }\r\n\r\n      // `patternProperties`\r\n      if(schema.patternProperties) {\r\n        for(i in schema.patternProperties) {\r\n          if(!schema.patternProperties.hasOwnProperty(i)) continue;\r\n\r\n          var regex = new RegExp(i);\r\n\r\n          // Check which properties match\r\n          for(j in value) {\r\n            if(!value.hasOwnProperty(j)) continue;\r\n            if(regex.test(j)) {\r\n              validated_properties[j] = true;\r\n              errors = errors.concat(this._validateSchema(schema.patternProperties[i],value[j],path+'.'+j));\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\r\n      if(typeof schema.additionalProperties === \"undefined\" && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\r\n        schema.additionalProperties = false;\r\n      }\r\n\r\n      // `additionalProperties`\r\n      if(typeof schema.additionalProperties !== \"undefined\") {\r\n        for(i in value) {\r\n          if(!value.hasOwnProperty(i)) continue;\r\n          if(!validated_properties[i]) {\r\n            // No extra properties allowed\r\n            if(!schema.additionalProperties) {\r\n              errors.push({\r\n                path: path,\r\n                property: 'additionalProperties',\r\n                message: this.translate('error_additional_properties', [i])\r\n              });\r\n              break;\r\n            }\r\n            // Allowed\r\n            else if(schema.additionalProperties === true) {\r\n              break;\r\n            }\r\n            // Must match schema\r\n            // TODO: incompatibility between version 3 and 4 of the spec\r\n            else {\r\n              errors = errors.concat(this._validateSchema(schema.additionalProperties,value[i],path+'.'+i));\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // `dependencies`\r\n      if(schema.dependencies) {\r\n        for(i in schema.dependencies) {\r\n          if(!schema.dependencies.hasOwnProperty(i)) continue;\r\n\r\n          // Doesn't need to meet the dependency\r\n          if(typeof value[i] === \"undefined\") continue;\r\n\r\n          // Property dependency\r\n          if(Array.isArray(schema.dependencies[i])) {\r\n            for(j=0; j<schema.dependencies[i].length; j++) {\r\n              if(typeof value[schema.dependencies[i][j]] === \"undefined\") {\r\n                errors.push({\r\n                  path: path,\r\n                  property: 'dependencies',\r\n                  message: this.translate('error_dependency', [schema.dependencies[i][j]])\r\n                });\r\n              }\r\n            }\r\n          }\r\n          // Schema dependency\r\n          else {\r\n            errors = errors.concat(this._validateSchema(schema.dependencies[i],value,path));\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Custom type validation (global)\r\n    $each(JSONEditor.defaults.custom_validators,function(i,validator) {\r\n      errors = errors.concat(validator.call(self,schema,value,path));\r\n    });\r\n    // Custom type validation (instance specific)\r\n    if(this.options.custom_validators) {\r\n      $each(this.options.custom_validators,function(i,validator) {\r\n        errors = errors.concat(validator.call(self,schema,value,path));\r\n      });\r\n    }\r\n\r\n    return errors;\r\n  },\r\n  _checkType: function(type, value) {\r\n    // Simple types\r\n    if(typeof type === \"string\") {\r\n      if(type===\"string\") return typeof value === \"string\";\r\n      else if(type===\"number\") return typeof value === \"number\";\r\n      else if(type===\"integer\") return typeof value === \"number\" && value === Math.floor(value);\r\n      else if(type===\"boolean\") return typeof value === \"boolean\";\r\n      else if(type===\"array\") return Array.isArray(value);\r\n      else if(type === \"object\") return value !== null && !(Array.isArray(value)) && typeof value === \"object\";\r\n      else if(type === \"null\") return value === null;\r\n      else return true;\r\n    }\r\n    // Schema\r\n    else {\r\n      return !this._validateSchema(type,value).length;\r\n    }\r\n  }\r\n});\r\n",
    "/**\r\n * All editors should extend from this class\r\n */\r\nJSONEditor.AbstractEditor = Class.extend({\r\n  onChildEditorChange: function(editor) {\r\n    this.onChange(true);\r\n  },\r\n  notify: function() {\r\n    this.jsoneditor.notifyWatchers(this.path);\r\n  },\r\n  change: function() {\r\n    if(this.parent) this.parent.onChildEditorChange(this);\r\n    else this.jsoneditor.onChange();\r\n  },\r\n  onChange: function(bubble) {\r\n    this.notify();\r\n    if(this.watch_listener) this.watch_listener();\r\n    if(bubble) this.change();\r\n  },\r\n  register: function() {\r\n    this.jsoneditor.registerEditor(this);\r\n    this.onChange();\r\n  },\r\n  unregister: function() {\r\n    if(!this.jsoneditor) return;\r\n    this.jsoneditor.unregisterEditor(this);\r\n  },\r\n  getNumColumns: function() {\r\n    return 12;\r\n  },\r\n  init: function(options) {\r\n    this.jsoneditor = options.jsoneditor;\r\n    \r\n    this.theme = this.jsoneditor.theme;\r\n    this.template_engine = this.jsoneditor.template;\r\n    this.iconlib = this.jsoneditor.iconlib;\r\n    \r\n    this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\r\n\r\n    this.original_schema = options.schema;\r\n    this.schema = this.jsoneditor.expandSchema(this.original_schema);\r\n    \r\n    this.options = $extend({}, (this.options || {}), (options.schema.options || {}), options);\r\n    \r\n    if(!options.path && !this.schema.id) this.schema.id = 'root';\r\n    this.path = options.path || 'root';\r\n    this.formname = options.formname || this.path.replace(/\\.([^.]+)/g,'[$1]');\r\n    if(this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/,this.jsoneditor.options.form_name_root+'[');\r\n    this.key = this.path.split('.').pop();\r\n    this.parent = options.parent;\r\n    \r\n    this.link_watchers = [];\r\n    \r\n    if(options.container) this.setContainer(options.container);\r\n  },\r\n  setContainer: function(container) {\r\n    this.container = container;\r\n    if(this.schema.id) this.container.setAttribute('data-schemaid',this.schema.id);\r\n    if(this.schema.type && typeof this.schema.type === \"string\") this.container.setAttribute('data-schematype',this.schema.type);\r\n    this.container.setAttribute('data-schemapath',this.path);\r\n  },\r\n  \r\n  preBuild: function() {\r\n\r\n  },\r\n  build: function() {\r\n    \r\n  },\r\n  postBuild: function() {\r\n    this.setupWatchListeners();\r\n    this.addLinks();\r\n    this.setValue(this.getDefault(), true);\r\n    this.updateHeaderText();\r\n    this.register();\r\n    this.onWatchedFieldChange();\r\n  },\r\n  \r\n  setupWatchListeners: function() {\r\n    var self = this;\r\n    \r\n    // Watched fields\r\n    this.watched = {};\r\n    if(this.schema.vars) this.schema.watch = this.schema.vars;\r\n    this.watched_values = {};\r\n    this.watch_listener = function() {\r\n      if(self.refreshWatchedFieldValues()) {\r\n        self.onWatchedFieldChange();\r\n      }\r\n    };\r\n    \r\n    this.register();\r\n    if(this.schema.hasOwnProperty('watch')) {\r\n      var path,path_parts,first,root,adjusted_path;\r\n\r\n      for(var name in this.schema.watch) {\r\n        if(!this.schema.watch.hasOwnProperty(name)) continue;\r\n        path = this.schema.watch[name];\r\n\r\n        if(Array.isArray(path)) {\r\n          path_parts = [path[0]].concat(path[1].split('.'));\r\n        }\r\n        else {\r\n          path_parts = path.split('.');\r\n          if(!self.theme.closest(self.container,'[data-schemaid=\"'+path_parts[0]+'\"]')) path_parts.unshift('#');\r\n        }\r\n        first = path_parts.shift();\r\n\r\n        if(first === '#') first = self.jsoneditor.schema.id || 'root';\r\n\r\n        // Find the root node for this template variable\r\n        root = self.theme.closest(self.container,'[data-schemaid=\"'+first+'\"]');\r\n        if(!root) throw \"Could not find ancestor node with id \"+first;\r\n\r\n        // Keep track of the root node and path for use when rendering the template\r\n        adjusted_path = root.getAttribute('data-schemapath') + '.' + path_parts.join('.');\r\n        \r\n        self.jsoneditor.watch(adjusted_path,self.watch_listener);\r\n        \r\n        self.watched[name] = adjusted_path;\r\n      }\r\n    }\r\n    \r\n    // Dynamic header\r\n    if(this.schema.headerTemplate) {\r\n      this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine);\r\n    }\r\n  },\r\n  \r\n  addLinks: function() {\r\n    // Add links\r\n    if(!this.no_link_holder) {\r\n      this.link_holder = this.theme.getLinksHolder();\r\n      this.container.appendChild(this.link_holder);\r\n      if(this.schema.links) {\r\n        for(var i=0; i<this.schema.links.length; i++) {\r\n          this.addLink(this.getLink(this.schema.links[i]));\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \r\n  \r\n  getButton: function(text, icon, title) {\r\n    var btnClass = 'json-editor-btn-'+icon;\r\n    if(!this.iconlib) icon = null;\r\n    else icon = this.iconlib.getIcon(icon);\r\n    \r\n    if(!icon && title) {\r\n      text = title;\r\n      title = null;\r\n    }\r\n    \r\n    var btn = this.theme.getButton(text, icon, title);\r\n    btn.className += ' ' + btnClass + ' ';\r\n    return btn;\r\n  },\r\n  setButtonText: function(button, text, icon, title) {\r\n    if(!this.iconlib) icon = null;\r\n    else icon = this.iconlib.getIcon(icon);\r\n    \r\n    if(!icon && title) {\r\n      text = title;\r\n      title = null;\r\n    }\r\n    \r\n    return this.theme.setButtonText(button, text, icon, title);\r\n  },\r\n  addLink: function(link) {\r\n    if(this.link_holder) this.link_holder.appendChild(link);\r\n  },\r\n  getLink: function(data) {\r\n    var holder, link;\r\n        \r\n    // Get mime type of the link\r\n    var mime = data.mediaType || 'application/javascript';\r\n    var type = mime.split('/')[0];\r\n    \r\n    // Template to generate the link href\r\n    var href = this.jsoneditor.compileTemplate(data.href,this.template_engine);\r\n    \r\n    // Image links\r\n    if(type === 'image') {\r\n      holder = this.theme.getBlockLinkHolder();\r\n      link = document.createElement('a');\r\n      link.setAttribute('target','_blank');\r\n      var image = document.createElement('img');\r\n      \r\n      this.theme.createImageLink(holder,link,image);\r\n    \r\n      // When a watched field changes, update the url  \r\n      this.link_watchers.push(function(vars) {\r\n        var url = href(vars);\r\n        link.setAttribute('href',url);\r\n        link.setAttribute('title',data.rel || url);\r\n        image.setAttribute('src',url);\r\n      });\r\n    }\r\n    // Audio/Video links\r\n    else if(['audio','video'].indexOf(type) >=0) {\r\n      holder = this.theme.getBlockLinkHolder();\r\n      \r\n      link = this.theme.getBlockLink();\r\n      link.setAttribute('target','_blank');\r\n      \r\n      var media = document.createElement(type);\r\n      media.setAttribute('controls','controls');\r\n      \r\n      this.theme.createMediaLink(holder,link,media);\r\n      \r\n      // When a watched field changes, update the url  \r\n      this.link_watchers.push(function(vars) {\r\n        var url = href(vars);\r\n        link.setAttribute('href',url);\r\n        link.textContent = data.rel || url;\r\n        media.setAttribute('src',url);\r\n      });\r\n    }\r\n    // Text links\r\n    else {\r\n      holder = this.theme.getBlockLink();\r\n      holder.setAttribute('target','_blank');\r\n      holder.textContent = data.rel;\r\n      \r\n      // When a watched field changes, update the url  \r\n      this.link_watchers.push(function(vars) {\r\n        var url = href(vars);\r\n        holder.setAttribute('href',url);\r\n        holder.textContent = data.rel || url;\r\n      });\r\n    }\r\n    \r\n    return holder;\r\n  },\r\n  refreshWatchedFieldValues: function() {\r\n    if(!this.watched_values) return;\r\n    var watched = {};\r\n    var changed = false;\r\n    var self = this;\r\n    \r\n    if(this.watched) {\r\n      var val,editor;\r\n      for(var name in this.watched) {\r\n        if(!this.watched.hasOwnProperty(name)) continue;\r\n        editor = self.jsoneditor.getEditor(this.watched[name]);\r\n        val = editor? editor.getValue() : null;\r\n        if(self.watched_values[name] !== val) changed = true;\r\n        watched[name] = val;\r\n      }\r\n    }\r\n    \r\n    watched.self = this.getValue();\r\n    if(this.watched_values.self !== watched.self) changed = true;\r\n    \r\n    this.watched_values = watched;\r\n    \r\n    return changed;\r\n  },\r\n  getWatchedFieldValues: function() {\r\n    return this.watched_values;\r\n  },\r\n  updateHeaderText: function() {\r\n    if(this.header) {\r\n      // If the header has children, only update the text node's value\r\n      if(this.header.children.length) {\r\n        for(var i=0; i<this.header.childNodes.length; i++) {\r\n          if(this.header.childNodes[i].nodeType===3) {\r\n            this.header.childNodes[i].nodeValue = this.getHeaderText();\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      // Otherwise, just update the entire node\r\n      else {\r\n        this.header.textContent = this.getHeaderText();\r\n      }\r\n    }\r\n  },\r\n  getHeaderText: function(title_only) {\r\n    if(this.header_text) return this.header_text;\r\n    else if(title_only) return this.schema.title;\r\n    else return this.getTitle();\r\n  },\r\n  onWatchedFieldChange: function() {\r\n    var vars;\r\n    if(this.header_template) {      \r\n      vars = $extend(this.getWatchedFieldValues(),{\r\n        key: this.key,\r\n        i: this.key,\r\n        i0: (this.key*1),\r\n        i1: (this.key*1+1),\r\n        title: this.getTitle()\r\n      });\r\n      var header_text = this.header_template(vars);\r\n      \r\n      if(header_text !== this.header_text) {\r\n        this.header_text = header_text;\r\n        this.updateHeaderText();\r\n        this.notify();\r\n        //this.fireChangeHeaderEvent();\r\n      }\r\n    }\r\n    if(this.link_watchers.length) {\r\n      vars = this.getWatchedFieldValues();\r\n      for(var i=0; i<this.link_watchers.length; i++) {\r\n        this.link_watchers[i](vars);\r\n      }\r\n    }\r\n  },\r\n  setValue: function(value) {\r\n    this.value = value;\r\n  },\r\n  getValue: function() {\r\n    return this.value;\r\n  },\r\n  refreshValue: function() {\r\n\r\n  },\r\n  getChildEditors: function() {\r\n    return false;\r\n  },\r\n  destroy: function() {\r\n    var self = this;\r\n    this.unregister(this);\r\n    $each(this.watched,function(name,adjusted_path) {\r\n      self.jsoneditor.unwatch(adjusted_path,self.watch_listener);\r\n    });\r\n    this.watched = null;\r\n    this.watched_values = null;\r\n    this.watch_listener = null;\r\n    this.header_text = null;\r\n    this.header_template = null;\r\n    this.value = null;\r\n    if(this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container);\r\n    this.container = null;\r\n    this.jsoneditor = null;\r\n    this.schema = null;\r\n    this.path = null;\r\n    this.key = null;\r\n    this.parent = null;\r\n  },\r\n  getDefault: function() {\r\n    if(this.schema[\"default\"]) return this.schema[\"default\"];\r\n    if(this.schema[\"enum\"]) return this.schema[\"enum\"][0];\r\n    \r\n    var type = this.schema.type || this.schema.oneOf;\r\n    if(type && Array.isArray(type)) type = type[0];\r\n    if(type && typeof type === \"object\") type = type.type;\r\n    if(type && Array.isArray(type)) type = type[0];\r\n    \r\n    if(typeof type === \"string\") {\r\n      if(type === \"number\") return 0.0;\r\n      if(type === \"boolean\") return false;\r\n      if(type === \"integer\") return 0;\r\n      if(type === \"string\") return \"\";\r\n      if(type === \"object\") return {};\r\n      if(type === \"array\") return [];\r\n    }\r\n    \r\n    return null;\r\n  },\r\n  getTitle: function() {\r\n    return this.schema.title || this.key;\r\n  },\r\n  enable: function() {\r\n    this.disabled = false;\r\n  },\r\n  disable: function() {\r\n    this.disabled = true;\r\n  },\r\n  isEnabled: function() {\r\n    return !this.disabled;\r\n  },\r\n  isRequired: function() {\r\n    if(typeof this.schema.required === \"boolean\") return this.schema.required;\r\n    else if(this.parent && this.parent.schema && Array.isArray(this.parent.schema.required)) return this.parent.schema.required.indexOf(this.key) > -1;\r\n    else if(this.jsoneditor.options.required_by_default) return true;\r\n    else return false;\r\n  },  \r\n  getDisplayText: function(arr) {\r\n    var disp = [];\r\n    var used = {};\r\n    \r\n    // Determine how many times each attribute name is used.\r\n    // This helps us pick the most distinct display text for the schemas.\r\n    $each(arr,function(i,el) {\r\n      if(el.title) {\r\n        used[el.title] = used[el.title] || 0;\r\n        used[el.title]++;\r\n      }\r\n      if(el.description) {\r\n        used[el.description] = used[el.description] || 0;\r\n        used[el.description]++;\r\n      }\r\n      if(el.format) {\r\n        used[el.format] = used[el.format] || 0;\r\n        used[el.format]++;\r\n      }\r\n      if(el.type) {\r\n        used[el.type] = used[el.type] || 0;\r\n        used[el.type]++;\r\n      }\r\n    });\r\n    \r\n    // Determine display text for each element of the array\r\n    $each(arr,function(i,el)  {\r\n      var name;\r\n      \r\n      // If it's a simple string\r\n      if(typeof el === \"string\") name = el;\r\n      // Object\r\n      else if(el.title && used[el.title]<=1) name = el.title;\r\n      else if(el.format && used[el.format]<=1) name = el.format;\r\n      else if(el.type && used[el.type]<=1) name = el.type;\r\n      else if(el.description && used[el.description]<=1) name = el.descripton;\r\n      else if(el.title) name = el.title;\r\n      else if(el.format) name = el.format;\r\n      else if(el.type) name = el.type;\r\n      else if(el.description) name = el.description;\r\n      else if(JSON.stringify(el).length < 50) name = JSON.stringify(el);\r\n      else name = \"type\";\r\n      \r\n      disp.push(name);\r\n    });\r\n    \r\n    // Replace identical display text with \"text 1\", \"text 2\", etc.\r\n    var inc = {};\r\n    $each(disp,function(i,name) {\r\n      inc[name] = inc[name] || 0;\r\n      inc[name]++;\r\n      \r\n      if(used[name] > 1) disp[i] = name + \" \" + inc[name];\r\n    });\r\n    \r\n    return disp;\r\n  },\r\n  getOption: function(key) {\r\n    try {\r\n      throw \"getOption is deprecated\";\r\n    }\r\n    catch(e) {\r\n      window.console.error(e);\r\n    }\r\n    \r\n    return this.options[key];\r\n  },\r\n  showValidationErrors: function(errors) {\r\n\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors[\"null\"] = JSONEditor.AbstractEditor.extend({\r\n  getValue: function() {\r\n    return null;\r\n  },\r\n  setValue: function() {\r\n    this.onChange();\r\n  },\r\n  getNumColumns: function() {\r\n    return 2;\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.string = JSONEditor.AbstractEditor.extend({\r\n  register: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.setAttribute('name',this.formname);\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.removeAttribute('name');\r\n  },\r\n  setValue: function(value,initial,from_template) {\r\n    var self = this;\r\n    \r\n    if(this.template && !from_template) {\r\n      return;\r\n    }\r\n    \r\n    if(value === null || typeof value === 'undefined') value = \"\";\r\n    else if(typeof value === \"object\") value = JSON.stringify(value);\r\n    else if(typeof value !== \"string\") value = \"\"+value;\r\n    \r\n    if(value === this.serialized) return;\r\n\r\n    // Sanitize value before setting it\r\n    var sanitized = this.sanitize(value);\r\n\r\n    if(this.input.value === sanitized) {\r\n      return;\r\n    }\r\n\r\n    this.input.value = sanitized;\r\n    \r\n    // If using SCEditor, update the WYSIWYG\r\n    if(this.sceditor_instance) {\r\n      this.sceditor_instance.val(sanitized);\r\n    }\r\n    else if(this.epiceditor) {\r\n      this.epiceditor.importFile(null,sanitized);\r\n    }\r\n    else if(this.ace_editor) {\r\n      this.ace_editor.setValue(sanitized);\r\n    }\r\n    \r\n    var changed = from_template || this.getValue() !== value;\r\n    \r\n    this.refreshValue();\r\n    \r\n    if(initial) this.is_dirty = false;\r\n    else if(this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\r\n    \r\n    if(this.adjust_height) this.adjust_height(this.input);\r\n\r\n    // Bubble this setValue to parents if the value changed\r\n    this.onChange(changed);\r\n  },\r\n  getNumColumns: function() {\r\n    var min = Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);\r\n    var num;\r\n    \r\n    if(this.input_type === 'textarea') num = 6;\r\n    else if(['text','email'].indexOf(this.input_type) >= 0) num = 4;\r\n    else num = 2;\r\n    \r\n    return Math.min(12,Math.max(min,num));\r\n  },\r\n  build: function() {\r\n    var self = this, i;\r\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\r\n\r\n    this.format = this.schema.format;\r\n    if(!this.format && this.schema.media && this.schema.media.type) {\r\n      this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g,'');\r\n    }\r\n    if(!this.format && this.options.default_format) {\r\n      this.format = this.options.default_format;\r\n    }\r\n    if(this.options.format) {\r\n      this.format = this.options.format;\r\n    }\r\n\r\n    // Specific format\r\n    if(this.format) {\r\n      // Text Area\r\n      if(this.format === 'textarea') {\r\n        this.input_type = 'textarea';\r\n        this.input = this.theme.getTextareaInput();\r\n      }\r\n      // Range Input\r\n      else if(this.format === 'range') {\r\n        this.input_type = 'range';\r\n        var min = this.schema.minimum || 0;\r\n        var max = this.schema.maximum || Math.max(100,min+1);\r\n        var step = 1;\r\n        if(this.schema.multipleOf) {\r\n          if(min%this.schema.multipleOf) min = Math.ceil(min/this.schema.multipleOf)*this.schema.multipleOf;\r\n          if(max%this.schema.multipleOf) max = Math.floor(max/this.schema.multipleOf)*this.schema.multipleOf;\r\n          step = this.schema.multipleOf;\r\n        }\r\n\r\n        this.input = this.theme.getRangeInput(min,max,step);\r\n      }\r\n      // Source Code\r\n      else if([\r\n          'actionscript',\r\n          'batchfile',\r\n          'bbcode',\r\n          'c',\r\n          'c++',\r\n          'cpp',\r\n          'coffee',\r\n          'csharp',\r\n          'css',\r\n          'dart',\r\n          'django',\r\n          'ejs',\r\n          'erlang',\r\n          'golang',\r\n          'handlebars',\r\n          'haskell',\r\n          'haxe',\r\n          'html',\r\n          'ini',\r\n          'jade',\r\n          'java',\r\n          'javascript',\r\n          'json',\r\n          'less',\r\n          'lisp',\r\n          'lua',\r\n          'makefile',\r\n          'markdown',\r\n          'matlab',\r\n          'mysql',\r\n          'objectivec',\r\n          'pascal',\r\n          'perl',\r\n          'pgsql',\r\n          'php',\r\n          'python',\r\n          'r',\r\n          'ruby',\r\n          'sass',\r\n          'scala',\r\n          'scss',\r\n          'smarty',\r\n          'sql',\r\n          'stylus',\r\n          'svg',\r\n          'twig',\r\n          'vbscript',\r\n          'xml',\r\n          'yaml'\r\n        ].indexOf(this.format) >= 0\r\n      ) {\r\n        this.input_type = this.format;\r\n        this.source_code = true;\r\n        \r\n        this.input = this.theme.getTextareaInput();\r\n      }\r\n      // HTML5 Input type\r\n      else {\r\n        this.input_type = this.format;\r\n        this.input = this.theme.getFormInputField(this.input_type);\r\n      }\r\n    }\r\n    // Normal text input\r\n    else {\r\n      this.input_type = 'text';\r\n      this.input = this.theme.getFormInputField(this.input_type);\r\n    }\r\n    \r\n    // minLength, maxLength, and pattern\r\n    if(typeof this.schema.maxLength !== \"undefined\") this.input.setAttribute('maxlength',this.schema.maxLength);\r\n    if(typeof this.schema.pattern !== \"undefined\") this.input.setAttribute('pattern',this.schema.pattern);\r\n    else if(typeof this.schema.minLength !== \"undefined\") this.input.setAttribute('pattern','.{'+this.schema.minLength+',}');\r\n\r\n    if(this.options.compact) {\r\n      this.container.className += ' compact';\r\n    }\r\n    else {\r\n      if(this.options.input_width) this.input.style.width = this.options.input_width;\r\n    }\r\n\r\n    if(this.schema.readOnly || this.schema.readonly || this.schema.template) {\r\n      this.always_disabled = true;\r\n      this.input.disabled = true;\r\n    }\r\n\r\n    this.input\r\n      .addEventListener('change',function(e) {        \r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        \r\n        // Don't allow changing if this field is a template\r\n        if(self.schema.template) {\r\n          this.value = self.value;\r\n          return;\r\n        }\r\n\r\n        var val = this.value;\r\n        \r\n        // sanitize value\r\n        var sanitized = self.sanitize(val);\r\n        if(val !== sanitized) {\r\n          this.value = sanitized;\r\n        }\r\n        \r\n        self.is_dirty = true;\r\n\r\n        self.refreshValue();\r\n        self.onChange(true);\r\n      });\r\n      \r\n    if(this.options.input_height) this.input.style.height = this.options.input_height;\r\n    if(this.options.expand_height) {\r\n      this.adjust_height = function(el) {\r\n        if(!el) return;\r\n        var i, ch=el.offsetHeight;\r\n        // Input too short\r\n        if(el.offsetHeight < el.scrollHeight) {\r\n          i=0;\r\n          while(el.offsetHeight < el.scrollHeight+3) {\r\n            if(i>100) break;\r\n            i++;\r\n            ch++;\r\n            el.style.height = ch+'px';\r\n          }\r\n        }\r\n        else {\r\n          i=0;\r\n          while(el.offsetHeight >= el.scrollHeight+3) {\r\n            if(i>100) break;\r\n            i++;\r\n            ch--;\r\n            el.style.height = ch+'px';\r\n          }\r\n          el.style.height = (ch+1)+'px';\r\n        }\r\n      };\r\n      \r\n      this.input.addEventListener('keyup',function(e) {\r\n        self.adjust_height(this);\r\n      });\r\n      this.input.addEventListener('change',function(e) {\r\n        self.adjust_height(this);\r\n      });\r\n      this.adjust_height();\r\n    }\r\n\r\n    if(this.format) this.input.setAttribute('data-schemaformat',this.format);\r\n\r\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\r\n    this.container.appendChild(this.control);\r\n\r\n    // Any special formatting that needs to happen after the input is added to the dom\r\n    window.requestAnimationFrame(function() {\r\n      // Skip in case the input is only a temporary editor,\r\n      // otherwise, in the case of an ace_editor creation,\r\n      // it will generate an error trying to append it to the missing parentNode\r\n      if(self.input.parentNode) self.afterInputReady();\r\n      if(self.adjust_height) self.adjust_height(self.input);\r\n    });\r\n\r\n    // Compile and store the template\r\n    if(this.schema.template) {\r\n      this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\r\n      this.refreshValue();\r\n    }\r\n    else {\r\n      this.refreshValue();\r\n    }\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) {\r\n      this.input.disabled = false;\r\n      // TODO: WYSIWYG and Markdown editors\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    this.input.disabled = true;\r\n    // TODO: WYSIWYG and Markdown editors\r\n    this._super();\r\n  },\r\n  afterInputReady: function() {\r\n    var self = this, options;\r\n    \r\n    // Code editor\r\n    if(this.source_code) {      \r\n      // WYSIWYG html and bbcode editor\r\n      if(this.options.wysiwyg && \r\n        ['html','bbcode'].indexOf(this.input_type) >= 0 && \r\n        window.jQuery && window.jQuery.fn && window.jQuery.fn.sceditor\r\n      ) {\r\n        options = $extend({},{\r\n          plugins: self.input_type==='html'? 'xhtml' : 'bbcode',\r\n          emoticonsEnabled: false,\r\n          width: '100%',\r\n          height: 300\r\n        },JSONEditor.plugins.sceditor,self.options.sceditor_options||{});\r\n        \r\n        window.jQuery(self.input).sceditor(options);\r\n        \r\n        self.sceditor_instance = window.jQuery(self.input).sceditor('instance');\r\n        \r\n        self.sceditor_instance.blur(function() {\r\n          // Get editor's value\r\n          var val = window.jQuery(\"<div>\"+self.sceditor_instance.val()+\"</div>\");\r\n          // Remove sceditor spans/divs\r\n          window.jQuery('#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf',val).remove();\r\n          // Set the value and update\r\n          self.input.value = val.html();\r\n          self.value = self.input.value;\r\n          self.is_dirty = true;\r\n          self.onChange(true);\r\n        });\r\n      }\r\n      // EpicEditor for markdown (if it's loaded)\r\n      else if (this.input_type === 'markdown' && window.EpicEditor) {\r\n        this.epiceditor_container = document.createElement('div');\r\n        this.input.parentNode.insertBefore(this.epiceditor_container,this.input);\r\n        this.input.style.display = 'none';\r\n        \r\n        options = $extend({},JSONEditor.plugins.epiceditor,{\r\n          container: this.epiceditor_container,\r\n          clientSideStorage: false\r\n        });\r\n        \r\n        this.epiceditor = new window.EpicEditor(options).load();\r\n        \r\n        this.epiceditor.importFile(null,this.getValue());\r\n      \r\n        this.epiceditor.on('update',function() {\r\n          var val = self.epiceditor.exportFile();\r\n          self.input.value = val;\r\n          self.value = val;\r\n          self.is_dirty = true;\r\n          self.onChange(true);\r\n        });\r\n      }\r\n      // ACE editor for everything else\r\n      else if(window.ace) {\r\n        var mode = this.input_type;\r\n        // aliases for c/cpp\r\n        if(mode === 'cpp' || mode === 'c++' || mode === 'c') {\r\n          mode = 'c_cpp';\r\n        }\r\n        \r\n        this.ace_container = document.createElement('div');\r\n        this.ace_container.style.width = '100%';\r\n        this.ace_container.style.position = 'relative';\r\n        this.ace_container.style.height = '400px';\r\n        this.input.parentNode.insertBefore(this.ace_container,this.input);\r\n        this.input.style.display = 'none';\r\n        this.ace_editor = window.ace.edit(this.ace_container);\r\n        \r\n        this.ace_editor.setValue(this.getValue());\r\n        \r\n        // The theme\r\n        if(JSONEditor.plugins.ace.theme) this.ace_editor.setTheme('ace/theme/'+JSONEditor.plugins.ace.theme);\r\n        // The mode\r\n        mode = window.ace.require(\"ace/mode/\"+mode);\r\n        if(mode) this.ace_editor.getSession().setMode(new mode.Mode());\r\n        \r\n        // Listen for changes\r\n        this.ace_editor.on('change',function() {\r\n          var val = self.ace_editor.getValue();\r\n          self.input.value = val;\r\n          self.refreshValue();\r\n          self.is_dirty = true;\r\n          self.onChange(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    self.theme.afterInputReady(self.input);\r\n  },\r\n  refreshValue: function() {\r\n    this.value = this.input.value;\r\n    if(typeof this.value !== \"string\") this.value = '';\r\n    this.serialized = this.value;\r\n  },\r\n  destroy: function() {\r\n    // If using SCEditor, destroy the editor instance\r\n    if(this.sceditor_instance) {\r\n      this.sceditor_instance.destroy();\r\n    }\r\n    else if(this.epiceditor) {\r\n      this.epiceditor.unload();\r\n    }\r\n    else if(this.ace_editor) {\r\n      this.ace_editor.destroy();\r\n    }\r\n    \r\n    \r\n    this.template = null;\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n\r\n    this._super();\r\n  },\r\n  /**\r\n   * This is overridden in derivative editors\r\n   */\r\n  sanitize: function(value) {\r\n    return value;\r\n  },\r\n  /**\r\n   * Re-calculates the value if needed\r\n   */\r\n  onWatchedFieldChange: function() {    \r\n    var self = this, vars, j;\r\n    \r\n    // If this editor needs to be rendered by a macro template\r\n    if(this.template) {\r\n      vars = this.getWatchedFieldValues();\r\n      this.setValue(this.template(vars),false,true);\r\n    }\r\n    \r\n    this._super();\r\n  },\r\n  showValidationErrors: function(errors) {\r\n    var self = this;\r\n    \r\n    if(this.jsoneditor.options.show_errors === \"always\") {}\r\n    else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\r\n    \r\n    this.previous_error_setting = this.jsoneditor.options.show_errors;\r\n\r\n    var messages = [];\r\n    $each(errors,function(i,error) {\r\n      if(error.path === self.path) {\r\n        messages.push(error.message);\r\n      }\r\n    });\r\n\r\n    if(messages.length) {\r\n      this.theme.addInputError(this.input, messages.join('. ')+'.');\r\n    }\r\n    else {\r\n      this.theme.removeInputError(this.input);\r\n    }\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.number = JSONEditor.defaults.editors.string.extend({\r\n  sanitize: function(value) {\r\n    return (value+\"\").replace(/[^0-9\\.\\-eE]/g,'');\r\n  },\r\n  getNumColumns: function() {\r\n    return 2;\r\n  },\r\n  getValue: function() {\r\n    return this.value*1;\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.integer = JSONEditor.defaults.editors.number.extend({\r\n  sanitize: function(value) {\r\n    value = value + \"\";\r\n    return value.replace(/[^0-9\\-]/g,'');\r\n  },\r\n  getNumColumns: function() {\r\n    return 2;\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.object = JSONEditor.AbstractEditor.extend({\r\n  getDefault: function() {\r\n    return $extend({},this.schema[\"default\"] || {});\r\n  },\r\n  getChildEditors: function() {\r\n    return this.editors;\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(this.editors) {\r\n      for(var i in this.editors) {\r\n        if(!this.editors.hasOwnProperty(i)) continue;\r\n        this.editors[i].register();\r\n      }\r\n    }\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(this.editors) {\r\n      for(var i in this.editors) {\r\n        if(!this.editors.hasOwnProperty(i)) continue;\r\n        this.editors[i].unregister();\r\n      }\r\n    }\r\n  },\r\n  getNumColumns: function() {\r\n    return Math.max(Math.min(12,this.maxwidth),3);\r\n  },\r\n  enable: function() {\r\n    if(this.editjson_button) this.editjson_button.disabled = false;\r\n    if(this.addproperty_button) this.addproperty_button.disabled = false;\r\n    \r\n    this._super();\r\n    if(this.editors) {\r\n      for(var i in this.editors) {\r\n        if(!this.editors.hasOwnProperty(i)) continue;\r\n        this.editors[i].enable();\r\n      }\r\n    }\r\n  },\r\n  disable: function() {\r\n    if(this.editjson_button) this.editjson_button.disabled = true;\r\n    if(this.addproperty_button) this.addproperty_button.disabled = true;\r\n    this.hideEditJSON();\r\n    \r\n    this._super();\r\n    if(this.editors) {\r\n      for(var i in this.editors) {\r\n        if(!this.editors.hasOwnProperty(i)) continue;\r\n        this.editors[i].disable();\r\n      }\r\n    }\r\n  },\r\n  layoutEditors: function() {\r\n    var self = this, i, j;\r\n    \r\n    if(!this.row_container) return;\r\n\r\n    // Sort editors by propertyOrder\r\n    this.property_order = Object.keys(this.editors);\r\n    this.property_order = this.property_order.sort(function(a,b) {\r\n      var ordera = self.editors[a].schema.propertyOrder;\r\n      var orderb = self.editors[b].schema.propertyOrder;\r\n      if(typeof ordera !== \"number\") ordera = 1000;\r\n      if(typeof orderb !== \"number\") orderb = 1000;\r\n\r\n      return ordera - orderb;\r\n    });\r\n    \r\n    var container;\r\n    \r\n    if(this.format === 'grid') {\r\n      var rows = [];\r\n      $each(this.property_order, function(j,key) {\r\n        var editor = self.editors[key];\r\n        if(editor.property_removed) return;\r\n        var found = false;\r\n        var width = editor.options.hidden? 0 : (editor.options.grid_columns || editor.getNumColumns());\r\n        var height = editor.options.hidden? 0 : editor.container.offsetHeight;\r\n        // See if the editor will fit in any of the existing rows first\r\n        for(var i=0; i<rows.length; i++) {\r\n          // If the editor will fit in the row horizontally\r\n          if(rows[i].width + width <= 12) {\r\n            // If the editor is close to the other elements in height\r\n            // i.e. Don't put a really tall editor in an otherwise short row or vice versa\r\n            if(!height || (rows[i].minh*0.5 < height && rows[i].maxh*2 > height)) {\r\n              found = i;\r\n            }\r\n          }\r\n        }\r\n        \r\n        // If there isn't a spot in any of the existing rows, start a new row\r\n        if(found === false) {\r\n          rows.push({\r\n            width: 0,\r\n            minh: 999999,\r\n            maxh: 0,\r\n            editors: []\r\n          });\r\n          found = rows.length-1;\r\n        }\r\n        \r\n        rows[found].editors.push({\r\n          key: key,\r\n          //editor: editor,\r\n          width: width,\r\n          height: height\r\n        });\r\n        rows[found].width += width;\r\n        rows[found].minh = Math.min(rows[found].minh,height);\r\n        rows[found].maxh = Math.max(rows[found].maxh,height);\r\n      });\r\n      \r\n      // Make almost full rows width 12\r\n      // Do this by increasing all editors' sizes proprotionately\r\n      // Any left over space goes to the biggest editor\r\n      // Don't touch rows with a width of 6 or less\r\n      for(i=0; i<rows.length; i++) {\r\n        if(rows[i].width < 12) {\r\n          var biggest = false;\r\n          var new_width = 0;\r\n          for(j=0; j<rows[i].editors.length; j++) {\r\n            if(biggest === false) biggest = j;\r\n            else if(rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j;\r\n            rows[i].editors[j].width *= 12/rows[i].width;\r\n            rows[i].editors[j].width = Math.floor(rows[i].editors[j].width);\r\n            new_width += rows[i].editors[j].width;\r\n          }\r\n          if(new_width < 12) rows[i].editors[biggest].width += 12-new_width;\r\n          rows[i].width = 12;\r\n        }\r\n      }\r\n      \r\n      // layout hasn't changed\r\n      if(this.layout === JSON.stringify(rows)) return false;\r\n      this.layout = JSON.stringify(rows);\r\n      \r\n      // Layout the form\r\n      container = document.createElement('div');\r\n      for(i=0; i<rows.length; i++) {\r\n        var row = this.theme.getGridRow();\r\n        container.appendChild(row);\r\n        for(j=0; j<rows[i].editors.length; j++) {\r\n          var key = rows[i].editors[j].key;\r\n          var editor = this.editors[key];\r\n          \r\n          if(editor.options.hidden) editor.container.style.display = 'none';\r\n          else this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width);\r\n          row.appendChild(editor.container);\r\n        }\r\n      }\r\n    }\r\n    // Normal layout\r\n    else {\r\n      container = document.createElement('div');\r\n      $each(this.property_order, function(i,key) {\r\n        var editor = self.editors[key];\r\n        if(editor.property_removed) return;\r\n        var row = self.theme.getGridRow();\r\n        container.appendChild(row);\r\n        \r\n        if(editor.options.hidden) editor.container.style.display = 'none';\r\n        else self.theme.setGridColumnSize(editor.container,12);\r\n        row.appendChild(editor.container);\r\n      });\r\n    }\r\n    this.row_container.innerHTML = '';\r\n    this.row_container.appendChild(container);\r\n  },\r\n  getPropertySchema: function(key) {\r\n    // Schema declared directly in properties\r\n    var schema = this.schema.properties[key] || {};\r\n    schema = $extend({},schema);\r\n    var matched = this.schema.properties[key]? true : false;\r\n    \r\n    // Any matching patternProperties should be merged in\r\n    if(this.schema.patternProperties) {\r\n      for(var i in this.schema.patternProperties) {\r\n        if(!this.schema.patternProperties.hasOwnProperty(i)) continue;\r\n        var regex = new RegExp(i);\r\n        if(regex.test(key)) {\r\n          schema.allOf = schema.allOf || [];\r\n          schema.allOf.push(this.schema.patternProperties[i]);\r\n          matched = true;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Hasn't matched other rules, use additionalProperties schema\r\n    if(!matched && this.schema.additionalProperties && typeof this.schema.additionalProperties === \"object\") {\r\n      schema = $extend({},this.schema.additionalProperties);\r\n    }\r\n    \r\n    return schema;\r\n  },\r\n  preBuild: function() {\r\n    this._super();\r\n\r\n    this.editors = {};\r\n    this.cached_editors = {};\r\n    var self = this;\r\n\r\n    this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal';\r\n\r\n    this.schema.properties = this.schema.properties || {};\r\n\r\n    this.minwidth = 0;\r\n    this.maxwidth = 0;\r\n\r\n    // If the object should be rendered as a table row\r\n    if(this.options.table_row) {\r\n      $each(this.schema.properties, function(key,schema) {\r\n        var editor = self.jsoneditor.getEditorClass(schema);\r\n        self.editors[key] = self.jsoneditor.createEditor(editor,{\r\n          jsoneditor: self.jsoneditor,\r\n          schema: schema,\r\n          path: self.path+'.'+key,\r\n          parent: self,\r\n          compact: true,\r\n          required: true\r\n        });\r\n        self.editors[key].preBuild();\r\n\r\n        var width = self.editors[key].options.hidden? 0 : (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\r\n\r\n        self.minwidth += width;\r\n        self.maxwidth += width;\r\n      });\r\n      this.no_link_holder = true;\r\n    }\r\n    // If the object should be rendered as a table\r\n    else if(this.options.table) {\r\n      // TODO: table display format\r\n      throw \"Not supported yet\";\r\n    }\r\n    // If the object should be rendered as a div\r\n    else {\r\n      this.defaultProperties = this.schema.defaultProperties || Object.keys(this.schema.properties);\r\n\r\n      // Increase the grid width to account for padding\r\n      self.maxwidth += 1;\r\n\r\n      $each(this.defaultProperties, function(i,key) {\r\n        self.addObjectProperty(key, true);\r\n\r\n        if(self.editors[key]) {\r\n          self.minwidth = Math.max(self.minwidth,(self.editors[key].options.grid_columns || self.editors[key].getNumColumns()));\r\n          self.maxwidth += (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Sort editors by propertyOrder\r\n    this.property_order = Object.keys(this.editors);\r\n    this.property_order = this.property_order.sort(function(a,b) {\r\n      var ordera = self.editors[a].schema.propertyOrder;\r\n      var orderb = self.editors[b].schema.propertyOrder;\r\n      if(typeof ordera !== \"number\") ordera = 1000;\r\n      if(typeof orderb !== \"number\") orderb = 1000;\r\n\r\n      return ordera - orderb;\r\n    });\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n\r\n    // If the object should be rendered as a table row\r\n    if(this.options.table_row) {\r\n      this.editor_holder = this.container;\r\n      $each(this.editors, function(key,editor) {\r\n        var holder = self.theme.getTableCell();\r\n        self.editor_holder.appendChild(holder);\r\n\r\n        editor.setContainer(holder);\r\n        editor.build();\r\n        editor.postBuild();\r\n\r\n        if(self.editors[key].options.hidden) {\r\n          holder.style.display = 'none';\r\n        }\r\n        if(self.editors[key].options.input_width) {\r\n          holder.style.width = self.editors[key].options.input_width;\r\n        }\r\n      });\r\n    }\r\n    // If the object should be rendered as a table\r\n    else if(this.options.table) {\r\n      // TODO: table display format\r\n      throw \"Not supported yet\";\r\n    }\r\n    // If the object should be rendered as a div\r\n    else {\r\n      this.header = document.createElement('span');\r\n      this.header.textContent = this.getTitle();\r\n      this.title = this.theme.getHeader(this.header);\r\n      this.container.appendChild(this.title);\r\n      this.container.style.position = 'relative';\r\n      \r\n      // Edit JSON modal\r\n      this.editjson_holder = this.theme.getModal();\r\n      this.editjson_textarea = this.theme.getTextareaInput();\r\n      this.editjson_textarea.style.height = '170px';\r\n      this.editjson_textarea.style.width = '300px';\r\n      this.editjson_textarea.style.display = 'block';\r\n      this.editjson_save = this.getButton('Save','save','Save');\r\n      this.editjson_save.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        self.saveJSON();\r\n      });\r\n      this.editjson_cancel = this.getButton('Cancel','cancel','Cancel');\r\n      this.editjson_cancel.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        self.hideEditJSON();\r\n      });\r\n      this.editjson_holder.appendChild(this.editjson_textarea);\r\n      this.editjson_holder.appendChild(this.editjson_save);\r\n      this.editjson_holder.appendChild(this.editjson_cancel);\r\n      \r\n      // Manage Properties modal\r\n      this.addproperty_holder = this.theme.getModal();\r\n      this.addproperty_list = document.createElement('div');\r\n      this.addproperty_list.style.width = '295px';\r\n      this.addproperty_list.style.maxHeight = '160px';\r\n      this.addproperty_list.style.padding = '5px 0';\r\n      this.addproperty_list.style.overflowY = 'auto';\r\n      this.addproperty_list.style.overflowX = 'hidden';\r\n      this.addproperty_list.style.paddingLeft = '5px';\r\n      this.addproperty_list.setAttribute('class', 'property-selector');\r\n      this.addproperty_add = this.getButton('add','add','add');\r\n      this.addproperty_input = this.theme.getFormInputField('text');\r\n      this.addproperty_input.setAttribute('placeholder','Property name...');\r\n      this.addproperty_input.style.width = '220px';\r\n      this.addproperty_input.style.marginBottom = '0';\r\n      this.addproperty_input.style.display = 'inline-block';\r\n      this.addproperty_add.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if(self.addproperty_input.value) {\r\n          if(self.editors[self.addproperty_input.value]) {\r\n            window.alert('there is already a property with that name');\r\n            return;\r\n          }\r\n          \r\n          self.addObjectProperty(self.addproperty_input.value);\r\n          if(self.editors[self.addproperty_input.value]) {\r\n            self.editors[self.addproperty_input.value].disable();\r\n          }\r\n          self.onChange(true);\r\n        }\r\n      });\r\n      this.addproperty_holder.appendChild(this.addproperty_list);\r\n      this.addproperty_holder.appendChild(this.addproperty_input);\r\n      this.addproperty_holder.appendChild(this.addproperty_add);\r\n      var spacer = document.createElement('div');\r\n      spacer.style.clear = 'both';\r\n      this.addproperty_holder.appendChild(spacer);\r\n      \r\n      \r\n      // Description\r\n      if(this.schema.description) {\r\n        this.description = this.theme.getDescription(this.schema.description);\r\n        this.container.appendChild(this.description);\r\n      }\r\n      \r\n      // Validation error placeholder area\r\n      this.error_holder = document.createElement('div');\r\n      this.container.appendChild(this.error_holder);\r\n      \r\n      // Container for child editor area\r\n      this.editor_holder = this.theme.getIndentedPanel();\r\n      this.container.appendChild(this.editor_holder);\r\n\r\n      // Container for rows of child editors\r\n      this.row_container = this.theme.getGridContainer();\r\n      this.editor_holder.appendChild(this.row_container);\r\n\r\n      $each(this.editors, function(key,editor) {\r\n        var holder = self.theme.getGridColumn();\r\n        self.row_container.appendChild(holder);\r\n\r\n        editor.setContainer(holder);\r\n        editor.build();\r\n        editor.postBuild();\r\n      });\r\n\r\n      // Control buttons\r\n      this.title_controls = this.theme.getHeaderButtonHolder();\r\n      this.editjson_controls = this.theme.getHeaderButtonHolder();\r\n      this.addproperty_controls = this.theme.getHeaderButtonHolder();\r\n      this.title.appendChild(this.title_controls);\r\n      this.title.appendChild(this.editjson_controls);\r\n      this.title.appendChild(this.addproperty_controls);\r\n\r\n      // Show/Hide button\r\n      this.collapsed = false;\r\n      this.toggle_button = this.getButton('','collapse','Collapse');\r\n      this.title_controls.appendChild(this.toggle_button);\r\n      this.toggle_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if(self.collapsed) {\r\n          self.editor_holder.style.display = '';\r\n          self.collapsed = false;\r\n          self.setButtonText(self.toggle_button,'','collapse','Collapse');\r\n        }\r\n        else {\r\n          self.editor_holder.style.display = 'none';\r\n          self.collapsed = true;\r\n          self.setButtonText(self.toggle_button,'','expand','Expand');\r\n        }\r\n      });\r\n\r\n      // If it should start collapsed\r\n      if(this.options.collapsed) {\r\n        $trigger(this.toggle_button,'click');\r\n      }\r\n      \r\n      // Collapse button disabled\r\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\r\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\r\n      }\r\n      else if(this.jsoneditor.options.disable_collapse) {\r\n        this.toggle_button.style.display = 'none';\r\n      }\r\n      \r\n      // Edit JSON Button\r\n      this.editjson_button = this.getButton('JSON','edit','Edit JSON');\r\n      this.editjson_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        self.toggleEditJSON();\r\n      });\r\n      this.editjson_controls.appendChild(this.editjson_button);\r\n      this.editjson_controls.appendChild(this.editjson_holder);\r\n      \r\n      // Edit JSON Buttton disabled\r\n      if(this.schema.options && typeof this.schema.options.disable_edit_json !== \"undefined\") {\r\n        if(this.schema.options.disable_edit_json) this.editjson_button.style.display = 'none';\r\n      }\r\n      else if(this.jsoneditor.options.disable_edit_json) {\r\n        this.editjson_button.style.display = 'none';\r\n      }\r\n      \r\n      // Object Properties Button\r\n      this.addproperty_button = this.getButton('Properties','edit','Object Properties');\r\n      this.addproperty_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        self.toggleAddProperty();\r\n      });\r\n      this.addproperty_controls.appendChild(this.addproperty_button);\r\n      this.addproperty_controls.appendChild(this.addproperty_holder);\r\n      this.refreshAddProperties();\r\n    }\r\n    \r\n    // Fix table cell ordering\r\n    if(this.options.table_row) {\r\n      this.editor_holder = this.container;\r\n      $each(this.property_order,function(i,key) {\r\n        self.editor_holder.appendChild(self.editors[key].container);\r\n      });\r\n    }\r\n    // Layout object editors in grid if needed\r\n    else {\r\n      // Initial layout\r\n      this.layoutEditors();\r\n      // Do it again now that we know the approximate heights of elements\r\n      this.layoutEditors();\r\n    }\r\n  },\r\n  showEditJSON: function() {\r\n    if(!this.editjson_holder) return;\r\n    this.hideAddProperty();\r\n    \r\n    // Position the form directly beneath the button\r\n    // TODO: edge detection\r\n    this.editjson_holder.style.left = this.editjson_button.offsetLeft+\"px\";\r\n    this.editjson_holder.style.top = this.editjson_button.offsetTop + this.editjson_button.offsetHeight+\"px\";\r\n    \r\n    // Start the textarea with the current value\r\n    this.editjson_textarea.value = JSON.stringify(this.getValue(),null,2);\r\n    \r\n    // Disable the rest of the form while editing JSON\r\n    this.disable();\r\n    \r\n    this.editjson_holder.style.display = '';\r\n    this.editjson_button.disabled = false;\r\n    this.editing_json = true;\r\n  },\r\n  hideEditJSON: function() {\r\n    if(!this.editjson_holder) return;\r\n    if(!this.editing_json) return;\r\n    \r\n    this.editjson_holder.style.display = 'none';\r\n    this.enable();\r\n    this.editing_json = false;\r\n  },\r\n  saveJSON: function() {\r\n    if(!this.editjson_holder) return;\r\n    \r\n    try {\r\n      var json = JSON.parse(this.editjson_textarea.value);\r\n      this.setValue(json);\r\n      this.hideEditJSON();\r\n    }\r\n    catch(e) {\r\n      window.alert('invalid JSON');\r\n      throw e;\r\n    }\r\n  },\r\n  toggleEditJSON: function() {\r\n    if(this.editing_json) this.hideEditJSON();\r\n    else this.showEditJSON();\r\n  },\r\n  insertPropertyControlUsingPropertyOrder: function (property, control, container) {\r\n    var propertyOrder;\r\n    if (this.schema.properties[property])\r\n      propertyOrder = this.schema.properties[property].propertyOrder;\r\n    if (typeof propertyOrder !== \"number\") propertyOrder = 1000;\r\n    control.propertyOrder = propertyOrder;\r\n\r\n    for (var i = 0; i < container.childNodes.length; i++) {\r\n      var child = container.childNodes[i];\r\n      if (control.propertyOrder < child.propertyOrder) {\r\n        this.addproperty_list.insertBefore(control, child);\r\n        control = null;\r\n        break;\r\n      }\r\n    }\r\n    if (control) {\r\n      this.addproperty_list.appendChild(control);\r\n    }\r\n  },\r\n  addPropertyCheckbox: function(key) {\r\n    var self = this;\r\n    var checkbox, label, labelText, control;\r\n\r\n    checkbox = self.theme.getCheckbox();\r\n    checkbox.style.width = 'auto';\r\n\r\n    if (this.schema.properties[key] && this.schema.properties[key].title)\r\n      labelText = this.schema.properties[key].title;\r\n    else\r\n      labelText = key;\r\n\r\n    label = self.theme.getCheckboxLabel(labelText);\r\n\r\n    control = self.theme.getFormControl(label,checkbox);\r\n    control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0;\r\n    control.style.height = 'auto';\r\n    //control.style.overflowY = 'hidden';\r\n\r\n    this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list);\r\n\r\n    checkbox.checked = key in this.editors;\r\n    checkbox.addEventListener('change',function() {\r\n      if(checkbox.checked) {\r\n        self.addObjectProperty(key);\r\n      }\r\n      else {\r\n        self.removeObjectProperty(key);\r\n      }\r\n      self.onChange(true);\r\n    });\r\n    self.addproperty_checkboxes[key] = checkbox;\r\n    \r\n    return checkbox;\r\n  },\r\n  showAddProperty: function() {\r\n    if(!this.addproperty_holder) return;\r\n    this.hideEditJSON();\r\n    \r\n    // Position the form directly beneath the button\r\n    // TODO: edge detection\r\n    this.addproperty_holder.style.left = this.addproperty_button.offsetLeft+\"px\";\r\n    this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight+\"px\";\r\n    \r\n    // Disable the rest of the form while editing JSON\r\n    this.disable();\r\n    \r\n    this.adding_property = true;\r\n    this.addproperty_button.disabled = false;\r\n    this.addproperty_holder.style.display = '';\r\n    this.refreshAddProperties();\r\n  },\r\n  hideAddProperty: function() {\r\n    if(!this.addproperty_holder) return;\r\n    if(!this.adding_property) return;\r\n    \r\n    this.addproperty_holder.style.display = 'none';\r\n    this.enable();\r\n    \r\n    this.adding_property = false;\r\n  },\r\n  toggleAddProperty: function() {\r\n    if(this.adding_property) this.hideAddProperty();\r\n    else this.showAddProperty();\r\n  },\r\n  removeObjectProperty: function(property) {\r\n    if(this.editors[property]) {\r\n      this.editors[property].unregister();\r\n      delete this.editors[property];\r\n      \r\n      this.refreshValue();\r\n      this.layoutEditors();\r\n    }\r\n  },\r\n  addObjectProperty: function(name, prebuild_only) {\r\n    var self = this;\r\n    \r\n    // Property is already added\r\n    if(this.editors[name]) return;\r\n    \r\n    // Property was added before and is cached\r\n    if(this.cached_editors[name]) {\r\n      this.editors[name] = this.cached_editors[name];\r\n      if(prebuild_only) return;\r\n      this.editors[name].register();\r\n    }\r\n    // New property\r\n    else {\r\n      if(!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\r\n        return;\r\n      }\r\n\r\n      var schema = self.getPropertySchema(name);\r\n      \r\n            \r\n      // Add the property\r\n      var editor = self.jsoneditor.getEditorClass(schema);\r\n\r\n      self.editors[name] = self.jsoneditor.createEditor(editor,{\r\n        jsoneditor: self.jsoneditor,\r\n        schema: schema,\r\n        path: self.path+'.'+name,\r\n        parent: self\r\n      });\r\n      self.editors[name].preBuild();\r\n      \r\n      if(!prebuild_only) {\r\n        var holder = self.theme.getChildEditorHolder();\r\n        self.editor_holder.appendChild(holder);\r\n        self.editors[name].setContainer(holder);\r\n        self.editors[name].build();\r\n        self.editors[name].postBuild();\r\n      }\r\n      \r\n      self.cached_editors[name] = self.editors[name];\r\n    }\r\n    \r\n    // If we're only prebuilding the editors, don't refresh values\r\n    if(!prebuild_only) {\r\n      self.refreshValue();\r\n      self.layoutEditors();\r\n    }\r\n  },\r\n  onChildEditorChange: function(editor) {\r\n    this.refreshValue();\r\n    this._super(editor);\r\n  },\r\n  canHaveAdditionalProperties: function() {\r\n    if (typeof this.schema.additionalProperties === \"boolean\") {\r\n      return this.schema.additionalProperties;\r\n    }\r\n    return !this.jsoneditor.options.no_additional_properties;\r\n  },\r\n  destroy: function() {\r\n    $each(this.cached_editors, function(i,el) {\r\n      el.destroy();\r\n    });\r\n    if(this.editor_holder) this.editor_holder.innerHTML = '';\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder);\r\n\r\n    this.editors = null;\r\n    this.cached_editors = null;\r\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\r\n    this.editor_holder = null;\r\n\r\n    this._super();\r\n  },\r\n  getValue: function() {\r\n    var result = this._super();\r\n    if(this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\r\n      for(var i in result) {\r\n        if(result.hasOwnProperty(i)) {\r\n          if(!result[i]) delete result[i];\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  },\r\n  refreshValue: function() {\r\n    this.value = {};\r\n    var self = this;\r\n    \r\n    for(var i in this.editors) {\r\n      if(!this.editors.hasOwnProperty(i)) continue;\r\n      this.value[i] = this.editors[i].getValue();\r\n    }\r\n    \r\n    if(this.adding_property) this.refreshAddProperties();\r\n  },\r\n  refreshAddProperties: function() {\r\n    if(this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\r\n      this.addproperty_controls.style.display = 'none';\r\n      return;\r\n    }\r\n\r\n    var can_add = false, can_remove = false, num_props = 0, i, show_modal = false;\r\n    \r\n    // Get number of editors\r\n    for(i in this.editors) {\r\n      if(!this.editors.hasOwnProperty(i)) continue;\r\n      num_props++;\r\n    }\r\n    \r\n    // Determine if we can add back removed properties\r\n    can_add = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== \"undefined\" && num_props >= this.schema.maxProperties);\r\n    \r\n    if(this.addproperty_checkboxes) {\r\n      this.addproperty_list.innerHTML = '';\r\n    }\r\n    this.addproperty_checkboxes = {};\r\n    \r\n    // Check for which editors can't be removed or added back\r\n    for(i in this.cached_editors) {\r\n      if(!this.cached_editors.hasOwnProperty(i)) continue;\r\n      \r\n      this.addPropertyCheckbox(i);\r\n      \r\n      if(this.isRequired(this.cached_editors[i]) && i in this.editors) {\r\n        this.addproperty_checkboxes[i].disabled = true;\r\n      }\r\n      \r\n      if(typeof this.schema.minProperties !== \"undefined\" && num_props <= this.schema.minProperties) {\r\n        this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked;\r\n        if(!this.addproperty_checkboxes[i].checked) show_modal = true;\r\n      }\r\n      else if(!(i in this.editors)) {\r\n        if(!can_add  && !this.schema.properties.hasOwnProperty(i)) {\r\n          this.addproperty_checkboxes[i].disabled = true;\r\n        }\r\n        else {\r\n          this.addproperty_checkboxes[i].disabled = false;\r\n          show_modal = true;\r\n        }\r\n      }\r\n      else {\r\n        show_modal = true;\r\n        can_remove = true;\r\n      }\r\n    }\r\n    \r\n    if(this.canHaveAdditionalProperties()) {\r\n      show_modal = true;\r\n    }\r\n    \r\n    // Additional addproperty checkboxes not tied to a current editor\r\n    for(i in this.schema.properties) {\r\n      if(!this.schema.properties.hasOwnProperty(i)) continue;\r\n      if(this.cached_editors[i]) continue;\r\n      show_modal = true;\r\n      this.addPropertyCheckbox(i);\r\n    }\r\n    \r\n    // If no editors can be added or removed, hide the modal button\r\n    if(!show_modal) {\r\n      this.hideAddProperty();\r\n      this.addproperty_controls.style.display = 'none';\r\n    }\r\n    // If additional properties are disabled\r\n    else if(!this.canHaveAdditionalProperties()) {\r\n      this.addproperty_add.style.display = 'none';\r\n      this.addproperty_input.style.display = 'none';\r\n    }\r\n    // If no new properties can be added\r\n    else if(!can_add) {\r\n      this.addproperty_add.disabled = true;\r\n    }\r\n    // If new properties can be added\r\n    else {\r\n      this.addproperty_add.disabled = false;\r\n    }\r\n  },\r\n  isRequired: function(editor) {\r\n    if(typeof editor.schema.required === \"boolean\") return editor.schema.required;\r\n    else if(Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1;\r\n    else if(this.jsoneditor.options.required_by_default) return true;\r\n    else return false;\r\n  },\r\n  setValue: function(value, initial) {\r\n    var self = this;\r\n    value = value || {};\r\n    \r\n    if(typeof value !== \"object\" || Array.isArray(value)) value = {};\r\n\r\n    // First, set the values for all of the defined properties\r\n    $each(this.cached_editors, function(i,editor) {\r\n      // Value explicitly set\r\n      if(typeof value[i] !== \"undefined\") {\r\n        self.addObjectProperty(i);\r\n        editor.setValue(value[i],initial);\r\n      }\r\n      // Otherwise, remove value unless this is the initial set or it's required\r\n      else if(!initial && !self.isRequired(editor)) {\r\n        self.removeObjectProperty(i);\r\n      }\r\n      // Otherwise, set the value to the default\r\n      else {\r\n        editor.setValue(editor.getDefault(),initial);\r\n      }\r\n    });\r\n\r\n    $each(value, function(i,val) {\r\n      if(!self.cached_editors[i]) {\r\n        self.addObjectProperty(i);\r\n        if(self.editors[i]) self.editors[i].setValue(val,initial);\r\n      }\r\n    });\r\n    \r\n    this.refreshValue();\r\n    this.layoutEditors();\r\n    this.onChange();\r\n  },\r\n  showValidationErrors: function(errors) {\r\n    var self = this;\r\n\r\n    // Get all the errors that pertain to this editor\r\n    var my_errors = [];\r\n    var other_errors = [];\r\n    $each(errors, function(i,error) {\r\n      if(error.path === self.path) {\r\n        my_errors.push(error);\r\n      }\r\n      else {\r\n        other_errors.push(error);\r\n      }\r\n    });\r\n\r\n    // Show errors for this editor\r\n    if(this.error_holder) {\r\n      if(my_errors.length) {\r\n        var message = [];\r\n        this.error_holder.innerHTML = '';\r\n        this.error_holder.style.display = '';\r\n        $each(my_errors, function(i,error) {\r\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\r\n        });\r\n      }\r\n      // Hide error area\r\n      else {\r\n        this.error_holder.style.display = 'none';\r\n      }\r\n    }\r\n\r\n    // Show error for the table row if this is inside a table\r\n    if(this.options.table_row) {\r\n      if(my_errors.length) {\r\n        this.theme.addTableRowError(this.container);\r\n      }\r\n      else {\r\n        this.theme.removeTableRowError(this.container);\r\n      }\r\n    }\r\n\r\n    // Show errors for child editors\r\n    $each(this.editors, function(i,editor) {\r\n      editor.showValidationErrors(other_errors);\r\n    });\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.array = JSONEditor.AbstractEditor.extend({\r\n  getDefault: function() {\r\n    return this.schema[\"default\"] || [];\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].register();\r\n      }\r\n    }\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].unregister();\r\n      }\r\n    }\r\n  },\r\n  getNumColumns: function() {\r\n    var info = this.getItemInfo(0);\r\n    // Tabs require extra horizontal space\r\n    if(this.tabs_holder) {\r\n      return Math.max(Math.min(12,info.width+2),4);\r\n    }\r\n    else {\r\n      return info.width;\r\n    }\r\n  },\r\n  enable: function() {\r\n    if(this.add_row_button) this.add_row_button.disabled = false;\r\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = false;\r\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = false;\r\n    \r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].enable();\r\n        \r\n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false;\r\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false;\r\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = false;\r\n      }\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    if(this.add_row_button) this.add_row_button.disabled = true;\r\n    if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = true;\r\n    if(this.delete_last_row_button) this.delete_last_row_button.disabled = true;\r\n\r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].disable();\r\n        \r\n        if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true;\r\n        if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true;\r\n        if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = true;\r\n      }\r\n    }\r\n    this._super();\r\n  },\r\n  preBuild: function() {\r\n    this._super();\r\n    \r\n    this.rows = [];\r\n    this.row_cache = [];\r\n\r\n    this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete;\r\n    this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder;\r\n    this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add;\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n\r\n    if(!this.options.compact) {\r\n      this.header = document.createElement('span');\r\n      this.header.textContent = this.getTitle();\r\n      this.title = this.theme.getHeader(this.header,this.isRequired());\r\n      this.container.appendChild(this.title);\r\n      this.title_controls = this.theme.getHeaderButtonHolder();\r\n      this.title.appendChild(this.title_controls);\r\n      if(this.schema.description) {\r\n        this.description = this.theme.getDescription(this.schema.description);\r\n        this.container.appendChild(this.description);\r\n      }\r\n      this.error_holder = document.createElement('div');\r\n      this.container.appendChild(this.error_holder);\r\n\r\n      if(this.schema.format === 'tabs') {\r\n        this.controls = this.theme.getHeaderButtonHolder();\r\n        this.title.appendChild(this.controls);\r\n        this.tabs_holder = this.theme.getTabHolder();\r\n        this.container.appendChild(this.tabs_holder);\r\n        this.row_holder = this.theme.getTabContentHolder(this.tabs_holder);\r\n\r\n        this.active_tab = null;\r\n      }\r\n      else {\r\n        this.panel = this.theme.getIndentedPanel();\r\n        this.container.appendChild(this.panel);\r\n        this.row_holder = document.createElement('div');\r\n        this.panel.appendChild(this.row_holder);\r\n        this.controls = this.theme.getButtonHolder();\r\n        this.panel.appendChild(this.controls);\r\n      }\r\n    }\r\n    else {\r\n        this.panel = this.theme.getIndentedPanel();\r\n        this.container.appendChild(this.panel);\r\n        this.controls = this.theme.getButtonHolder();\r\n        this.panel.appendChild(this.controls);\r\n        this.row_holder = document.createElement('div');\r\n        this.panel.appendChild(this.row_holder);\r\n    }\r\n\r\n    // Add controls\r\n    this.addControls();\r\n  },\r\n  onChildEditorChange: function(editor) {\r\n    this.refreshValue();\r\n    this.refreshTabs(true);\r\n    this._super(editor);\r\n  },\r\n  getItemTitle: function() {\r\n    if(!this.item_title) {\r\n      if(this.schema.items && !Array.isArray(this.schema.items)) {\r\n        var tmp = this.jsoneditor.expandRefs(this.schema.items);\r\n        this.item_title = tmp.title || 'item';\r\n      }\r\n      else {\r\n        this.item_title = 'item';\r\n      }\r\n    }\r\n    return this.item_title;\r\n  },\r\n  getItemSchema: function(i) {\r\n    if(Array.isArray(this.schema.items)) {\r\n      if(i >= this.schema.items.length) {\r\n        if(this.schema.additionalItems===true) {\r\n          return {};\r\n        }\r\n        else if(this.schema.additionalItems) {\r\n          return $extend({},this.schema.additionalItems);\r\n        }\r\n      }\r\n      else {\r\n        return $extend({},this.schema.items[i]);\r\n      }\r\n    }\r\n    else if(this.schema.items) {\r\n      return $extend({},this.schema.items);\r\n    }\r\n    else {\r\n      return {};\r\n    }\r\n  },\r\n  getItemInfo: function(i) {\r\n    var schema = this.getItemSchema(i);\r\n    \r\n    // Check if it's cached\r\n    this.item_info = this.item_info || {};\r\n    var stringified = JSON.stringify(schema);\r\n    if(typeof this.item_info[stringified] !== \"undefined\") return this.item_info[stringified];\r\n    \r\n    // Get the schema for this item\r\n    schema = this.jsoneditor.expandRefs(schema);\r\n      \r\n    this.item_info[stringified] = {\r\n      title: schema.title || \"item\",\r\n      'default': schema[\"default\"],\r\n      width: 12,\r\n      child_editors: schema.properties || schema.items\r\n    };\r\n    \r\n    return this.item_info[stringified];\r\n  },\r\n  getElementEditor: function(i) {\r\n    var item_info = this.getItemInfo(i);\r\n    var schema = this.getItemSchema(i);\r\n    schema = this.jsoneditor.expandRefs(schema);\r\n    schema.title = item_info.title+' '+(i+1);\r\n\r\n    var editor = this.jsoneditor.getEditorClass(schema);\r\n\r\n    var holder;\r\n    if(this.tabs_holder) {\r\n      holder = this.theme.getTabContent();\r\n    }\r\n    else if(item_info.child_editors) {\r\n      holder = this.theme.getChildEditorHolder();\r\n    }\r\n    else {\r\n      holder = this.theme.getIndentedPanel();\r\n    }\r\n\r\n    this.row_holder.appendChild(holder);\r\n\r\n    var ret = this.jsoneditor.createEditor(editor,{\r\n      jsoneditor: this.jsoneditor,\r\n      schema: schema,\r\n      container: holder,\r\n      path: this.path+'.'+i,\r\n      parent: this,\r\n      required: true\r\n    });\r\n    ret.preBuild();\r\n    ret.build();\r\n    ret.postBuild();\r\n\r\n    if(!ret.title_controls) {\r\n      ret.array_controls = this.theme.getButtonHolder();\r\n      holder.appendChild(ret.array_controls);\r\n    }\r\n    \r\n    return ret;\r\n  },\r\n  destroy: function() {\r\n    this.empty(true);\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\r\n    if(this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls);\r\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\r\n    \r\n    this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null;\r\n\r\n    this._super();\r\n  },\r\n  empty: function(hard) {\r\n    if(!this.rows) return;\r\n    var self = this;\r\n    $each(this.rows,function(i,row) {\r\n      if(hard) {\r\n        if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\r\n        self.destroyRow(row,true);\r\n        self.row_cache[i] = null;\r\n      }\r\n      self.rows[i] = null;\r\n    });\r\n    self.rows = [];\r\n    if(hard) self.row_cache = [];\r\n  },\r\n  destroyRow: function(row,hard) {\r\n    var holder = row.container;\r\n    if(hard) {\r\n      row.destroy();\r\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\r\n      if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\r\n    }\r\n    else {\r\n      if(row.tab) row.tab.style.display = 'none';\r\n      holder.style.display = 'none';\r\n      row.unregister();\r\n    }\r\n  },\r\n  getMax: function() {\r\n    if((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\r\n      return Math.min(this.schema.items.length,this.schema.maxItems || Infinity);\r\n    }\r\n    else {\r\n      return this.schema.maxItems || Infinity;\r\n    }\r\n  },\r\n  refreshTabs: function(refresh_headers) {\r\n    var self = this;\r\n    $each(this.rows, function(i,row) {\r\n      if(!row.tab) return;\r\n\r\n      if(refresh_headers) {\r\n        row.tab_text.textContent = row.getHeaderText();\r\n      }\r\n      else {\r\n        if(row.tab === self.active_tab) {\r\n          self.theme.markTabActive(row.tab);\r\n          row.container.style.display = '';\r\n        }\r\n        else {\r\n          self.theme.markTabInactive(row.tab);\r\n          row.container.style.display = 'none';\r\n        }\r\n      }\r\n    });\r\n  },\r\n  setValue: function(value, initial) {\r\n    // Update the array's value, adding/removing rows when necessary\r\n    value = value || [];\r\n    \r\n    if(!(Array.isArray(value))) value = [value];\r\n    \r\n    var serialized = JSON.stringify(value);\r\n    if(serialized === this.serialized) return;\r\n\r\n    // Make sure value has between minItems and maxItems items in it\r\n    if(this.schema.minItems) {\r\n      while(value.length < this.schema.minItems) {\r\n        value.push(this.getItemInfo(value.length)[\"default\"]);\r\n      }\r\n    }\r\n    if(this.getMax() && value.length > this.getMax()) {\r\n      value = value.slice(0,this.getMax());\r\n    }\r\n\r\n    var self = this;\r\n    $each(value,function(i,val) {\r\n      if(self.rows[i]) {\r\n        // TODO: don't set the row's value if it hasn't changed\r\n        self.rows[i].setValue(val,initial);\r\n      }\r\n      else if(self.row_cache[i]) {\r\n        self.rows[i] = self.row_cache[i];\r\n        self.rows[i].setValue(val,initial);\r\n        self.rows[i].container.style.display = '';\r\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\r\n        self.rows[i].register();\r\n      }\r\n      else {\r\n        self.addRow(val,initial);\r\n      }\r\n    });\r\n\r\n    for(var j=value.length; j<self.rows.length; j++) {\r\n      self.destroyRow(self.rows[j]);\r\n      self.rows[j] = null;\r\n    }\r\n    self.rows = self.rows.slice(0,value.length);\r\n\r\n    // Set the active tab\r\n    var new_active_tab = null;\r\n    $each(self.rows, function(i,row) {\r\n      if(row.tab === self.active_tab) {\r\n        new_active_tab = row.tab;\r\n        return false;\r\n      }\r\n    });\r\n    if(!new_active_tab && self.rows.length) new_active_tab = self.rows[0].tab;\r\n\r\n    self.active_tab = new_active_tab;\r\n\r\n    self.refreshValue(initial);\r\n    self.refreshTabs(true);\r\n    self.refreshTabs();\r\n\r\n    self.onChange();\r\n    \r\n    // TODO: sortable\r\n  },\r\n  refreshValue: function(force) {\r\n    var self = this;\r\n    var oldi = this.value? this.value.length : 0;\r\n    this.value = [];\r\n\r\n    $each(this.rows,function(i,editor) {\r\n      // Get the value for this editor\r\n      self.value[i] = editor.getValue();\r\n    });\r\n    \r\n    if(oldi !== this.value.length || force) {\r\n      // If we currently have minItems items in the array\r\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\r\n      \r\n      $each(this.rows,function(i,editor) {\r\n        // Hide the move down button for the last row\r\n        if(editor.movedown_button) {\r\n          if(i === self.rows.length - 1) {\r\n            editor.movedown_button.style.display = 'none';\r\n          }\r\n          else {\r\n            editor.movedown_button.style.display = '';\r\n          }\r\n        }\r\n\r\n        // Hide the delete button if we have minItems items\r\n        if(editor.delete_button) {\r\n          if(minItems) {\r\n            editor.delete_button.style.display = 'none';\r\n          }\r\n          else {\r\n            editor.delete_button.style.display = '';\r\n          }\r\n        }\r\n\r\n        // Get the value for this editor\r\n        self.value[i] = editor.getValue();\r\n      });\r\n      \r\n      var controls_needed = false;\r\n      \r\n      if(!this.value.length) {\r\n        this.delete_last_row_button.style.display = 'none';\r\n        this.remove_all_rows_button.style.display = 'none';\r\n      }\r\n      else if(this.value.length === 1) {      \r\n        this.remove_all_rows_button.style.display = 'none';  \r\n\r\n        // If there are minItems items in the array, hide the delete button beneath the rows\r\n        if(minItems || this.hide_delete_buttons) {\r\n          this.delete_last_row_button.style.display = 'none';\r\n        }\r\n        else {\r\n          this.delete_last_row_button.style.display = '';\r\n          controls_needed = true;\r\n        }\r\n      }\r\n      else {\r\n        // If there are minItems items in the array, hide the delete button beneath the rows\r\n        if(minItems || this.hide_delete_buttons) {\r\n          this.delete_last_row_button.style.display = 'none';\r\n          this.remove_all_rows_button.style.display = 'none';\r\n        }\r\n        else {\r\n          this.delete_last_row_button.style.display = '';\r\n          this.remove_all_rows_button.style.display = '';\r\n          controls_needed = true;\r\n        }\r\n      }\r\n\r\n      // If there are maxItems in the array, hide the add button beneath the rows\r\n      if((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button){\r\n        this.add_row_button.style.display = 'none';\r\n      }\r\n      else {\r\n        this.add_row_button.style.display = '';\r\n        controls_needed = true;\r\n      } \r\n      \r\n      if(!this.collapsed && controls_needed) {\r\n        this.controls.style.display = 'inline-block';\r\n      }\r\n      else {\r\n        this.controls.style.display = 'none';\r\n      }\r\n    }\r\n  },\r\n  addRow: function(value, initial) {\r\n    var self = this;\r\n    var i = this.rows.length;\r\n    \r\n    self.rows[i] = this.getElementEditor(i);\r\n    self.row_cache[i] = self.rows[i];\r\n\r\n    if(self.tabs_holder) {\r\n      self.rows[i].tab_text = document.createElement('span');\r\n      self.rows[i].tab_text.textContent = self.rows[i].getHeaderText();\r\n      self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text);\r\n      self.rows[i].tab.addEventListener('click', function(e) {\r\n        self.active_tab = self.rows[i].tab;\r\n        self.refreshTabs();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      });\r\n\r\n      self.theme.addTab(self.tabs_holder, self.rows[i].tab);\r\n    }\r\n    \r\n    var controls_holder = self.rows[i].title_controls || self.rows[i].array_controls;\r\n    \r\n    // Buttons to delete row, move row up, and move row down\r\n    if(!self.hide_delete_buttons) {\r\n      self.rows[i].delete_button = this.getButton(self.getItemTitle(),'delete',this.translate('button_delete_row_title',[self.getItemTitle()]));\r\n      self.rows[i].delete_button.className += ' delete';\r\n      self.rows[i].delete_button.setAttribute('data-i',i);\r\n      self.rows[i].delete_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n\r\n        var value = self.getValue();\r\n\r\n        var newval = [];\r\n        var new_active_tab = null;\r\n        $each(value,function(j,row) {\r\n          if(j===i) {\r\n            // If the one we're deleting is the active tab\r\n            if(self.rows[j].tab === self.active_tab) {\r\n              // Make the next tab active if there is one\r\n              // Note: the next tab is going to be the current tab after deletion\r\n              if(self.rows[j+1]) new_active_tab = self.rows[j].tab;\r\n              // Otherwise, make the previous tab active if there is one\r\n              else if(j) new_active_tab = self.rows[j-1].tab;\r\n            }\r\n            \r\n            return; // If this is the one we're deleting\r\n          }\r\n          newval.push(row);\r\n        });\r\n        self.setValue(newval);\r\n        if(new_active_tab) {\r\n          self.active_tab = new_active_tab;\r\n          self.refreshTabs();\r\n        }\r\n\r\n        self.onChange(true);\r\n      });\r\n      \r\n      if(controls_holder) {\r\n        controls_holder.appendChild(self.rows[i].delete_button);\r\n      }\r\n    }\r\n    \r\n    if(i && !self.hide_move_buttons) {\r\n      self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\r\n      self.rows[i].moveup_button.className += ' moveup';\r\n      self.rows[i].moveup_button.setAttribute('data-i',i);\r\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n\r\n        if(i<=0) return;\r\n        var rows = self.getValue();\r\n        var tmp = rows[i-1];\r\n        rows[i-1] = rows[i];\r\n        rows[i] = tmp;\r\n\r\n        self.setValue(rows);\r\n        self.active_tab = self.rows[i-1].tab;\r\n        self.refreshTabs();\r\n\r\n        self.onChange(true);\r\n      });\r\n      \r\n      if(controls_holder) {\r\n        controls_holder.appendChild(self.rows[i].moveup_button);\r\n      }\r\n    }\r\n    \r\n    if(!self.hide_move_buttons) {\r\n      self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\r\n      self.rows[i].movedown_button.className += ' movedown';\r\n      self.rows[i].movedown_button.setAttribute('data-i',i);\r\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n\r\n        var rows = self.getValue();\r\n        if(i>=rows.length-1) return;\r\n        var tmp = rows[i+1];\r\n        rows[i+1] = rows[i];\r\n        rows[i] = tmp;\r\n\r\n        self.setValue(rows);\r\n        self.active_tab = self.rows[i+1].tab;\r\n        self.refreshTabs();\r\n        self.onChange(true);\r\n      });\r\n      \r\n      if(controls_holder) {\r\n        controls_holder.appendChild(self.rows[i].movedown_button);\r\n      }\r\n    }\r\n\r\n    if(value) self.rows[i].setValue(value, initial);\r\n    self.refreshTabs();\r\n  },\r\n  addControls: function() {\r\n    var self = this;\r\n    \r\n    this.collapsed = false;\r\n    this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\r\n    this.title_controls.appendChild(this.toggle_button);\r\n    var row_holder_display = self.row_holder.style.display;\r\n    var controls_display = self.controls.style.display;\r\n    this.toggle_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if(self.collapsed) {\r\n        self.collapsed = false;\r\n        if(self.panel) self.panel.style.display = '';\r\n        self.row_holder.style.display = row_holder_display;\r\n        if(self.tabs_holder) self.tabs_holder.style.display = '';\r\n        self.controls.style.display = controls_display;\r\n        self.setButtonText(this,'','collapse','Collapse');\r\n      }\r\n      else {\r\n        self.collapsed = true;\r\n        self.row_holder.style.display = 'none';\r\n        if(self.tabs_holder) self.tabs_holder.style.display = 'none';\r\n        self.controls.style.display = 'none';\r\n        if(self.panel) self.panel.style.display = 'none';\r\n        self.setButtonText(this,'','expand','Expand');\r\n      }\r\n    });\r\n\r\n    // If it should start collapsed\r\n    if(this.options.collapsed) {\r\n      $trigger(this.toggle_button,'click');\r\n    }\r\n    \r\n    // Collapse button disabled\r\n    if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\r\n      if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\r\n    }\r\n    else if(this.jsoneditor.options.disable_collapse) {\r\n      this.toggle_button.style.display = 'none';\r\n    }\r\n    \r\n    // Add \"new row\" and \"delete last\" buttons below editor\r\n    this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\r\n    \r\n    this.add_row_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      var i = self.rows.length;\r\n      if(self.row_cache[i]) {\r\n        self.rows[i] = self.row_cache[i];\r\n        self.rows[i].setValue(self.rows[i].getDefault());\r\n        self.rows[i].container.style.display = '';\r\n        if(self.rows[i].tab) self.rows[i].tab.style.display = '';\r\n        self.rows[i].register();\r\n      }\r\n      else {\r\n        self.addRow();\r\n      }\r\n      self.active_tab = self.rows[i].tab;\r\n      self.refreshTabs();\r\n      self.refreshValue();\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.add_row_button);\r\n\r\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\r\n    this.delete_last_row_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      var rows = self.getValue();\r\n      \r\n      var new_active_tab = null;\r\n      if(self.rows.length > 1 && self.rows[self.rows.length-1].tab === self.active_tab) new_active_tab = self.rows[self.rows.length-2].tab;\r\n      \r\n      rows.pop();\r\n      self.setValue(rows);\r\n      if(new_active_tab) {\r\n        self.active_tab = new_active_tab;\r\n        self.refreshTabs();\r\n      }\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.delete_last_row_button);\r\n\r\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\r\n    this.remove_all_rows_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.setValue([]);\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.remove_all_rows_button);\r\n\r\n    if(self.tabs) {\r\n      this.add_row_button.style.width = '100%';\r\n      this.add_row_button.style.textAlign = 'left';\r\n      this.add_row_button.style.marginBottom = '3px';\r\n      \r\n      this.delete_last_row_button.style.width = '100%';\r\n      this.delete_last_row_button.style.textAlign = 'left';\r\n      this.delete_last_row_button.style.marginBottom = '3px';\r\n      \r\n      this.remove_all_rows_button.style.width = '100%';\r\n      this.remove_all_rows_button.style.textAlign = 'left';\r\n      this.remove_all_rows_button.style.marginBottom = '3px';\r\n    }\r\n  },\r\n  showValidationErrors: function(errors) {\r\n    var self = this;\r\n\r\n    // Get all the errors that pertain to this editor\r\n    var my_errors = [];\r\n    var other_errors = [];\r\n    $each(errors, function(i,error) {\r\n      if(error.path === self.path) {\r\n        my_errors.push(error);\r\n      }\r\n      else {\r\n        other_errors.push(error);\r\n      }\r\n    });\r\n\r\n    // Show errors for this editor\r\n    if(this.error_holder) {\r\n      if(my_errors.length) {\r\n        var message = [];\r\n        this.error_holder.innerHTML = '';\r\n        this.error_holder.style.display = '';\r\n        $each(my_errors, function(i,error) {\r\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\r\n        });\r\n      }\r\n      // Hide error area\r\n      else {\r\n        this.error_holder.style.display = 'none';\r\n      }\r\n    }\r\n\r\n    // Show errors for child editors\r\n    $each(this.rows, function(i,row) {\r\n      row.showValidationErrors(other_errors);\r\n    });\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.table = JSONEditor.defaults.editors.array.extend({\r\n  register: function() {\r\n    this._super();\r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].register();\r\n      }\r\n    }\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(this.rows) {\r\n      for(var i=0; i<this.rows.length; i++) {\r\n        this.rows[i].unregister();\r\n      }\r\n    }\r\n  },\r\n  getNumColumns: function() {\r\n    return Math.max(Math.min(12,this.width),3);\r\n  },\r\n  preBuild: function() {\r\n    var item_schema = this.jsoneditor.expandRefs(this.schema.items || {});\r\n\r\n    this.item_title = item_schema.title || 'row';\r\n    this.item_default = item_schema[\"default\"] || null;\r\n    this.item_has_child_editors = item_schema.properties || item_schema.items;\r\n    this.width = 12;\r\n    this._super();\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n    this.table = this.theme.getTable();\r\n    this.container.appendChild(this.table);\r\n    this.thead = this.theme.getTableHead();\r\n    this.table.appendChild(this.thead);\r\n    this.header_row = this.theme.getTableRow();\r\n    this.thead.appendChild(this.header_row);\r\n    this.row_holder = this.theme.getTableBody();\r\n    this.table.appendChild(this.row_holder);\r\n\r\n    // Determine the default value of array element\r\n    var tmp = this.getElementEditor(0,true);\r\n    this.item_default = tmp.getDefault();\r\n    this.width = tmp.getNumColumns() + 2;\r\n    \r\n    if(!this.options.compact) {\r\n      this.title = this.theme.getHeader(this.getTitle(),this.isRequired());\r\n      this.container.appendChild(this.title);\r\n      this.title_controls = this.theme.getHeaderButtonHolder();\r\n      this.title.appendChild(this.title_controls);\r\n      if(this.schema.description) {\r\n        this.description = this.theme.getDescription(this.schema.description);\r\n        this.container.appendChild(this.description);\r\n      }\r\n      this.panel = this.theme.getIndentedPanel();\r\n      this.container.appendChild(this.panel);\r\n      this.error_holder = document.createElement('div');\r\n      this.panel.appendChild(this.error_holder);\r\n    }\r\n    else {\r\n      this.panel = document.createElement('div');\r\n      this.container.appendChild(this.panel);\r\n    }\r\n\r\n    this.panel.appendChild(this.table);\r\n    this.controls = this.theme.getButtonHolder();\r\n    this.panel.appendChild(this.controls);\r\n\r\n    if(this.item_has_child_editors) {\r\n      var ce = tmp.getChildEditors();\r\n      var order = tmp.property_order || Object.keys(ce);\r\n      for(var i=0; i<order.length; i++) {\r\n        var th = self.theme.getTableHeaderCell(ce[order[i]].getTitle());\r\n        if(ce[order[i]].options.hidden) th.style.display = 'none';\r\n        self.header_row.appendChild(th);\r\n      }\r\n    }\r\n    else {\r\n      self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));\r\n    }\r\n\r\n    tmp.destroy();\r\n    this.row_holder.innerHTML = '';\r\n\r\n    // Row Controls column\r\n    this.controls_header_cell = self.theme.getTableHeaderCell(\" \");\r\n    self.header_row.appendChild(this.controls_header_cell);\r\n\r\n    // Add controls\r\n    this.addControls();\r\n  },\r\n  onChildEditorChange: function(editor) {\r\n    this.refreshValue();\r\n    this._super();\r\n  },\r\n  getItemDefault: function() {\r\n    return $extend({},{\"default\":this.item_default})[\"default\"];\r\n  },\r\n  getItemTitle: function() {\r\n    return this.item_title;\r\n  },\r\n  getElementEditor: function(i,ignore) {\r\n    var schema_copy = $extend({},this.schema.items);\r\n    var editor = this.jsoneditor.getEditorClass(schema_copy, this.jsoneditor);\r\n    var row = this.row_holder.appendChild(this.theme.getTableRow());\r\n    var holder = row;\r\n    if(!this.item_has_child_editors) {\r\n      holder = this.theme.getTableCell();\r\n      row.appendChild(holder);\r\n    }\r\n\r\n    var ret = this.jsoneditor.createEditor(editor,{\r\n      jsoneditor: this.jsoneditor,\r\n      schema: schema_copy,\r\n      container: holder,\r\n      path: this.path+'.'+i,\r\n      parent: this,\r\n      compact: true,\r\n      table_row: true\r\n    });\r\n    \r\n    ret.preBuild();\r\n    if(!ignore) {\r\n      ret.build();\r\n      ret.postBuild();\r\n\r\n      ret.controls_cell = row.appendChild(this.theme.getTableCell());\r\n      ret.row = row;\r\n      ret.table_controls = this.theme.getButtonHolder();\r\n      ret.controls_cell.appendChild(ret.table_controls);\r\n      ret.table_controls.style.margin = 0;\r\n      ret.table_controls.style.padding = 0;\r\n    }\r\n    \r\n    return ret;\r\n  },\r\n  destroy: function() {\r\n    this.innerHTML = '';\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\r\n    if(this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table);\r\n    if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\r\n\r\n    this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null;\r\n\r\n    this._super();\r\n  },\r\n  setValue: function(value, initial) {\r\n    // Update the array's value, adding/removing rows when necessary\r\n    value = value || [];\r\n\r\n    // Make sure value has between minItems and maxItems items in it\r\n    if(this.schema.minItems) {\r\n      while(value.length < this.schema.minItems) {\r\n        value.push(this.getItemDefault());\r\n      }\r\n    }\r\n    if(this.schema.maxItems && value.length > this.schema.maxItems) {\r\n      value = value.slice(0,this.schema.maxItems);\r\n    }\r\n    \r\n    var serialized = JSON.stringify(value);\r\n    if(serialized === this.serialized) return;\r\n\r\n    var numrows_changed = false;\r\n\r\n    var self = this;\r\n    $each(value,function(i,val) {\r\n      if(self.rows[i]) {\r\n        // TODO: don't set the row's value if it hasn't changed\r\n        self.rows[i].setValue(val);\r\n      }\r\n      else {\r\n        self.addRow(val);\r\n        numrows_changed = true;\r\n      }\r\n    });\r\n\r\n    for(var j=value.length; j<self.rows.length; j++) {\r\n      var holder = self.rows[j].container;\r\n      if(!self.item_has_child_editors) {\r\n        self.rows[j].row.parentNode.removeChild(self.rows[j].row);\r\n      }\r\n      self.rows[j].destroy();\r\n      if(holder.parentNode) holder.parentNode.removeChild(holder);\r\n      self.rows[j] = null;\r\n      numrows_changed = true;\r\n    }\r\n    self.rows = self.rows.slice(0,value.length);\r\n\r\n    self.refreshValue();\r\n    if(numrows_changed || initial) self.refreshRowButtons();\r\n\r\n    self.onChange();\r\n          \r\n    // TODO: sortable\r\n  },\r\n  refreshRowButtons: function() {\r\n    var self = this;\r\n    \r\n    // If we currently have minItems items in the array\r\n    var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\r\n    \r\n    var need_row_buttons = false;\r\n    $each(this.rows,function(i,editor) {\r\n      // Hide the move down button for the last row\r\n      if(editor.movedown_button) {\r\n        if(i === self.rows.length - 1) {\r\n          editor.movedown_button.style.display = 'none';\r\n        }\r\n        else {\r\n          need_row_buttons = true;\r\n          editor.movedown_button.style.display = '';\r\n        }\r\n      }\r\n\r\n      // Hide the delete button if we have minItems items\r\n      if(editor.delete_button) {\r\n        if(minItems) {\r\n          editor.delete_button.style.display = 'none';\r\n        }\r\n        else {\r\n          need_row_buttons = true;\r\n          editor.delete_button.style.display = '';\r\n        }\r\n      }\r\n      \r\n      if(editor.moveup_button) {\r\n        need_row_buttons = true;\r\n      }\r\n    });\r\n    \r\n    // Show/hide controls column in table\r\n    $each(this.rows,function(i,editor) {\r\n      if(need_row_buttons) {\r\n        editor.controls_cell.style.display = '';\r\n      }\r\n      else {\r\n        editor.controls_cell.style.display = 'none';\r\n      }\r\n    });\r\n    if(need_row_buttons) {\r\n      this.controls_header_cell.style.display = '';\r\n    }\r\n    else {\r\n      this.controls_header_cell.style.display = 'none';\r\n    }\r\n    \r\n    var controls_needed = false;\r\n  \r\n    if(!this.value.length) {\r\n      this.delete_last_row_button.style.display = 'none';\r\n      this.remove_all_rows_button.style.display = 'none';\r\n      this.table.style.display = 'none';\r\n    }\r\n    else if(this.value.length === 1  || this.hide_delete_buttons) {\r\n      this.table.style.display = '';\r\n      this.remove_all_rows_button.style.display = 'none';\r\n\r\n      // If there are minItems items in the array, hide the delete button beneath the rows\r\n      if(minItems || this.hide_delete_buttons) {\r\n        this.delete_last_row_button.style.display = 'none';\r\n      }\r\n      else {\r\n        this.delete_last_row_button.style.display = '';\r\n        controls_needed = true;\r\n      }\r\n    }\r\n    else {\r\n      this.table.style.display = '';\r\n      // If there are minItems items in the array, hide the delete button beneath the rows\r\n      if(minItems || this.hide_delete_buttons) {\r\n        this.delete_last_row_button.style.display = 'none';\r\n        this.remove_all_rows_button.style.display = 'none';\r\n      }\r\n      else {\r\n        this.delete_last_row_button.style.display = '';\r\n        this.remove_all_rows_button.style.display = '';\r\n        controls_needed = true;\r\n      }\r\n    }\r\n\r\n    // If there are maxItems in the array, hide the add button beneath the rows\r\n    if((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\r\n      this.add_row_button.style.display = 'none';\r\n    }\r\n    else {\r\n      this.add_row_button.style.display = '';\r\n      controls_needed = true;\r\n    }\r\n    \r\n    if(!controls_needed) {\r\n      this.controls.style.display = 'none';\r\n    }\r\n    else {\r\n      this.controls.style.display = '';\r\n    }\r\n  },\r\n  refreshValue: function() {\r\n    var self = this;\r\n    this.value = [];\r\n\r\n    $each(this.rows,function(i,editor) {\r\n      // Get the value for this editor\r\n      self.value[i] = editor.getValue();\r\n    });\r\n    this.serialized = JSON.stringify(this.value);\r\n  },\r\n  addRow: function(value) {\r\n    var self = this;\r\n    var i = this.rows.length;\r\n\r\n    self.rows[i] = this.getElementEditor(i);\r\n\r\n    var controls_holder = self.rows[i].table_controls;\r\n\r\n    // Buttons to delete row, move row up, and move row down\r\n    if(!this.hide_delete_buttons) {\r\n      self.rows[i].delete_button = this.getButton('','delete',this.translate('button_delete_row_title_short'));\r\n      self.rows[i].delete_button.className += ' delete';\r\n      self.rows[i].delete_button.setAttribute('data-i',i);\r\n      self.rows[i].delete_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n\r\n        var value = self.getValue();\r\n\r\n        var newval = [];\r\n        $each(value,function(j,row) {\r\n          if(j===i) return; // If this is the one we're deleting\r\n          newval.push(row);\r\n        });\r\n        self.setValue(newval);\r\n        self.onChange(true);\r\n      });\r\n      controls_holder.appendChild(self.rows[i].delete_button);\r\n    }\r\n\r\n    \r\n    if(i && !this.hide_move_buttons) {\r\n      self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\r\n      self.rows[i].moveup_button.className += ' moveup';\r\n      self.rows[i].moveup_button.setAttribute('data-i',i);\r\n      self.rows[i].moveup_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n\r\n        if(i<=0) return;\r\n        var rows = self.getValue();\r\n        var tmp = rows[i-1];\r\n        rows[i-1] = rows[i];\r\n        rows[i] = tmp;\r\n\r\n        self.setValue(rows);\r\n        self.onChange(true);\r\n      });\r\n      controls_holder.appendChild(self.rows[i].moveup_button);\r\n    }\r\n    \r\n    if(!this.hide_move_buttons) {\r\n      self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\r\n      self.rows[i].movedown_button.className += ' movedown';\r\n      self.rows[i].movedown_button.setAttribute('data-i',i);\r\n      self.rows[i].movedown_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var i = this.getAttribute('data-i')*1;\r\n        var rows = self.getValue();\r\n        if(i>=rows.length-1) return;\r\n        var tmp = rows[i+1];\r\n        rows[i+1] = rows[i];\r\n        rows[i] = tmp;\r\n\r\n        self.setValue(rows);\r\n        self.onChange(true);\r\n      });\r\n      controls_holder.appendChild(self.rows[i].movedown_button);\r\n    }\r\n\r\n    if(value) self.rows[i].setValue(value);\r\n  },\r\n  addControls: function() {\r\n    var self = this;\r\n\r\n    this.collapsed = false;\r\n    this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\r\n    if(this.title_controls) {\r\n      this.title_controls.appendChild(this.toggle_button);\r\n      this.toggle_button.addEventListener('click',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if(self.collapsed) {\r\n          self.collapsed = false;\r\n          self.panel.style.display = '';\r\n          self.setButtonText(this,'','collapse','Collapse');\r\n        }\r\n        else {\r\n          self.collapsed = true;\r\n          self.panel.style.display = 'none';\r\n          self.setButtonText(this,'','expand','Expand');\r\n        }\r\n      });\r\n\r\n      // If it should start collapsed\r\n      if(this.options.collapsed) {\r\n        $trigger(this.toggle_button,'click');\r\n      }\r\n\r\n      // Collapse button disabled\r\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\r\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\r\n      }\r\n      else if(this.jsoneditor.options.disable_collapse) {\r\n        this.toggle_button.style.display = 'none';\r\n      }\r\n    }\r\n\r\n    // Add \"new row\" and \"delete last\" buttons below editor\r\n    this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\r\n    this.add_row_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      \r\n      self.addRow();\r\n      self.refreshValue();\r\n      self.refreshRowButtons();\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.add_row_button);\r\n\r\n    this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\r\n    this.delete_last_row_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      \r\n      var rows = self.getValue();\r\n      rows.pop();\r\n      self.setValue(rows);\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.delete_last_row_button);\r\n\r\n    this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\r\n    this.remove_all_rows_button.addEventListener('click',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      \r\n      self.setValue([]);\r\n      self.onChange(true);\r\n    });\r\n    self.controls.appendChild(this.remove_all_rows_button);\r\n  }\r\n});\r\n",
    "// Multiple Editor (for when `type` is an array)\r\nJSONEditor.defaults.editors.multiple = JSONEditor.AbstractEditor.extend({\r\n  register: function() {\r\n    if(this.editors) {\r\n      for(var i=0; i<this.editors.length; i++) {\r\n        if(!this.editors[i]) continue;\r\n        this.editors[i].unregister();\r\n      }\r\n      if(this.editors[this.type]) this.editors[this.type].register();\r\n    }\r\n    this._super();\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(this.editors) {\r\n      for(var i=0; i<this.editors.length; i++) {\r\n        if(!this.editors[i]) continue;\r\n        this.editors[i].unregister();\r\n      }\r\n    }\r\n  },\r\n  getNumColumns: function() {\r\n    if(!this.editors[this.type]) return 4;\r\n    return Math.max(this.editors[this.type].getNumColumns(),4);\r\n  },\r\n  enable: function() {\r\n    if(this.editors) {\r\n      for(var i=0; i<this.editors.length; i++) {\r\n        if(!this.editors[i]) continue;\r\n        this.editors[i].enable();\r\n      }\r\n    }\r\n    this.switcher.disabled = false;\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    if(this.editors) {\r\n      for(var i=0; i<this.editors.length; i++) {\r\n        if(!this.editors[i]) continue;\r\n        this.editors[i].disable();\r\n      }\r\n    }\r\n    this.switcher.disabled = true;\r\n    this._super();\r\n  },\r\n  switchEditor: function(i) {\r\n    var self = this;\r\n\r\n    if(!this.editors[i]) {\r\n      this.buildChildEditor(i);\r\n    }\r\n\r\n    self.type = i;\r\n\r\n    self.register();\r\n\r\n    var current_value = self.getValue();\r\n\r\n    $each(self.editors,function(type,editor) {\r\n      if(!editor) return;\r\n      if(self.type === type) {\r\n        if(self.keep_values) editor.setValue(current_value,true);\r\n        editor.container.style.display = '';\r\n      }\r\n      else editor.container.style.display = 'none';\r\n    });\r\n    self.refreshValue();\r\n    self.refreshHeaderText();\r\n  },\r\n  buildChildEditor: function(i) {\r\n    var self = this;\r\n    var type = this.types[i];\r\n    var holder = self.theme.getChildEditorHolder();\r\n    self.editor_holder.appendChild(holder);\r\n\r\n    var schema;\r\n\r\n    if(typeof type === \"string\") {\r\n      schema = $extend({},self.schema);\r\n      schema.type = type;\r\n    }\r\n    else {\r\n      schema = $extend({},self.schema,type);\r\n      schema = self.jsoneditor.expandRefs(schema);\r\n\r\n      // If we need to merge `required` arrays\r\n      if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\r\n        schema.required = self.schema.required.concat(type.required);\r\n      }\r\n    }\r\n\r\n    var editor = self.jsoneditor.getEditorClass(schema);\r\n\r\n    self.editors[i] = self.jsoneditor.createEditor(editor,{\r\n      jsoneditor: self.jsoneditor,\r\n      schema: schema,\r\n      container: holder,\r\n      path: self.path,\r\n      parent: self,\r\n      required: true\r\n    });\r\n    self.editors[i].preBuild();\r\n    self.editors[i].build();\r\n    self.editors[i].postBuild();\r\n\r\n    if(self.editors[i].header) self.editors[i].header.style.display = 'none';\r\n\r\n    self.editors[i].option = self.switcher_options[i];\r\n\r\n    holder.addEventListener('change_header_text',function() {\r\n      self.refreshHeaderText();\r\n    });\r\n\r\n    if(i !== self.type) holder.style.display = 'none';\r\n  },\r\n  preBuild: function() {\r\n    var self = this;\r\n\r\n    this.types = [];\r\n    this.type = 0;\r\n    this.editors = [];\r\n    this.validators = [];\r\n\r\n    this.keep_values = true;\r\n    if(typeof this.jsoneditor.options.keep_oneof_values !== \"undefined\") this.keep_values = this.jsoneditor.options.keep_oneof_values;\r\n    if(typeof this.options.keep_oneof_values !== \"undefined\") this.keep_values = this.options.keep_oneof_values;\r\n\r\n    if(this.schema.oneOf) {\r\n      this.oneOf = true;\r\n      this.types = this.schema.oneOf;\r\n      $each(this.types,function(i,oneof) {\r\n        //self.types[i] = self.jsoneditor.expandSchema(oneof);\r\n      });\r\n      delete this.schema.oneOf;\r\n    }\r\n    else {\r\n      if(!this.schema.type || this.schema.type === \"any\") {\r\n        this.types = ['string','number','integer','boolean','object','array','null'];\r\n\r\n        // If any of these primitive types are disallowed\r\n        if(this.schema.disallow) {\r\n          var disallow = this.schema.disallow;\r\n          if(typeof disallow !== 'object' || !(Array.isArray(disallow))) {\r\n            disallow = [disallow];\r\n          }\r\n          var allowed_types = [];\r\n          $each(this.types,function(i,type) {\r\n            if(disallow.indexOf(type) === -1) allowed_types.push(type);\r\n          });\r\n          this.types = allowed_types;\r\n        }\r\n      }\r\n      else if(Array.isArray(this.schema.type)) {\r\n        this.types = this.schema.type;\r\n      }\r\n      else {\r\n        this.types = [this.schema.type];\r\n      }\r\n      delete this.schema.type;\r\n    }\r\n\r\n    this.display_text = this.getDisplayText(this.types);\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n    var container = this.container;\r\n\r\n    this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n    this.container.appendChild(this.header);\r\n\r\n    this.switcher = this.theme.getSwitcher(this.display_text);\r\n    container.appendChild(this.switcher);\r\n    this.switcher.addEventListener('change',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      self.switchEditor(self.display_text.indexOf(this.value));\r\n      self.onChange(true);\r\n    });\r\n\r\n    this.editor_holder = document.createElement('div');\r\n    container.appendChild(this.editor_holder);\r\n    \r\n      \r\n    var validator_options = {};\r\n    if(self.jsoneditor.options.custom_validators) {\r\n      validator_options.custom_validators = self.jsoneditor.options.custom_validators;\r\n    }\r\n\r\n    this.switcher_options = this.theme.getSwitcherOptions(this.switcher);\r\n    $each(this.types,function(i,type) {\r\n      self.editors[i] = false;\r\n\r\n      var schema;\r\n\r\n      if(typeof type === \"string\") {\r\n        schema = $extend({},self.schema);\r\n        schema.type = type;\r\n      }\r\n      else {\r\n        schema = $extend({},self.schema,type);\r\n\r\n        // If we need to merge `required` arrays\r\n        if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\r\n          schema.required = self.schema.required.concat(type.required);\r\n        }\r\n      }\r\n\r\n      self.validators[i] = new JSONEditor.Validator(self.jsoneditor,schema,validator_options);\r\n    });\r\n\r\n    this.switchEditor(0);\r\n  },\r\n  onChildEditorChange: function(editor) {\r\n    if(this.editors[this.type]) {\r\n      this.refreshValue();\r\n      this.refreshHeaderText();\r\n    }\r\n\r\n    this._super();\r\n  },\r\n  refreshHeaderText: function() {\r\n    var display_text = this.getDisplayText(this.types);\r\n    $each(this.switcher_options, function(i,option) {\r\n      option.textContent = display_text[i];\r\n    });\r\n  },\r\n  refreshValue: function() {\r\n    this.value = this.editors[this.type].getValue();\r\n  },\r\n  setValue: function(val,initial) {\r\n    // Determine type by getting the first one that validates\r\n    var self = this;\r\n    $each(this.validators, function(i,validator) {\r\n      if(!validator.validate(val).length) {\r\n        self.type = i;\r\n        self.switcher.value = self.display_text[i];\r\n        return false;\r\n      }\r\n    });\r\n\r\n    this.switchEditor(this.type);\r\n\r\n    this.editors[this.type].setValue(val,initial);\r\n\r\n    this.refreshValue();\r\n    self.onChange();\r\n  },\r\n  destroy: function() {\r\n    $each(this.editors, function(type,editor) {\r\n      if(editor) editor.destroy();\r\n    });\r\n    if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\r\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\r\n    this._super();\r\n  },\r\n  showValidationErrors: function(errors) {\r\n    var self = this;\r\n\r\n    // oneOf error paths need to remove the oneOf[i] part before passing to child editors\r\n    if(this.oneOf) {\r\n      $each(this.editors,function(i,editor) {\r\n        if(!editor) return;\r\n        var check = self.path+'.oneOf['+i+']';\r\n        var new_errors = [];\r\n        $each(errors, function(j,error) {\r\n          if(error.path.substr(0,check.length)===check) {\r\n            var new_error = $extend({},error);\r\n            new_error.path = self.path+new_error.path.substr(check.length);\r\n            new_errors.push(new_error);\r\n          }\r\n        });\r\n\r\n        editor.showValidationErrors(new_errors);\r\n      });\r\n    }\r\n    else {\r\n      $each(this.editors,function(type,editor) {\r\n        if(!editor) return;\r\n        editor.showValidationErrors(errors);\r\n      });\r\n    }\r\n  }\r\n});\r\n",
    "// Enum Editor (used for objects and arrays with enumerated values)\r\nJSONEditor.defaults.editors[\"enum\"] = JSONEditor.AbstractEditor.extend({\r\n  getNumColumns: function() {\r\n    return 4;\r\n  },\r\n  build: function() {\r\n    var container = this.container;\r\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n    this.container.appendChild(this.title);\r\n\r\n    this.options.enum_titles = this.options.enum_titles || [];\r\n\r\n    this[\"enum\"] = this.schema[\"enum\"];\r\n    this.selected = 0;\r\n    this.select_options = [];\r\n    this.html_values = [];\r\n\r\n    var self = this;\r\n    for(var i=0; i<this[\"enum\"].length; i++) {\r\n      this.select_options[i] = this.options.enum_titles[i] || \"Value \"+(i+1);\r\n      this.html_values[i] = this.getHTML(this[\"enum\"][i]);\r\n    }\r\n\r\n    // Switcher\r\n    this.switcher = this.theme.getSwitcher(this.select_options);\r\n    this.container.appendChild(this.switcher);\r\n\r\n    // Display area\r\n    this.display_area = this.theme.getIndentedPanel();\r\n    this.container.appendChild(this.display_area);\r\n\r\n    if(this.options.hide_display) this.display_area.style.display = \"none\";\r\n\r\n    this.switcher.addEventListener('change',function() {\r\n      self.selected = self.select_options.indexOf(this.value);\r\n      self.value = self[\"enum\"][self.selected];\r\n      self.refreshValue();\r\n      self.onChange(true);\r\n    });\r\n    this.value = this[\"enum\"][0];\r\n    this.refreshValue();\r\n\r\n    if(this[\"enum\"].length === 1) this.switcher.style.display = 'none';\r\n  },\r\n  refreshValue: function() {\r\n    var self = this;\r\n    self.selected = -1;\r\n    var stringified = JSON.stringify(this.value);\r\n    $each(this[\"enum\"], function(i, el) {\r\n      if(stringified === JSON.stringify(el)) {\r\n        self.selected = i;\r\n        return false;\r\n      }\r\n    });\r\n\r\n    if(self.selected<0) {\r\n      self.setValue(self[\"enum\"][0]);\r\n      return;\r\n    }\r\n\r\n    this.switcher.value = this.select_options[this.selected];\r\n    this.display_area.innerHTML = this.html_values[this.selected];\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) this.switcher.disabled = false;\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    this.switcher.disabled = true;\r\n    this._super();\r\n  },\r\n  getHTML: function(el) {\r\n    var self = this;\r\n\r\n    if(el === null) {\r\n      return '<em>null</em>';\r\n    }\r\n    // Array or Object\r\n    else if(typeof el === \"object\") {\r\n      // TODO: use theme\r\n      var ret = '';\r\n\r\n      $each(el,function(i,child) {\r\n        var html = self.getHTML(child);\r\n\r\n        // Add the keys to object children\r\n        if(!(Array.isArray(el))) {\r\n          // TODO: use theme\r\n          html = '<div><em>'+i+'</em>: '+html+'</div>';\r\n        }\r\n\r\n        // TODO: use theme\r\n        ret += '<li>'+html+'</li>';\r\n      });\r\n\r\n      if(Array.isArray(el)) ret = '<ol>'+ret+'</ol>';\r\n      else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\"+ret+'</ul>';\r\n\r\n      return ret;\r\n    }\r\n    // Boolean\r\n    else if(typeof el === \"boolean\") {\r\n      return el? 'true' : 'false';\r\n    }\r\n    // String\r\n    else if(typeof el === \"string\") {\r\n      return el.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\r\n    }\r\n    // Number\r\n    else {\r\n      return el;\r\n    }\r\n  },\r\n  setValue: function(val) {\r\n    if(this.value !== val) {\r\n      this.value = val;\r\n      this.refreshValue();\r\n      this.onChange();\r\n    }\r\n  },\r\n  destroy: function() {\r\n    if(this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area);\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\r\n\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.select = JSONEditor.AbstractEditor.extend({\r\n  setValue: function(value,initial) {\r\n    value = this.typecast(value||'');\r\n\r\n    // Sanitize value before setting it\r\n    var sanitized = value;\r\n    if(this.enum_values.indexOf(sanitized) < 0) {\r\n      sanitized = this.enum_values[0];\r\n    }\r\n\r\n    if(this.value === sanitized) {\r\n      return;\r\n    }\r\n\r\n    this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\r\n    if(this.select2) this.select2.select2('val',this.input.value);\r\n    this.value = sanitized;\r\n    this.onChange();\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.setAttribute('name',this.formname);\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.removeAttribute('name');\r\n  },\r\n  getNumColumns: function() {\r\n    if(!this.enum_options) return 3;\r\n    var longest_text = this.getTitle().length;\r\n    for(var i=0; i<this.enum_options.length; i++) {\r\n      longest_text = Math.max(longest_text,this.enum_options[i].length+4);\r\n    }\r\n    return Math.min(12,Math.max(longest_text/7,2));\r\n  },\r\n  typecast: function(value) {\r\n    if(this.schema.type === \"boolean\") {\r\n      return !!value;\r\n    }\r\n    else if(this.schema.type === \"number\") {\r\n      return 1*value;\r\n    }\r\n    else if(this.schema.type === \"integer\") {\r\n      return Math.floor(value*1);\r\n    }\r\n    else {\r\n      return \"\"+value;\r\n    }\r\n  },\r\n  getValue: function() {\r\n    return this.value;\r\n  },\r\n  preBuild: function() {\r\n    var self = this;\r\n    this.input_type = 'select';\r\n    this.enum_options = [];\r\n    this.enum_values = [];\r\n    this.enum_display = [];\r\n\r\n    // Enum options enumerated\r\n    if(this.schema[\"enum\"]) {\r\n      var display = this.schema.options && this.schema.options.enum_titles || [];\r\n      \r\n      $each(this.schema[\"enum\"],function(i,option) {\r\n        self.enum_options[i] = \"\"+option;\r\n        self.enum_display[i] = \"\"+(display[i] || option);\r\n        self.enum_values[i] = self.typecast(option);\r\n      });\r\n\r\n      if(!this.isRequired()){\r\n        self.enum_display.unshift(' ');\r\n        self.enum_options.unshift('undefined');\r\n        self.enum_values.unshift(undefined);\r\n      }\r\n            \r\n    }\r\n    // Boolean\r\n    else if(this.schema.type === \"boolean\") {\r\n      self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\r\n      self.enum_options = ['1',''];\r\n      self.enum_values = [true,false];\r\n      \r\n      if(!this.isRequired()){\r\n        self.enum_display.unshift(' ');\r\n        self.enum_options.unshift('undefined');\r\n        self.enum_values.unshift(undefined);\r\n      }\r\n    \r\n    }\r\n    // Dynamic Enum\r\n    else if(this.schema.enumSource) {\r\n      this.enumSource = [];\r\n      this.enum_display = [];\r\n      this.enum_options = [];\r\n      this.enum_values = [];\r\n      \r\n      // Shortcut declaration for using a single array\r\n      if(!(Array.isArray(this.schema.enumSource))) {\r\n        if(this.schema.enumValue) {\r\n          this.enumSource = [\r\n            {\r\n              source: this.schema.enumSource,\r\n              value: this.schema.enumValue\r\n            }\r\n          ];\r\n        }\r\n        else {\r\n          this.enumSource = [\r\n            {\r\n              source: this.schema.enumSource\r\n            }\r\n          ];\r\n        }\r\n      }\r\n      else {\r\n        for(i=0; i<this.schema.enumSource.length; i++) {\r\n          // Shorthand for watched variable\r\n          if(typeof this.schema.enumSource[i] === \"string\") {\r\n            this.enumSource[i] = {\r\n              source: this.schema.enumSource[i]\r\n            };\r\n          }\r\n          // Make a copy of the schema\r\n          else if(!(Array.isArray(this.schema.enumSource[i]))) {\r\n            this.enumSource[i] = $extend({},this.schema.enumSource[i]);\r\n          }\r\n          else {\r\n            this.enumSource[i] = this.schema.enumSource[i];\r\n          }\r\n        }\r\n      }\r\n      \r\n      // Now, enumSource is an array of sources\r\n      // Walk through this array and fix up the values\r\n      for(i=0; i<this.enumSource.length; i++) {\r\n        if(this.enumSource[i].value) {\r\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\r\n        }\r\n        if(this.enumSource[i].title) {\r\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\r\n        }\r\n        if(this.enumSource[i].filter) {\r\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\r\n        }\r\n      }\r\n    }\r\n    // Other, not supported\r\n    else {\r\n      throw \"'select' editor requires the enum property to be set.\";\r\n    }\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\r\n\r\n    if(this.options.compact) this.container.className += ' compact';\r\n\r\n    this.input = this.theme.getSelectInput(this.enum_options);\r\n    this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\r\n\r\n    if(this.schema.readOnly || this.schema.readonly) {\r\n      this.always_disabled = true;\r\n      this.input.disabled = true;\r\n    }\r\n\r\n    this.input.addEventListener('change',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.onInputChange();\r\n    });\r\n\r\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\r\n    this.container.appendChild(this.control);\r\n\r\n    this.value = this.enum_values[0];\r\n  },\r\n  onInputChange: function() {\r\n    var val = this.input.value;\r\n\r\n    var new_val;\r\n    // Invalid option, use first option instead\r\n    if(this.enum_options.indexOf(val) === -1) {\r\n      new_val = this.enum_values[0];\r\n    }\r\n    else {\r\n      new_val = this.enum_values[this.enum_options.indexOf(val)];\r\n    }\r\n\r\n    // If valid hasn't changed\r\n    if(new_val === this.value) return;\r\n\r\n    // Store new value and propogate change event\r\n    this.value = new_val;\r\n    this.onChange(true);\r\n  },\r\n  setupSelect2: function() {\r\n    // If the Select2 library is loaded use it when we have lots of items\r\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && (this.enum_options.length > 2 || (this.enum_options.length && this.enumSource))) {\r\n      var options = $extend({},JSONEditor.plugins.select2);\r\n      if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\r\n      this.select2 = window.jQuery(this.input).select2(options);\r\n      var self = this;\r\n      this.select2.on('select2-blur',function() {\r\n        self.input.value = self.select2.select2('val');\r\n        self.onInputChange();\r\n      });\r\n      this.select2.on('change',function() {\r\n        self.input.value = self.select2.select2('val');\r\n        self.onInputChange();\r\n      });\r\n    }\r\n    else {\r\n      this.select2 = null;\r\n    }\r\n  },\r\n  postBuild: function() {\r\n    this._super();\r\n    this.theme.afterInputReady(this.input);\r\n    this.setupSelect2();\r\n  },\r\n  onWatchedFieldChange: function() {\r\n    var self = this, vars, j;\r\n    \r\n    // If this editor uses a dynamic select box\r\n    if(this.enumSource) {\r\n      vars = this.getWatchedFieldValues();\r\n      var select_options = [];\r\n      var select_titles = [];\r\n      \r\n      for(var i=0; i<this.enumSource.length; i++) {\r\n        // Constant values\r\n        if(Array.isArray(this.enumSource[i])) {\r\n          select_options = select_options.concat(this.enumSource[i]);\r\n          select_titles = select_titles.concat(this.enumSource[i]);\r\n        }\r\n        else {\r\n          var items = [];\r\n          // Static list of items\r\n          if(Array.isArray(this.enumSource[i].source)) {\r\n            items = this.enumSource[i].source;\r\n          // A watched field\r\n          } else {\r\n            items = vars[this.enumSource[i].source];\r\n          }\r\n          \r\n          if(items) {\r\n            // Only use a predefined part of the array\r\n            if(this.enumSource[i].slice) {\r\n              items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\r\n            }\r\n            // Filter the items\r\n            if(this.enumSource[i].filter) {\r\n              var new_items = [];\r\n              for(j=0; j<items.length; j++) {\r\n                if(this.enumSource[i].filter({i:j,item:items[j],watched:vars})) new_items.push(items[j]);\r\n              }\r\n              items = new_items;\r\n            }\r\n            \r\n            var item_titles = [];\r\n            var item_values = [];\r\n            for(j=0; j<items.length; j++) {\r\n              var item = items[j];\r\n              \r\n              // Rendered value\r\n              if(this.enumSource[i].value) {\r\n                item_values[j] = this.enumSource[i].value({\r\n                  i: j,\r\n                  item: item\r\n                });\r\n              }\r\n              // Use value directly\r\n              else {\r\n                item_values[j] = items[j];\r\n              }\r\n              \r\n              // Rendered title\r\n              if(this.enumSource[i].title) {\r\n                item_titles[j] = this.enumSource[i].title({\r\n                  i: j,\r\n                  item: item\r\n                });\r\n              }\r\n              // Use value as the title also\r\n              else {\r\n                item_titles[j] = item_values[j];\r\n              }\r\n            }\r\n            \r\n            // TODO: sort\r\n            \r\n            select_options = select_options.concat(item_values);\r\n            select_titles = select_titles.concat(item_titles);\r\n          }\r\n        }\r\n      }\r\n      \r\n      var prev_value = this.value;\r\n      \r\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\r\n      this.enum_options = select_options;\r\n      this.enum_display = select_titles;\r\n      this.enum_values = select_options;\r\n      \r\n      if(this.select2) {\r\n        this.select2.select2('destroy');\r\n      }\r\n      \r\n      // If the previous value is still in the new select options, stick with it\r\n      if(select_options.indexOf(prev_value) !== -1) {\r\n        this.input.value = prev_value;\r\n        this.value = prev_value;\r\n      }\r\n      // Otherwise, set the value to the first select option\r\n      else {\r\n        this.input.value = select_options[0];\r\n        this.value = select_options[0] || \"\";  \r\n        if(this.parent) this.parent.onChildEditorChange(this);\r\n        else this.jsoneditor.onChange();\r\n        this.jsoneditor.notifyWatchers(this.path);\r\n      }\r\n      \r\n      this.setupSelect2();\r\n    }\r\n\r\n    this._super();\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) {\r\n      this.input.disabled = false;\r\n      if(this.select2) this.select2.select2(\"enable\",true);\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    this.input.disabled = true;\r\n    if(this.select2) this.select2.select2(\"enable\",false);\r\n    this._super();\r\n  },\r\n  destroy: function() {\r\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    if(this.select2) {\r\n      this.select2.select2('destroy');\r\n      this.select2 = null;\r\n    }\r\n\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.selectize = JSONEditor.AbstractEditor.extend({\r\n  setValue: function(value,initial) {\r\n    value = this.typecast(value||'');\r\n\r\n    // Sanitize value before setting it\r\n    var sanitized = value;\r\n    if(this.enum_values.indexOf(sanitized) < 0) {\r\n      sanitized = this.enum_values[0];\r\n    }\r\n\r\n    if(this.value === sanitized) {\r\n      return;\r\n    }\r\n\r\n    this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\r\n\r\n    if(this.selectize) {\r\n      this.selectize[0].selectize.addItem(sanitized);\r\n    }\r\n\r\n    this.value = sanitized;\r\n    this.onChange();\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.setAttribute('name',this.formname);\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.removeAttribute('name');\r\n  },\r\n  getNumColumns: function() {\r\n    if(!this.enum_options) return 3;\r\n    var longest_text = this.getTitle().length;\r\n    for(var i=0; i<this.enum_options.length; i++) {\r\n      longest_text = Math.max(longest_text,this.enum_options[i].length+4);\r\n    }\r\n    return Math.min(12,Math.max(longest_text/7,2));\r\n  },\r\n  typecast: function(value) {\r\n    if(this.schema.type === \"boolean\") {\r\n      return !!value;\r\n    }\r\n    else if(this.schema.type === \"number\") {\r\n      return 1*value;\r\n    }\r\n    else if(this.schema.type === \"integer\") {\r\n      return Math.floor(value*1);\r\n    }\r\n    else {\r\n      return \"\"+value;\r\n    }\r\n  },\r\n  getValue: function() {\r\n    return this.value;\r\n  },\r\n  preBuild: function() {\r\n    var self = this;\r\n    this.input_type = 'select';\r\n    this.enum_options = [];\r\n    this.enum_values = [];\r\n    this.enum_display = [];\r\n\r\n    // Enum options enumerated\r\n    if(this.schema.enum) {\r\n      var display = this.schema.options && this.schema.options.enum_titles || [];\r\n\r\n      $each(this.schema.enum,function(i,option) {\r\n        self.enum_options[i] = \"\"+option;\r\n        self.enum_display[i] = \"\"+(display[i] || option);\r\n        self.enum_values[i] = self.typecast(option);\r\n      });\r\n    }\r\n    // Boolean\r\n    else if(this.schema.type === \"boolean\") {\r\n      self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\r\n      self.enum_options = ['1','0'];\r\n      self.enum_values = [true,false];\r\n    }\r\n    // Dynamic Enum\r\n    else if(this.schema.enumSource) {\r\n      this.enumSource = [];\r\n      this.enum_display = [];\r\n      this.enum_options = [];\r\n      this.enum_values = [];\r\n\r\n      // Shortcut declaration for using a single array\r\n      if(!(Array.isArray(this.schema.enumSource))) {\r\n        if(this.schema.enumValue) {\r\n          this.enumSource = [\r\n            {\r\n              source: this.schema.enumSource,\r\n              value: this.schema.enumValue\r\n            }\r\n          ];\r\n        }\r\n        else {\r\n          this.enumSource = [\r\n            {\r\n              source: this.schema.enumSource\r\n            }\r\n          ];\r\n        }\r\n      }\r\n      else {\r\n        for(i=0; i<this.schema.enumSource.length; i++) {\r\n          // Shorthand for watched variable\r\n          if(typeof this.schema.enumSource[i] === \"string\") {\r\n            this.enumSource[i] = {\r\n              source: this.schema.enumSource[i]\r\n            };\r\n          }\r\n          // Make a copy of the schema\r\n          else if(!(Array.isArray(this.schema.enumSource[i]))) {\r\n            this.enumSource[i] = $extend({},this.schema.enumSource[i]);\r\n          }\r\n          else {\r\n            this.enumSource[i] = this.schema.enumSource[i];\r\n          }\r\n        }\r\n      }\r\n\r\n      // Now, enumSource is an array of sources\r\n      // Walk through this array and fix up the values\r\n      for(i=0; i<this.enumSource.length; i++) {\r\n        if(this.enumSource[i].value) {\r\n          this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\r\n        }\r\n        if(this.enumSource[i].title) {\r\n          this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\r\n        }\r\n        if(this.enumSource[i].filter) {\r\n          this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\r\n        }\r\n      }\r\n    }\r\n    // Other, not supported\r\n    else {\r\n      throw \"'select' editor requires the enum property to be set.\";\r\n    }\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\r\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\r\n\r\n    if(this.options.compact) this.container.className += ' compact';\r\n\r\n    this.input = this.theme.getSelectInput(this.enum_options);\r\n    this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\r\n\r\n    if(this.schema.readOnly || this.schema.readonly) {\r\n      this.always_disabled = true;\r\n      this.input.disabled = true;\r\n    }\r\n\r\n    this.input.addEventListener('change',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.onInputChange();\r\n    });\r\n\r\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\r\n    this.container.appendChild(this.control);\r\n\r\n    this.value = this.enum_values[0];\r\n  },\r\n  onInputChange: function() {\r\n    var val = this.input.value;\r\n\r\n    var sanitized = val;\r\n    if(this.enum_options.indexOf(val) === -1) {\r\n      sanitized = this.enum_options[0];\r\n    }\r\n\r\n    this.value = this.enum_values[this.enum_options.indexOf(val)];\r\n    this.onChange(true);\r\n  },\r\n  setupSelectize: function() {\r\n    // If the Selectize library is loaded use it when we have lots of items\r\n    var self = this;\r\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.selectize && (this.enum_options.length >= 2 || (this.enum_options.length && this.enumSource))) {\r\n      var options = $extend({},JSONEditor.plugins.selectize);\r\n      if(this.schema.options && this.schema.options.selectize_options) options = $extend(options,this.schema.options.selectize_options);\r\n      this.selectize = window.jQuery(this.input).selectize($extend(options,\r\n      {\r\n        create: true,\r\n        onChange : function() {\r\n          self.onInputChange();\r\n        }\r\n      }));\r\n    }\r\n    else {\r\n      this.selectize = null;\r\n    }\r\n  },\r\n  postBuild: function() {\r\n    this._super();\r\n    this.theme.afterInputReady(this.input);\r\n    this.setupSelectize();\r\n  },\r\n  onWatchedFieldChange: function() {\r\n    var self = this, vars, j;\r\n\r\n    // If this editor uses a dynamic select box\r\n    if(this.enumSource) {\r\n      vars = this.getWatchedFieldValues();\r\n      var select_options = [];\r\n      var select_titles = [];\r\n\r\n      for(var i=0; i<this.enumSource.length; i++) {\r\n        // Constant values\r\n        if(Array.isArray(this.enumSource[i])) {\r\n          select_options = select_options.concat(this.enumSource[i]);\r\n          select_titles = select_titles.concat(this.enumSource[i]);\r\n        }\r\n        // A watched field\r\n        else if(vars[this.enumSource[i].source]) {\r\n          var items = vars[this.enumSource[i].source];\r\n\r\n          // Only use a predefined part of the array\r\n          if(this.enumSource[i].slice) {\r\n            items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\r\n          }\r\n          // Filter the items\r\n          if(this.enumSource[i].filter) {\r\n            var new_items = [];\r\n            for(j=0; j<items.length; j++) {\r\n              if(this.enumSource[i].filter({i:j,item:items[j]})) new_items.push(items[j]);\r\n            }\r\n            items = new_items;\r\n          }\r\n\r\n          var item_titles = [];\r\n          var item_values = [];\r\n          for(j=0; j<items.length; j++) {\r\n            var item = items[j];\r\n\r\n            // Rendered value\r\n            if(this.enumSource[i].value) {\r\n              item_values[j] = this.enumSource[i].value({\r\n                i: j,\r\n                item: item\r\n              });\r\n            }\r\n            // Use value directly\r\n            else {\r\n              item_values[j] = items[j];\r\n            }\r\n\r\n            // Rendered title\r\n            if(this.enumSource[i].title) {\r\n              item_titles[j] = this.enumSource[i].title({\r\n                i: j,\r\n                item: item\r\n              });\r\n            }\r\n            // Use value as the title also\r\n            else {\r\n              item_titles[j] = item_values[j];\r\n            }\r\n          }\r\n\r\n          // TODO: sort\r\n\r\n          select_options = select_options.concat(item_values);\r\n          select_titles = select_titles.concat(item_titles);\r\n        }\r\n      }\r\n\r\n      var prev_value = this.value;\r\n\r\n      this.theme.setSelectOptions(this.input, select_options, select_titles);\r\n      this.enum_options = select_options;\r\n      this.enum_display = select_titles;\r\n      this.enum_values = select_options;\r\n\r\n      // If the previous value is still in the new select options, stick with it\r\n      if(select_options.indexOf(prev_value) !== -1) {\r\n        this.input.value = prev_value;\r\n        this.value = prev_value;\r\n      }\r\n\r\n      // Otherwise, set the value to the first select option\r\n      else {\r\n        this.input.value = select_options[0];\r\n        this.value = select_options[0] || \"\";\r\n        if(this.parent) this.parent.onChildEditorChange(this);\r\n        else this.jsoneditor.onChange();\r\n        this.jsoneditor.notifyWatchers(this.path);\r\n      }\r\n\r\n      if(this.selectize) {\r\n        // Update the Selectize options\r\n        this.updateSelectizeOptions(select_options);\r\n      }\r\n      else {\r\n        this.setupSelectize();\r\n      }\r\n\r\n      this._super();\r\n    }\r\n  },\r\n  updateSelectizeOptions: function(select_options) {\r\n    var selectized = this.selectize[0].selectize,\r\n        self = this;\r\n\r\n    selectized.off();\r\n    selectized.clearOptions();\r\n    for(var n in select_options) {\r\n      selectized.addOption({value:select_options[n],text:select_options[n]});\r\n    }\r\n    selectized.addItem(this.value);\r\n    selectized.on('change',function() {\r\n      self.onInputChange();\r\n    });\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) {\r\n      this.input.disabled = false;\r\n      if(this.selectize) {\r\n        this.selectize[0].selectize.unlock();\r\n      }\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    this.input.disabled = true;\r\n    if(this.selectize) {\r\n      this.selectize[0].selectize.lock();\r\n    }\r\n    this._super();\r\n  },\r\n  destroy: function() {\r\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    if(this.selectize) {\r\n      this.selectize[0].selectize.destroy();\r\n      this.selectize = null;\r\n    }\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.multiselect = JSONEditor.AbstractEditor.extend({\r\n  preBuild: function() {\r\n    this._super();\r\n\r\n    this.select_options = {};\r\n    this.select_values = {};\r\n\r\n    var items_schema = this.jsoneditor.expandRefs(this.schema.items || {});\r\n\r\n    var e = items_schema[\"enum\"] || [];\r\n    this.option_keys = [];\r\n    for(i=0; i<e.length; i++) {\r\n      // If the sanitized value is different from the enum value, don't include it\r\n      if(this.sanitize(e[i]) !== e[i]) continue;\r\n\r\n      this.option_keys.push(e[i]+\"\");\r\n      this.select_values[e[i]+\"\"] = e[i];\r\n    }\r\n  },\r\n  build: function() {\r\n    var self = this, i;\r\n    if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\r\n\r\n    if((!this.schema.format && this.option_keys.length < 8) || this.schema.format === \"checkbox\") {\r\n      this.input_type = 'checkboxes';\r\n\r\n      this.inputs = {};\r\n      this.controls = {};\r\n      for(i=0; i<this.option_keys.length; i++) {\r\n        this.inputs[this.option_keys[i]] = this.theme.getCheckbox();\r\n        this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]];\r\n        var label = this.theme.getCheckboxLabel(this.option_keys[i]);\r\n        this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]]);\r\n      }\r\n\r\n      this.control = this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description);\r\n    }\r\n    else {\r\n      this.input_type = 'select';\r\n      this.input = this.theme.getSelectInput(this.option_keys);\r\n      this.input.multiple = true;\r\n      this.input.size = Math.min(10,this.option_keys.length);\r\n\r\n      for(i=0; i<this.option_keys.length; i++) {\r\n        this.select_options[this.option_keys[i]] = this.input.children[i];\r\n      }\r\n\r\n      if(this.schema.readOnly || this.schema.readonly) {\r\n        this.always_disabled = true;\r\n        this.input.disabled = true;\r\n      }\r\n\r\n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\r\n    }\r\n\r\n    this.container.appendChild(this.control);\r\n    this.control.addEventListener('change',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      var new_value = [];\r\n      for(i = 0; i<self.option_keys.length; i++) {\r\n        if(self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked) new_value.push(self.select_values[self.option_keys[i]]);\r\n      }\r\n\r\n      self.updateValue(new_value);\r\n      self.onChange(true);\r\n    });\r\n  },\r\n  setValue: function(value, initial) {\r\n    var i;\r\n    value = value || [];\r\n    if(typeof value !== \"object\") value = [value];\r\n    else if(!(Array.isArray(value))) value = [];\r\n\r\n    // Make sure we are dealing with an array of strings so we can check for strict equality\r\n    for(i=0; i<value.length; i++) {\r\n      if(typeof value[i] !== \"string\") value[i] += \"\";\r\n    }\r\n\r\n    // Update selected status of options\r\n    for(i in this.select_options) {\r\n      if(!this.select_options.hasOwnProperty(i)) continue;\r\n\r\n      this.select_options[i][this.input_type === \"select\"? \"selected\" : \"checked\"] = (value.indexOf(i) !== -1);\r\n    }\r\n\r\n    this.updateValue(value);\r\n    this.onChange();\r\n  },\r\n  setupSelect2: function() {\r\n    if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2) {\r\n        var options = window.jQuery.extend({},JSONEditor.plugins.select2);\r\n        if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\r\n        this.select2 = window.jQuery(this.input).select2(options);\r\n        var self = this;\r\n        this.select2.on('select2-blur',function() {\r\n            var val =self.select2.select2('val');\r\n            self.value = val;\r\n            self.onChange(true);\r\n        });\r\n    }\r\n    else {\r\n        this.select2 = null;\r\n    }\r\n  },\r\n  onInputChange: function() {\r\n      this.value = this.input.value;\r\n      this.onChange(true);\r\n  },\r\n  postBuild: function() {\r\n      this._super();\r\n      this.setupSelect2();\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.setAttribute('name',this.formname);\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.removeAttribute('name');\r\n  },\r\n  getNumColumns: function() {\r\n    var longest_text = this.getTitle().length;\r\n    for(var i in this.select_values) {\r\n      if(!this.select_values.hasOwnProperty(i)) continue;\r\n      longest_text = Math.max(longest_text,(this.select_values[i]+\"\").length+4);\r\n    }\r\n\r\n    return Math.min(12,Math.max(longest_text/7,2));\r\n  },\r\n  updateValue: function(value) {\r\n    var changed = false;\r\n    var new_value = [];\r\n    for(var i=0; i<value.length; i++) {\r\n      if(!this.select_options[value[i]+\"\"]) {\r\n        changed = true;\r\n        continue;\r\n      }\r\n      var sanitized = this.sanitize(this.select_values[value[i]]);\r\n      new_value.push(sanitized);\r\n      if(sanitized !== value[i]) changed = true;\r\n    }\r\n    this.value = new_value;\r\n    if(this.select2) this.select2.select2('val',this.value);\r\n    return changed;\r\n  },\r\n  sanitize: function(value) {\r\n    if(this.schema.items.type === \"number\") {\r\n      return 1*value;\r\n    }\r\n    else if(this.schema.items.type === \"integer\") {\r\n      return Math.floor(value*1);\r\n    }\r\n    else {\r\n      return \"\"+value;\r\n    }\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) {\r\n      if(this.input) {\r\n        this.input.disabled = false;\r\n      }\r\n      else if(this.inputs) {\r\n        for(var i in this.inputs) {\r\n          if(!this.inputs.hasOwnProperty(i)) continue;\r\n          this.inputs[i].disabled = false;\r\n        }\r\n      }\r\n      if(this.select2) this.select2.select2(\"enable\",true);\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    if(this.input) {\r\n      this.input.disabled = true;\r\n    }\r\n    else if(this.inputs) {\r\n      for(var i in this.inputs) {\r\n        if(!this.inputs.hasOwnProperty(i)) continue;\r\n        this.inputs[i].disabled = true;\r\n      }\r\n    }\r\n    if(this.select2) this.select2.select2(\"enable\",false);\r\n    this._super();\r\n  },\r\n  destroy: function() {\r\n    if(this.select2) {\r\n        this.select2.select2('destroy');\r\n        this.select2 = null;\r\n    }\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.base64 = JSONEditor.AbstractEditor.extend({\r\n  getNumColumns: function() {\r\n    return 4;\r\n  },\r\n  build: function() {    \r\n    var self = this;\r\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n\r\n    // Input that holds the base64 string\r\n    this.input = this.theme.getFormInputField('hidden');\r\n    this.container.appendChild(this.input);\r\n    \r\n    // Don't show uploader if this is readonly\r\n    if(!this.schema.readOnly && !this.schema.readonly) {\r\n      if(!window.FileReader) throw \"FileReader required for base64 editor\";\r\n      \r\n      // File uploader\r\n      this.uploader = this.theme.getFormInputField('file');\r\n      \r\n      this.uploader.addEventListener('change',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        \r\n        if(this.files && this.files.length) {\r\n          var fr = new FileReader();\r\n          fr.onload = function(evt) {\r\n            self.value = evt.target.result;\r\n            self.refreshPreview();\r\n            self.onChange(true);\r\n            fr = null;\r\n          };\r\n          fr.readAsDataURL(this.files[0]);\r\n        }\r\n      });\r\n    }\r\n\r\n    this.preview = this.theme.getFormInputDescription(this.schema.description);\r\n    this.container.appendChild(this.preview);\r\n\r\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\r\n    this.container.appendChild(this.control);\r\n  },\r\n  refreshPreview: function() {\r\n    if(this.last_preview === this.value) return;\r\n    this.last_preview = this.value;\r\n    \r\n    this.preview.innerHTML = '';\r\n    \r\n    if(!this.value) return;\r\n    \r\n    var mime = this.value.match(/^data:([^;,]+)[;,]/);\r\n    if(mime) mime = mime[1];\r\n    \r\n    if(!mime) {\r\n      this.preview.innerHTML = '<em>Invalid data URI</em>';\r\n    }\r\n    else {\r\n      this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+Math.floor((this.value.length-this.value.split(',')[0].length-1)/1.33333)+' bytes';\r\n      if(mime.substr(0,5)===\"image\") {\r\n        this.preview.innerHTML += '<br>';\r\n        var img = document.createElement('img');\r\n        img.style.maxWidth = '100%';\r\n        img.style.maxHeight = '100px';\r\n        img.src = this.value;\r\n        this.preview.appendChild(img);\r\n      }\r\n    }\r\n  },\r\n  enable: function() {\r\n    if(this.uploader) this.uploader.disabled = false;\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    if(this.uploader) this.uploader.disabled = true;\r\n    this._super();\r\n  },\r\n  setValue: function(val) {\r\n    if(this.value !== val) {\r\n      this.value = val;\r\n      this.input.value = this.value;\r\n      this.refreshPreview();\r\n      this.onChange();\r\n    }\r\n  },\r\n  destroy: function() {\r\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\r\n\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.upload = JSONEditor.AbstractEditor.extend({\r\n  getNumColumns: function() {\r\n    return 4;\r\n  },\r\n  build: function() {    \r\n    var self = this;\r\n    this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle(),this.isRequired());\r\n\r\n    // Input that holds the base64 string\r\n    this.input = this.theme.getFormInputField('hidden');\r\n    this.container.appendChild(this.input);\r\n    \r\n    // Don't show uploader if this is readonly\r\n    if(!this.schema.readOnly && !this.schema.readonly) {\r\n\r\n      if(!this.jsoneditor.options.upload) throw \"Upload handler required for upload editor\";\r\n\r\n      // File uploader\r\n      this.uploader = this.theme.getFormInputField('file');\r\n      \r\n      this.uploader.addEventListener('change',function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        \r\n        if(this.files && this.files.length) {\r\n          var fr = new FileReader();\r\n          fr.onload = function(evt) {\r\n            self.preview_value = evt.target.result;\r\n            self.refreshPreview();\r\n            self.onChange(true);\r\n            fr = null;\r\n          };\r\n          fr.readAsDataURL(this.files[0]);\r\n        }\r\n      });\r\n    }\r\n\r\n    var description = this.schema.description;\r\n    if (!description) description = '';\r\n\r\n    this.preview = this.theme.getFormInputDescription(description);\r\n    this.container.appendChild(this.preview);\r\n\r\n    this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\r\n    this.container.appendChild(this.control);\r\n  },\r\n  refreshPreview: function() {\r\n    if(this.last_preview === this.preview_value) return;\r\n    this.last_preview = this.preview_value;\r\n\r\n    this.preview.innerHTML = '';\r\n    \r\n    if(!this.preview_value) return;\r\n\r\n    var self = this;\r\n\r\n    var mime = this.preview_value.match(/^data:([^;,]+)[;,]/);\r\n    if(mime) mime = mime[1];\r\n    if(!mime) mime = 'unknown';\r\n\r\n    var file = this.uploader.files[0];\r\n\r\n    this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+file.size+' bytes';\r\n    if(mime.substr(0,5)===\"image\") {\r\n      this.preview.innerHTML += '<br>';\r\n      var img = document.createElement('img');\r\n      img.style.maxWidth = '100%';\r\n      img.style.maxHeight = '100px';\r\n      img.src = this.preview_value;\r\n      this.preview.appendChild(img);\r\n    }\r\n\r\n    this.preview.innerHTML += '<br>';\r\n    var uploadButton = this.getButton('Upload', 'upload', 'Upload');\r\n    this.preview.appendChild(uploadButton);\r\n    uploadButton.addEventListener('click',function(event) {\r\n      event.preventDefault();\r\n\r\n      uploadButton.setAttribute(\"disabled\", \"disabled\");\r\n      self.theme.removeInputError(self.uploader);\r\n\r\n      if (self.theme.getProgressBar) {\r\n        self.progressBar = self.theme.getProgressBar();\r\n        self.preview.appendChild(self.progressBar);\r\n      }\r\n\r\n      self.jsoneditor.options.upload(self.path, file, {\r\n        success: function(url) {\r\n          self.setValue(url);\r\n\r\n          if(self.parent) self.parent.onChildEditorChange(self);\r\n          else self.jsoneditor.onChange();\r\n\r\n          if (self.progressBar) self.preview.removeChild(self.progressBar);\r\n          uploadButton.removeAttribute(\"disabled\");\r\n        },\r\n        failure: function(error) {\r\n          self.theme.addInputError(self.uploader, error);\r\n          if (self.progressBar) self.preview.removeChild(self.progressBar);\r\n          uploadButton.removeAttribute(\"disabled\");\r\n        },\r\n        updateProgress: function(progress) {\r\n          if (self.progressBar) {\r\n            if (progress) self.theme.updateProgressBar(self.progressBar, progress);\r\n            else self.theme.updateProgressBarUnknown(self.progressBar);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  },\r\n  enable: function() {\r\n    if(this.uploader) this.uploader.disabled = false;\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    if(this.uploader) this.uploader.disabled = true;\r\n    this._super();\r\n  },\r\n  setValue: function(val) {\r\n    if(this.value !== val) {\r\n      this.value = val;\r\n      this.input.value = this.value;\r\n      this.onChange();\r\n    }\r\n  },\r\n  destroy: function() {\r\n    if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\r\n\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.checkbox = JSONEditor.AbstractEditor.extend({\r\n  setValue: function(value,initial) {\r\n    this.value = !!value;\r\n    this.input.checked = this.value;\r\n    this.onChange();\r\n  },\r\n  register: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.setAttribute('name',this.formname);\r\n  },\r\n  unregister: function() {\r\n    this._super();\r\n    if(!this.input) return;\r\n    this.input.removeAttribute('name');\r\n  },\r\n  getNumColumns: function() {\r\n    return Math.min(12,Math.max(this.getTitle().length/7,2));\r\n  },\r\n  build: function() {\r\n    var self = this;\r\n    if(!this.options.compact) {\r\n      this.label = this.header = this.theme.getCheckboxLabel(this.getTitle());\r\n    }\r\n    if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\r\n    if(this.options.compact) this.container.className += ' compact';\r\n\r\n    this.input = this.theme.getCheckbox();\r\n    this.control = this.theme.getFormControl(this.label, this.input, this.description);\r\n\r\n    if(this.schema.readOnly || this.schema.readonly) {\r\n      this.always_disabled = true;\r\n      this.input.disabled = true;\r\n    }\r\n\r\n    this.input.addEventListener('change',function(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      self.value = this.checked;\r\n      self.onChange(true);\r\n    });\r\n\r\n    this.container.appendChild(this.control);\r\n  },\r\n  enable: function() {\r\n    if(!this.always_disabled) {\r\n      this.input.disabled = false;\r\n    }\r\n    this._super();\r\n  },\r\n  disable: function() {\r\n    this.input.disabled = true;\r\n    this._super();\r\n  },\r\n  destroy: function() {\r\n    if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n    this._super();\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.editors.arraySelectize = JSONEditor.AbstractEditor.extend({\r\n  build: function() {\r\n    this.title = this.theme.getFormInputLabel(this.getTitle());\r\n\r\n    this.title_controls = this.theme.getHeaderButtonHolder();\r\n    this.title.appendChild(this.title_controls);\r\n    this.error_holder = document.createElement('div');\r\n\r\n    if(this.schema.description) {\r\n      this.description = this.theme.getDescription(this.schema.description);\r\n    }\r\n\r\n    this.input = document.createElement('select');\r\n    this.input.setAttribute('multiple', 'multiple');\r\n\r\n    var group = this.theme.getFormControl(this.title, this.input, this.description);\r\n\r\n    this.container.appendChild(group);\r\n    this.container.appendChild(this.error_holder);\r\n\r\n    window.jQuery(this.input).selectize({\r\n      delimiter: false,\r\n      createOnBlur: true,\r\n      create: true\r\n    });\r\n  },\r\n  postBuild: function() {\r\n      var self = this;\r\n      this.input.selectize.on('change', function(event) {\r\n          self.refreshValue();\r\n          self.onChange(true);\r\n      });\r\n  },\r\n  destroy: function() {\r\n    this.empty(true);\r\n    if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\r\n    if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\r\n    if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\r\n\r\n    this._super();\r\n  },\r\n  empty: function(hard) {},\r\n  setValue: function(value, initial) {\r\n    var self = this;\r\n    // Update the array's value, adding/removing rows when necessary\r\n    value = value || [];\r\n    if(!(Array.isArray(value))) value = [value];\r\n\r\n    this.input.selectize.clearOptions();\r\n    this.input.selectize.clear(true);\r\n\r\n    value.forEach(function(item) {\r\n      self.input.selectize.addOption({text: item, value: item});\r\n    });\r\n    this.input.selectize.setValue(value);\r\n\r\n    this.refreshValue(initial);\r\n  },\r\n  refreshValue: function(force) {\r\n    this.value = this.input.selectize.getValue();\r\n  },\r\n  showValidationErrors: function(errors) {\r\n    var self = this;\r\n\r\n    // Get all the errors that pertain to this editor\r\n    var my_errors = [];\r\n    var other_errors = [];\r\n    $each(errors, function(i,error) {\r\n      if(error.path === self.path) {\r\n        my_errors.push(error);\r\n      }\r\n      else {\r\n        other_errors.push(error);\r\n      }\r\n    });\r\n\r\n    // Show errors for this editor\r\n    if(this.error_holder) {\r\n\r\n      if(my_errors.length) {\r\n        var message = [];\r\n        this.error_holder.innerHTML = '';\r\n        this.error_holder.style.display = '';\r\n        $each(my_errors, function(i,error) {\r\n          self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\r\n        });\r\n      }\r\n      // Hide error area\r\n      else {\r\n        this.error_holder.style.display = 'none';\r\n      }\r\n    }\r\n  }\r\n});\r\n",
    "var matchKey = (function () {\r\n  var elem = document.documentElement;\r\n\r\n  if (elem.matches) return 'matches';\r\n  else if (elem.webkitMatchesSelector) return 'webkitMatchesSelector';\r\n  else if (elem.mozMatchesSelector) return 'mozMatchesSelector';\r\n  else if (elem.msMatchesSelector) return 'msMatchesSelector';\r\n  else if (elem.oMatchesSelector) return 'oMatchesSelector';\r\n})();\r\n\r\nJSONEditor.AbstractTheme = Class.extend({\r\n  getContainer: function() {\r\n    return document.createElement('div');\r\n  },\r\n  getFloatRightLinkHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.style = el.style || {};\r\n    el.style.cssFloat = 'right';\r\n    el.style.marginLeft = '10px';\r\n    return el;\r\n  },\r\n  getModal: function() {\r\n    var el = document.createElement('div');\r\n    el.style.backgroundColor = 'white';\r\n    el.style.border = '1px solid black';\r\n    el.style.boxShadow = '3px 3px black';\r\n    el.style.position = 'absolute';\r\n    el.style.zIndex = '10';\r\n    el.style.display = 'none';\r\n    return el;\r\n  },\r\n  getGridContainer: function() {\r\n    var el = document.createElement('div');\r\n    return el;\r\n  },\r\n  getGridRow: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'row';\r\n    return el;\r\n  },\r\n  getGridColumn: function() {\r\n    var el = document.createElement('div');\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n\r\n  },\r\n  getLink: function(text) {\r\n    var el = document.createElement('a');\r\n    el.setAttribute('href','#');\r\n    el.appendChild(document.createTextNode(text));\r\n    return el;\r\n  },\r\n  disableHeader: function(header) {\r\n    header.style.color = '#ccc';\r\n  },\r\n  disableLabel: function(label) {\r\n    label.style.color = '#ccc';\r\n  },\r\n  enableHeader: function(header) {\r\n    header.style.color = '';\r\n  },\r\n  enableLabel: function(label) {\r\n    label.style.color = '';\r\n  },\r\n  getFormInputLabel: function(text) {\r\n    var el = document.createElement('label');\r\n    el.appendChild(document.createTextNode(text));\r\n    return el;\r\n  },\r\n  getCheckboxLabel: function(text) {\r\n    var el = this.getFormInputLabel(text);\r\n    el.style.fontWeight = 'normal';\r\n    return el;\r\n  },\r\n  getHeader: function(text, required) {\r\n    var el = document.createElement('h3');\r\n    if(typeof text === \"string\") {\r\n      el.textContent = text;\r\n    }\r\n    else {\r\n      el.appendChild(text);\r\n    }\r\n\r\n    if(required)el.className += \" required\";\r\n\r\n    return el;\r\n  },\r\n  getCheckbox: function() {\r\n    var el = this.getFormInputField('checkbox');\r\n    el.style.display = 'inline-block';\r\n    el.style.width = 'auto';\r\n    return el;\r\n  },\r\n  getMultiCheckboxHolder: function(controls,label,description) {\r\n    var el = document.createElement('div');\r\n\r\n    if(label) {\r\n      label.style.display = 'block';\r\n      el.appendChild(label);\r\n    }\r\n\r\n    for(var i in controls) {\r\n      if(!controls.hasOwnProperty(i)) continue;\r\n      controls[i].style.display = 'inline-block';\r\n      controls[i].style.marginRight = '20px';\r\n      el.appendChild(controls[i]);\r\n    }\r\n\r\n    if(description) el.appendChild(description);\r\n\r\n    return el;\r\n  },\r\n  getSelectInput: function(options) {\r\n    var select = document.createElement('select');\r\n    if(options) this.setSelectOptions(select, options);\r\n    return select;\r\n  },\r\n  getSwitcher: function(options) {\r\n    var switcher = this.getSelectInput(options);\r\n    switcher.style.backgroundColor = 'transparent';\r\n    switcher.style.display = 'inline-block';\r\n    switcher.style.fontStyle = 'italic';\r\n    switcher.style.fontWeight = 'normal';\r\n    switcher.style.height = 'auto';\r\n    switcher.style.marginBottom = 0;\r\n    switcher.style.marginLeft = '5px';\r\n    switcher.style.padding = '0 0 0 3px';\r\n    switcher.style.width = 'auto';\r\n    return switcher;\r\n  },\r\n  getSwitcherOptions: function(switcher) {\r\n    return switcher.getElementsByTagName('option');\r\n  },\r\n  setSwitcherOptions: function(switcher, options, titles) {\r\n    this.setSelectOptions(switcher, options, titles);\r\n  },\r\n  setSelectOptions: function(select, options, titles) {\r\n    titles = titles || [];\r\n    select.innerHTML = '';\r\n    for(var i=0; i<options.length; i++) {\r\n      var option = document.createElement('option');\r\n      option.setAttribute('value',options[i]);\r\n      option.textContent = titles[i] || options[i];\r\n      select.appendChild(option);\r\n    }\r\n  },\r\n  getTextareaInput: function() {\r\n    var el = document.createElement('textarea');\r\n    el.style = el.style || {};\r\n    el.style.width = '100%';\r\n    el.style.height = '300px';\r\n    el.style.boxSizing = 'border-box';\r\n    return el;\r\n  },\r\n  getRangeInput: function(min,max,step) {\r\n    var el = this.getFormInputField('range');\r\n    el.setAttribute('min',min);\r\n    el.setAttribute('max',max);\r\n    el.setAttribute('step',step);\r\n    return el;\r\n  },\r\n  getFormInputField: function(type) {\r\n    var el = document.createElement('input');\r\n    el.setAttribute('type',type);\r\n    return el;\r\n  },\r\n  afterInputReady: function(input) {\r\n\r\n  },\r\n  getFormControl: function(label, input, description) {\r\n    var el = document.createElement('div');\r\n    el.className = 'form-control';\r\n    if(label) el.appendChild(label);\r\n    if(input.type === 'checkbox') {\r\n      label.insertBefore(input,label.firstChild);\r\n    }\r\n    else {\r\n      el.appendChild(input);\r\n    }\r\n\r\n    if(description) el.appendChild(description);\r\n    return el;\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = document.createElement('div');\r\n    el.style = el.style || {};\r\n    el.style.paddingLeft = '10px';\r\n    el.style.marginLeft = '10px';\r\n    el.style.borderLeft = '1px solid #ccc';\r\n    return el;\r\n  },\r\n  getChildEditorHolder: function() {\r\n    return document.createElement('div');\r\n  },\r\n  getDescription: function(text) {\r\n    var el = document.createElement('p');\r\n    el.innerHTML = text;\r\n    return el;\r\n  },\r\n  getCheckboxDescription: function(text) {\r\n    return this.getDescription(text);\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    return this.getDescription(text);\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    return this.getButtonHolder();\r\n  },\r\n  getButtonHolder: function() {\r\n    return document.createElement('div');\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var el = document.createElement('button');\r\n    el.type = 'button';\r\n    this.setButtonText(el,text,icon,title);\r\n    return el;\r\n  },\r\n  setButtonText: function(button, text, icon, title) {\r\n    button.innerHTML = '';\r\n    if(icon) {\r\n      button.appendChild(icon);\r\n      button.innerHTML += ' ';\r\n    }\r\n    button.appendChild(document.createTextNode(text));\r\n    if(title) button.setAttribute('title',title);\r\n  },\r\n  getTable: function() {\r\n    return document.createElement('table');\r\n  },\r\n  getTableRow: function() {\r\n    return document.createElement('tr');\r\n  },\r\n  getTableHead: function() {\r\n    return document.createElement('thead');\r\n  },\r\n  getTableBody: function() {\r\n    return document.createElement('tbody');\r\n  },\r\n  getTableHeaderCell: function(text) {\r\n    var el = document.createElement('th');\r\n    el.textContent = text;\r\n    return el;\r\n  },\r\n  getTableCell: function() {\r\n    var el = document.createElement('td');\r\n    return el;\r\n  },\r\n  getErrorMessage: function(text) {\r\n    var el = document.createElement('p');\r\n    el.style = el.style || {};\r\n    el.style.color = 'red';\r\n    el.appendChild(document.createTextNode(text));\r\n    return el;\r\n  },\r\n  addInputError: function(input, text) {\r\n  },\r\n  removeInputError: function(input) {\r\n  },\r\n  addTableRowError: function(row) {\r\n  },\r\n  removeTableRowError: function(row) {\r\n  },\r\n  getTabHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>\";\r\n    return el;\r\n  },\r\n  applyStyles: function(el,styles) {\r\n    el.style = el.style || {};\r\n    for(var i in styles) {\r\n      if(!styles.hasOwnProperty(i)) continue;\r\n      el.style[i] = styles[i];\r\n    }\r\n  },\r\n  closest: function(elem, selector) {\r\n    while (elem && elem !== document) {\r\n      if (matchKey) {\r\n        if (elem[matchKey](selector)) {\r\n          return elem;\r\n        } else {\r\n          elem = elem.parentNode;\r\n        }\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  getTab: function(span) {\r\n    var el = document.createElement('div');\r\n    el.appendChild(span);\r\n    el.style = el.style || {};\r\n    this.applyStyles(el,{\r\n      border: '1px solid #ccc',\r\n      borderWidth: '1px 0 1px 1px',\r\n      textAlign: 'center',\r\n      lineHeight: '30px',\r\n      borderRadius: '5px',\r\n      borderBottomRightRadius: 0,\r\n      borderTopRightRadius: 0,\r\n      fontWeight: 'bold',\r\n      cursor: 'pointer'\r\n    });\r\n    return el;\r\n  },\r\n  getTabContentHolder: function(tab_holder) {\r\n    return tab_holder.children[1];\r\n  },\r\n  getTabContent: function() {\r\n    return this.getIndentedPanel();\r\n  },\r\n  markTabActive: function(tab) {\r\n    this.applyStyles(tab,{\r\n      opacity: 1,\r\n      background: 'white'\r\n    });\r\n  },\r\n  markTabInactive: function(tab) {\r\n    this.applyStyles(tab,{\r\n      opacity:0.5,\r\n      background: ''\r\n    });\r\n  },\r\n  addTab: function(holder, tab) {\r\n    holder.children[0].appendChild(tab);\r\n  },\r\n  getBlockLink: function() {\r\n    var link = document.createElement('a');\r\n    link.style.display = 'block';\r\n    return link;\r\n  },\r\n  getBlockLinkHolder: function() {\r\n    var el = document.createElement('div');\r\n    return el;\r\n  },\r\n  getLinksHolder: function() {\r\n    var el = document.createElement('div');\r\n    return el;\r\n  },\r\n  createMediaLink: function(holder,link,media) {\r\n    holder.appendChild(link);\r\n    media.style.width='100%';\r\n    holder.appendChild(media);\r\n  },\r\n  createImageLink: function(holder,link,image) {\r\n    holder.appendChild(link);\r\n    link.appendChild(image);\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.themes.bootstrap2 = JSONEditor.AbstractTheme.extend({\r\n  getRangeInput: function(min, max, step) {\r\n    // TODO: use bootstrap slider\r\n    return this._super(min, max, step);\r\n  },\r\n  getGridContainer: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'container-fluid';\r\n    return el;\r\n  },\r\n  getGridRow: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'row-fluid';\r\n    return el;\r\n  },\r\n  getFormInputLabel: function(text, required) {\r\n    var el = this._super(text);\r\n    el.style.display = 'inline-block';\r\n    el.style.fontWeight = 'bold';\r\n    if(required)el.className += \" required\";\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n    el.className = 'span'+size;\r\n  },\r\n  getSelectInput: function(options) {\r\n    var input = this._super(options);\r\n    input.style.width = 'auto';\r\n    input.style.maxWidth = '98%';\r\n    return input;\r\n  },\r\n  getFormInputField: function(type) {\r\n    var el = this._super(type);\r\n    el.style.width = '98%';\r\n    return el;\r\n  },\r\n  afterInputReady: function(input) {\r\n    if(input.controlgroup) return;\r\n    input.controlgroup = this.closest(input,'.control-group');\r\n    input.controls = this.closest(input,'.controls');\r\n    if(this.closest(input,'.compact')) {\r\n      input.controlgroup.className = input.controlgroup.className.replace(/control-group/g,'').replace(/[ ]{2,}/g,' ');\r\n      input.controls.className = input.controlgroup.className.replace(/controls/g,'').replace(/[ ]{2,}/g,' ');\r\n      input.style.marginBottom = 0;\r\n    }\r\n\r\n    // TODO: use bootstrap slider\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'well well-small';\r\n    el.style.paddingBottom = 0;\r\n    return el;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = document.createElement('p');\r\n    el.className = 'help-inline';\r\n    el.textContent = text;\r\n    return el;\r\n  },\r\n  getFormControl: function(label, input, description) {\r\n    var ret = document.createElement('div');\r\n    ret.className = 'control-group';\r\n\r\n    var controls = document.createElement('div');\r\n    controls.className = 'controls';\r\n\r\n    if(label && input.getAttribute('type') === 'checkbox') {\r\n      ret.appendChild(controls);\r\n      label.className += ' checkbox';\r\n      label.appendChild(input);\r\n      controls.appendChild(label);\r\n      controls.style.height = '30px';\r\n    }\r\n    else {\r\n      if(label) {\r\n        label.className += ' control-label';\r\n        ret.appendChild(label);\r\n      }\r\n      controls.appendChild(input);\r\n      ret.appendChild(controls);\r\n    }\r\n\r\n    if(description) controls.appendChild(description);\r\n\r\n    return ret;\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    var el = this.getButtonHolder();\r\n    el.style.marginLeft = '10px';\r\n    return el;\r\n  },\r\n  getButtonHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'btn-group';\r\n    return el;\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var el =  this._super(text, icon, title);\r\n    el.className += ' btn btn-default';\r\n    return el;\r\n  },\r\n  getTable: function() {\r\n    var el = document.createElement('table');\r\n    el.className = 'table table-bordered';\r\n    el.style.width = 'auto';\r\n    el.style.maxWidth = 'none';\r\n    return el;\r\n  },\r\n  addInputError: function(input,text) {\r\n    if(!input.controlgroup || !input.controls) return;\r\n    input.controlgroup.className += ' error';\r\n    if(!input.errmsg) {\r\n      input.errmsg = document.createElement('p');\r\n      input.errmsg.className = 'help-block errormsg';\r\n      input.controls.appendChild(input.errmsg);\r\n    }\r\n    else {\r\n      input.errmsg.style.display = '';\r\n    }\r\n\r\n    input.errmsg.textContent = text;\r\n  },\r\n  removeInputError: function(input) {\r\n    if(!input.errmsg) return;\r\n    input.errmsg.style.display = 'none';\r\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?error/g,'');\r\n  },\r\n  getTabHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'tabbable tabs-left';\r\n    el.innerHTML = \"<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>\";\r\n    return el;\r\n  },\r\n  getTab: function(text) {\r\n    var el = document.createElement('li');\r\n    var a = document.createElement('a');\r\n    a.setAttribute('href','#');\r\n    a.appendChild(text);\r\n    el.appendChild(a);\r\n    return el;\r\n  },\r\n  getTabContentHolder: function(tab_holder) {\r\n    return tab_holder.children[1];\r\n  },\r\n  getTabContent: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'tab-pane active';\r\n    return el;\r\n  },\r\n  markTabActive: function(tab) {\r\n    tab.className += ' active';\r\n  },\r\n  markTabInactive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s?active/g,'');\r\n  },\r\n  addTab: function(holder, tab) {\r\n    holder.children[0].appendChild(tab);\r\n  },\r\n  getProgressBar: function() {\r\n    var container = document.createElement('div');\r\n    container.className = 'progress';\r\n\r\n    var bar = document.createElement('div');\r\n    bar.className = 'bar';\r\n    bar.style.width = '0%';\r\n    container.appendChild(bar);\r\n\r\n    return container;\r\n  },\r\n  updateProgressBar: function(progressBar, progress) {\r\n    if (!progressBar) return;\r\n\r\n    progressBar.firstChild.style.width = progress + \"%\";\r\n  },\r\n  updateProgressBarUnknown: function(progressBar) {\r\n    if (!progressBar) return;\r\n\r\n    progressBar.className = 'progress progress-striped active';\r\n    progressBar.firstChild.style.width = '100%';\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.themes.bootstrap3 = JSONEditor.AbstractTheme.extend({\r\n  getSelectInput: function(options) {\r\n    var el = this._super(options);\r\n    el.className += 'form-control';\r\n    //el.style.width = 'auto';\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n    el.className = 'col-md-'+size;\r\n  },\r\n  afterInputReady: function(input) {\r\n    if(input.controlgroup) return;\r\n    input.controlgroup = this.closest(input,'.form-group');\r\n    if(this.closest(input,'.compact')) {\r\n      input.controlgroup.style.marginBottom = 0;\r\n    }\r\n\r\n    // TODO: use bootstrap slider\r\n  },\r\n  getTextareaInput: function() {\r\n    var el = document.createElement('textarea');\r\n    el.className = 'form-control';\r\n    return el;\r\n  },\r\n  getRangeInput: function(min, max, step) {\r\n    // TODO: use better slider\r\n    return this._super(min, max, step);\r\n  },\r\n  getFormInputField: function(type) {\r\n    var el = this._super(type);\r\n    if(type !== 'checkbox') {\r\n      el.className += 'form-control';\r\n    }\r\n    return el;\r\n  },\r\n  getFormControl: function(label, input, description) {\r\n    var group = document.createElement('div');\r\n\r\n    if(label && input.type === 'checkbox') {\r\n      group.className += ' checkbox';\r\n      label.appendChild(input);\r\n      label.style.fontSize = '14px';\r\n      group.style.marginTop = '0';\r\n      group.appendChild(label);\r\n      input.style.position = 'relative';\r\n      input.style.cssFloat = 'left';\r\n    } \r\n    else {\r\n      group.className += ' form-group';\r\n      if(label) {\r\n        label.className += ' control-label';\r\n        group.appendChild(label);\r\n      }\r\n      group.appendChild(input);\r\n    }\r\n\r\n    if(description) group.appendChild(description);\r\n\r\n    return group;\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'well well-sm';\r\n    el.style.paddingBottom = 0;\r\n    return el;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = document.createElement('p');\r\n    el.className = 'help-block';\r\n    el.innerHTML = text;\r\n    return el;\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    var el = this.getButtonHolder();\r\n    el.style.marginLeft = '10px';\r\n    return el;\r\n  },\r\n  getButtonHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'btn-group';\r\n    return el;\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var el = this._super(text, icon, title);\r\n    el.className += 'btn btn-default';\r\n    return el;\r\n  },\r\n  getTable: function() {\r\n    var el = document.createElement('table');\r\n    el.className = 'table table-bordered';\r\n    el.style.width = 'auto';\r\n    el.style.maxWidth = 'none';\r\n    return el;\r\n  },\r\n\r\n  addInputError: function(input,text) {\r\n    if(!input.controlgroup) return;\r\n    input.controlgroup.className += ' has-error';\r\n    if(!input.errmsg) {\r\n      input.errmsg = document.createElement('p');\r\n      input.errmsg.className = 'help-block errormsg';\r\n      input.controlgroup.appendChild(input.errmsg);\r\n    }\r\n    else {\r\n      input.errmsg.style.display = '';\r\n    }\r\n\r\n    input.errmsg.textContent = text;\r\n  },\r\n  removeInputError: function(input) {\r\n    if(!input.errmsg) return;\r\n    input.errmsg.style.display = 'none';\r\n    input.controlgroup.className = input.controlgroup.className.replace(/\\s?has-error/g,'');\r\n  },\r\n  getTabHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.innerHTML = \"<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>\";\r\n    el.className = 'rows';\r\n    return el;\r\n  },\r\n  getTab: function(text) {\r\n    var el = document.createElement('a');\r\n    el.className = 'list-group-item';\r\n    el.setAttribute('href','#');\r\n    el.appendChild(text);\r\n    return el;\r\n  },\r\n  markTabActive: function(tab) {\r\n    tab.className += ' active';\r\n  },\r\n  markTabInactive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s?active/g,'');\r\n  },\r\n  getProgressBar: function() {\r\n    var min = 0, max = 100, start = 0;\r\n\r\n    var container = document.createElement('div');\r\n    container.className = 'progress';\r\n\r\n    var bar = document.createElement('div');\r\n    bar.className = 'progress-bar';\r\n    bar.setAttribute('role', 'progressbar');\r\n    bar.setAttribute('aria-valuenow', start);\r\n    bar.setAttribute('aria-valuemin', min);\r\n    bar.setAttribute('aria-valuenax', max);\r\n    bar.innerHTML = start + \"%\";\r\n    container.appendChild(bar);\r\n\r\n    return container;\r\n  },\r\n  updateProgressBar: function(progressBar, progress) {\r\n    if (!progressBar) return;\r\n\r\n    var bar = progressBar.firstChild;\r\n    var percentage = progress + \"%\";\r\n    bar.setAttribute('aria-valuenow', progress);\r\n    bar.style.width = percentage;\r\n    bar.innerHTML = percentage;\r\n  },\r\n  updateProgressBarUnknown: function(progressBar) {\r\n    if (!progressBar) return;\r\n\r\n    var bar = progressBar.firstChild;\r\n    progressBar.className = 'progress progress-striped active';\r\n    bar.removeAttribute('aria-valuenow');\r\n    bar.style.width = '100%';\r\n    bar.innerHTML = '';\r\n  }\r\n});\r\n",
    "// Base Foundation theme\r\nJSONEditor.defaults.themes.foundation = JSONEditor.AbstractTheme.extend({\r\n  getChildEditorHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.style.marginBottom = '15px';\r\n    return el;\r\n  },\r\n  getSelectInput: function(options) {\r\n    var el = this._super(options);\r\n    el.style.minWidth = 'none';\r\n    el.style.padding = '5px';\r\n    el.style.marginTop = '3px';\r\n    return el;\r\n  },\r\n  getSwitcher: function(options) {\r\n    var el = this._super(options);\r\n    el.style.paddingRight = '8px';\r\n    return el;\r\n  },\r\n  afterInputReady: function(input) {\r\n    if(this.closest(input,'.compact')) {\r\n      input.style.marginBottom = 0;\r\n    }\r\n    input.group = this.closest(input,'.form-control');\r\n  },\r\n  getFormInputLabel: function(text, required) {\r\n    var el = this._super(text);\r\n    el.style.display = 'inline-block';\r\n    if(required)el.className += \" required\";\r\n    return el;\r\n  },\r\n  getFormInputField: function(type) {\r\n    var el = this._super(type);\r\n    el.style.width = '100%';\r\n    el.style.marginBottom = type==='checkbox'? '0' : '12px';\r\n    return el;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = document.createElement('p');\r\n    el.textContent = text;\r\n    el.style.marginTop = '-10px';\r\n    el.style.fontStyle = 'italic';\r\n    return el;\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'panel';\r\n    el.style.paddingBottom = 0;\r\n    return el;\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    var el = this.getButtonHolder();\r\n    el.style.display = 'inline-block';\r\n    el.style.marginLeft = '10px';\r\n    el.style.verticalAlign = 'middle';\r\n    return el;\r\n  },\r\n  getButtonHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'button-group';\r\n    return el;\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var el = this._super(text, icon, title);\r\n    el.className += ' small button';\r\n    return el;\r\n  },\r\n  addInputError: function(input,text) {\r\n    if(!input.group) return;\r\n    input.group.className += ' error';\r\n    \r\n    if(!input.errmsg) {\r\n      input.insertAdjacentHTML('afterend','<small class=\"error\"></small>');\r\n      input.errmsg = input.parentNode.getElementsByClassName('error')[0];\r\n    }\r\n    else {\r\n      input.errmsg.style.display = '';\r\n    }\r\n    \r\n    input.errmsg.textContent = text;\r\n  },\r\n  removeInputError: function(input) {\r\n    if(!input.errmsg) return;\r\n    input.group.className = input.group.className.replace(/ error/g,'');\r\n    input.errmsg.style.display = 'none';\r\n  },\r\n  getProgressBar: function() {\r\n    var progressBar = document.createElement('div');\r\n    progressBar.className = 'progress';\r\n\r\n    var meter = document.createElement('span');\r\n    meter.className = 'meter';\r\n    meter.style.width = '0%';\r\n    progressBar.appendChild(meter);\r\n    return progressBar;\r\n  },\r\n  updateProgressBar: function(progressBar, progress) {\r\n    if (!progressBar) return;\r\n    progressBar.firstChild.style.width = progress + '%';\r\n  },\r\n  updateProgressBarUnknown: function(progressBar) {\r\n    if (!progressBar) return;\r\n    progressBar.firstChild.style.width = '100%';\r\n  }\r\n});\r\n\r\n// Foundation 3 Specific Theme\r\nJSONEditor.defaults.themes.foundation3 = JSONEditor.defaults.themes.foundation.extend({\r\n  getHeaderButtonHolder: function() {\r\n    var el = this._super();\r\n    el.style.fontSize = '.6em';\r\n    return el;\r\n  },\r\n  getFormInputLabel: function(text, required) {\r\n    var el = this._super(text);\r\n    el.style.fontWeight = 'bold';\r\n    if(required)el.className += \" required\";\r\n    return el;\r\n  },\r\n  getTabHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'row';\r\n    el.innerHTML = \"<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>\";\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n    var sizes = ['zero','one','two','three','four','five','six','seven','eight','nine','ten','eleven','twelve'];\r\n    el.className = 'columns '+sizes[size];\r\n  },\r\n  getTab: function(text) {\r\n    var el = document.createElement('dd');\r\n    var a = document.createElement('a');\r\n    a.setAttribute('href','#');\r\n    a.appendChild(text);\r\n    el.appendChild(a);\r\n    return el;\r\n  },\r\n  getTabContentHolder: function(tab_holder) {\r\n    return tab_holder.children[1];\r\n  },\r\n  getTabContent: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'content active';\r\n    el.style.paddingLeft = '5px';\r\n    return el;\r\n  },\r\n  markTabActive: function(tab) {\r\n    tab.className += ' active';\r\n  },\r\n  markTabInactive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s*active/g,'');\r\n  },\r\n  addTab: function(holder, tab) {\r\n    holder.children[0].appendChild(tab);\r\n  }\r\n});\r\n\r\n// Foundation 4 Specific Theme\r\nJSONEditor.defaults.themes.foundation4 = JSONEditor.defaults.themes.foundation.extend({\r\n  getHeaderButtonHolder: function() {\r\n    var el = this._super();\r\n    el.style.fontSize = '.6em';\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n    el.className = 'columns large-'+size;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = this._super(text);\r\n    el.style.fontSize = '.8rem';\r\n    return el;\r\n  },\r\n  getFormInputLabel: function(text, required) {\r\n    var el = this._super(text);\r\n    el.style.fontWeight = 'bold';\r\n    if(required)el.className += \" required\";\r\n    return el;\r\n  }\r\n});\r\n\r\n// Foundation 5 Specific Theme\r\nJSONEditor.defaults.themes.foundation5 = JSONEditor.defaults.themes.foundation.extend({\r\n  getFormInputDescription: function(text) {\r\n    var el = this._super(text);\r\n    el.style.fontSize = '.8rem';\r\n    return el;\r\n  },\r\n  setGridColumnSize: function(el,size) {\r\n    el.className = 'columns medium-'+size;\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var el = this._super(text,icon,title);\r\n    el.className = el.className.replace(/\\s*small/g,'') + ' tiny';\r\n    return el;\r\n  },\r\n  getTabHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.innerHTML = \"<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>\";\r\n    return el;\r\n  },\r\n  getTab: function(text) {\r\n    var el = document.createElement('dd');\r\n    var a = document.createElement('a');\r\n    a.setAttribute('href','#');\r\n    a.appendChild(text);\r\n    el.appendChild(a);\r\n    return el;\r\n  },\r\n  getTabContentHolder: function(tab_holder) {\r\n    return tab_holder.children[1];\r\n  },\r\n  getTabContent: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'content active';\r\n    el.style.paddingLeft = '5px';\r\n    return el;\r\n  },\r\n  markTabActive: function(tab) {\r\n    tab.className += ' active';\r\n  },\r\n  markTabInactive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s*active/g,'');\r\n  },\r\n  addTab: function(holder, tab) {\r\n    holder.children[0].appendChild(tab);\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.themes.html = JSONEditor.AbstractTheme.extend({\r\n  getFormInputLabel: function(text, required) {\r\n    var el = this._super(text);\r\n    el.style.display = 'block';\r\n    el.style.marginBottom = '3px';\r\n    el.style.fontWeight = 'bold';\r\n    if(required)el.className += \" required\";\r\n    return el;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = this._super(text);\r\n    el.style.fontSize = '.8em';\r\n    el.style.margin = 0;\r\n    el.style.display = 'inline-block';\r\n    el.style.fontStyle = 'italic';\r\n    return el;\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = this._super();\r\n    el.style.border = '1px solid #ddd';\r\n    el.style.padding = '5px';\r\n    el.style.margin = '5px';\r\n    el.style.borderRadius = '3px';\r\n    return el;\r\n  },\r\n  getChildEditorHolder: function() {\r\n    var el = this._super();\r\n    el.style.marginBottom = '8px';\r\n    return el;\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    var el = this.getButtonHolder();\r\n    el.style.display = 'inline-block';\r\n    el.style.marginLeft = '10px';\r\n    el.style.fontSize = '.8em';\r\n    el.style.verticalAlign = 'middle';\r\n    return el;\r\n  },\r\n  getTable: function() {\r\n    var el = this._super();\r\n    el.style.borderBottom = '1px solid #ccc';\r\n    el.style.marginBottom = '5px';\r\n    return el;\r\n  },\r\n  addInputError: function(input, text) {\r\n    input.style.borderColor = 'red';\r\n    \r\n    if(!input.errmsg) {\r\n      var group = this.closest(input,'.form-control');\r\n      input.errmsg = document.createElement('div');\r\n      input.errmsg.setAttribute('class','errmsg');\r\n      input.errmsg.style = input.errmsg.style || {};\r\n      input.errmsg.style.color = 'red';\r\n      group.appendChild(input.errmsg);\r\n    }\r\n    else {\r\n      input.errmsg.style.display = 'block';\r\n    }\r\n    \r\n    input.errmsg.innerHTML = '';\r\n    input.errmsg.appendChild(document.createTextNode(text));\r\n  },\r\n  removeInputError: function(input) {\r\n    input.style.borderColor = '';\r\n    if(input.errmsg) input.errmsg.style.display = 'none';\r\n  },\r\n  getProgressBar: function() {\r\n    var max = 100, start = 0;\r\n\r\n    var progressBar = document.createElement('progress');\r\n    progressBar.setAttribute('max', max);\r\n    progressBar.setAttribute('value', start);\r\n    return progressBar;\r\n  },\r\n  updateProgressBar: function(progressBar, progress) {\r\n    if (!progressBar) return;\r\n    progressBar.setAttribute('value', progress);\r\n  },\r\n  updateProgressBarUnknown: function(progressBar) {\r\n    if (!progressBar) return;\r\n    progressBar.removeAttribute('value');\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.themes.jqueryui = JSONEditor.AbstractTheme.extend({\r\n  getTable: function() {\r\n    var el = this._super();\r\n    el.setAttribute('cellpadding',5);\r\n    el.setAttribute('cellspacing',0);\r\n    return el;\r\n  },\r\n  getTableHeaderCell: function(text) {\r\n    var el = this._super(text);\r\n    el.className = 'ui-state-active';\r\n    el.style.fontWeight = 'bold';\r\n    return el;\r\n  },\r\n  getTableCell: function() {\r\n    var el = this._super();\r\n    el.className = 'ui-widget-content';\r\n    return el;\r\n  },\r\n  getHeaderButtonHolder: function() {\r\n    var el = this.getButtonHolder();\r\n    el.style.marginLeft = '10px';\r\n    el.style.fontSize = '.6em';\r\n    el.style.display = 'inline-block';\r\n    return el;\r\n  },\r\n  getFormInputDescription: function(text) {\r\n    var el = this.getDescription(text);\r\n    el.style.marginLeft = '10px';\r\n    el.style.display = 'inline-block';\r\n    return el;\r\n  },\r\n  getFormControl: function(label, input, description) {\r\n    var el = this._super(label,input,description);\r\n    if(input.type === 'checkbox') {\r\n      el.style.lineHeight = '25px';\r\n      \r\n      el.style.padding = '3px 0';\r\n    }\r\n    else {\r\n      el.style.padding = '4px 0 8px 0';\r\n    }\r\n    return el;\r\n  },\r\n  getDescription: function(text) {\r\n    var el = document.createElement('span');\r\n    el.style.fontSize = '.8em';\r\n    el.style.fontStyle = 'italic';\r\n    el.textContent = text;\r\n    return el;\r\n  },\r\n  getButtonHolder: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'ui-buttonset';\r\n    el.style.fontSize = '.7em';\r\n    return el;\r\n  },\r\n  getFormInputLabel: function(text, required) {\r\n    var el = document.createElement('label');\r\n    el.style.fontWeight = 'bold';\r\n    el.style.display = 'block';\r\n    if(required)el.className += \" required\";\r\n    el.textContent = text;\r\n    return el;\r\n  },\r\n  getButton: function(text, icon, title) {\r\n    var button = document.createElement(\"button\");\r\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\r\n\r\n    // Icon only\r\n    if(icon && !text) {\r\n      button.className += ' ui-button-icon-only';\r\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\r\n      button.appendChild(icon);\r\n    }\r\n    // Icon and Text\r\n    else if(icon) {\r\n      button.className += ' ui-button-text-icon-primary';\r\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\r\n      button.appendChild(icon);\r\n    }\r\n    // Text only\r\n    else {\r\n      button.className += ' ui-button-text-only';\r\n    }\r\n\r\n    var el = document.createElement('span');\r\n    el.className = 'ui-button-text';\r\n    el.textContent = text||title||\".\";\r\n    button.appendChild(el);\r\n\r\n    button.setAttribute('title',title);\r\n    \r\n    return button;\r\n  },\r\n  setButtonText: function(button,text, icon, title) {\r\n    button.innerHTML = '';\r\n    button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\r\n\r\n    // Icon only\r\n    if(icon && !text) {\r\n      button.className += ' ui-button-icon-only';\r\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\r\n      button.appendChild(icon);\r\n    }\r\n    // Icon and Text\r\n    else if(icon) {\r\n      button.className += ' ui-button-text-icon-primary';\r\n      icon.className += ' ui-button-icon-primary ui-icon-primary';\r\n      button.appendChild(icon);\r\n    }\r\n    // Text only\r\n    else {\r\n      button.className += ' ui-button-text-only';\r\n    }\r\n\r\n    var el = document.createElement('span');\r\n    el.className = 'ui-button-text';\r\n    el.textContent = text||title||\".\";\r\n    button.appendChild(el);\r\n\r\n    button.setAttribute('title',title);\r\n  },\r\n  getIndentedPanel: function() {\r\n    var el = document.createElement('div');\r\n    el.className = 'ui-widget-content ui-corner-all';\r\n    el.style.padding = '1em 1.4em';\r\n    el.style.marginBottom = '20px';\r\n    return el;\r\n  },\r\n  afterInputReady: function(input) {\r\n    if(input.controls) return;\r\n    input.controls = this.closest(input,'.form-control');\r\n  },\r\n  addInputError: function(input,text) {\r\n    if(!input.controls) return;\r\n    if(!input.errmsg) {\r\n      input.errmsg = document.createElement('div');\r\n      input.errmsg.className = 'ui-state-error';\r\n      input.controls.appendChild(input.errmsg);\r\n    }\r\n    else {\r\n      input.errmsg.style.display = '';\r\n    }\r\n\r\n    input.errmsg.textContent = text;\r\n  },\r\n  removeInputError: function(input) {\r\n    if(!input.errmsg) return;\r\n    input.errmsg.style.display = 'none';\r\n  },\r\n  markTabActive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s*ui-widget-header/g,'')+' ui-state-active';\r\n  },\r\n  markTabInactive: function(tab) {\r\n    tab.className = tab.className.replace(/\\s*ui-state-active/g,'')+' ui-widget-header';\r\n  }\r\n});\r\n",
    "JSONEditor.AbstractIconLib = Class.extend({\r\n  mapping: {\r\n    collapse: '',\r\n    expand: '',\r\n    \"delete\": '',\r\n    edit: '',\r\n    add: '',\r\n    cancel: '',\r\n    save: '',\r\n    moveup: '',\r\n    movedown: ''\r\n  },\r\n  icon_prefix: '',\r\n  getIconClass: function(key) {\r\n    if(this.mapping[key]) return this.icon_prefix+this.mapping[key];\r\n    else return null;\r\n  },\r\n  getIcon: function(key) {\r\n    var iconclass = this.getIconClass(key);\r\n    \r\n    if(!iconclass) return null;\r\n    \r\n    var i = document.createElement('i');\r\n    i.className = iconclass;\r\n    return i;\r\n  }\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.bootstrap2 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'chevron-down',\r\n    expand: 'chevron-up',\r\n    \"delete\": 'trash',\r\n    edit: 'pencil',\r\n    add: 'plus',\r\n    cancel: 'ban-circle',\r\n    save: 'ok',\r\n    moveup: 'arrow-up',\r\n    movedown: 'arrow-down'\r\n  },\r\n  icon_prefix: 'icon-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.bootstrap3 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'chevron-down',\r\n    expand: 'chevron-right',\r\n    \"delete\": 'remove',\r\n    edit: 'pencil',\r\n    add: 'plus',\r\n    cancel: 'floppy-remove',\r\n    save: 'floppy-saved',\r\n    moveup: 'arrow-up',\r\n    movedown: 'arrow-down'\r\n  },\r\n  icon_prefix: 'glyphicon glyphicon-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.fontawesome3 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'chevron-down',\r\n    expand: 'chevron-right',\r\n    \"delete\": 'remove',\r\n    edit: 'pencil',\r\n    add: 'plus',\r\n    cancel: 'ban-circle',\r\n    save: 'save',\r\n    moveup: 'arrow-up',\r\n    movedown: 'arrow-down'\r\n  },\r\n  icon_prefix: 'icon-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.fontawesome4 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'caret-square-o-down',\r\n    expand: 'caret-square-o-right',\r\n    \"delete\": 'times',\r\n    edit: 'pencil',\r\n    add: 'plus',\r\n    cancel: 'ban',\r\n    save: 'save',\r\n    moveup: 'arrow-up',\r\n    movedown: 'arrow-down'\r\n  },\r\n  icon_prefix: 'fa fa-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.foundation2 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'minus',\r\n    expand: 'plus',\r\n    \"delete\": 'remove',\r\n    edit: 'edit',\r\n    add: 'add-doc',\r\n    cancel: 'error',\r\n    save: 'checkmark',\r\n    moveup: 'up-arrow',\r\n    movedown: 'down-arrow'\r\n  },\r\n  icon_prefix: 'foundicon-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.foundation3 = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'minus',\r\n    expand: 'plus',\r\n    \"delete\": 'x',\r\n    edit: 'pencil',\r\n    add: 'page-add',\r\n    cancel: 'x-circle',\r\n    save: 'save',\r\n    moveup: 'arrow-up',\r\n    movedown: 'arrow-down'\r\n  },\r\n  icon_prefix: 'fi-'\r\n});\r\n",
    "JSONEditor.defaults.iconlibs.jqueryui = JSONEditor.AbstractIconLib.extend({\r\n  mapping: {\r\n    collapse: 'triangle-1-s',\r\n    expand: 'triangle-1-e',\r\n    \"delete\": 'trash',\r\n    edit: 'pencil',\r\n    add: 'plusthick',\r\n    cancel: 'closethick',\r\n    save: 'disk',\r\n    moveup: 'arrowthick-1-n',\r\n    movedown: 'arrowthick-1-s'\r\n  },\r\n  icon_prefix: 'ui-icon ui-icon-'\r\n});\r\n",
    "JSONEditor.defaults.templates[\"default\"] = function() {\r\n  return {\r\n    compile: function(template) {\r\n      var matches = template.match(/{{\\s*([a-zA-Z0-9\\-_ \\.]+)\\s*}}/g);\r\n      var l = matches && matches.length;\r\n\r\n      // Shortcut if the template contains no variables\r\n      if(!l) return function() { return template; };\r\n\r\n      // Pre-compute the search/replace functions\r\n      // This drastically speeds up template execution\r\n      var replacements = [];\r\n      var get_replacement = function(i) {\r\n        var p = matches[i].replace(/[{}]+/g,'').trim().split('.');\r\n        var n = p.length;\r\n        var func;\r\n        \r\n        if(n > 1) {\r\n          var cur;\r\n          func = function(vars) {\r\n            cur = vars;\r\n            for(i=0; i<n; i++) {\r\n              cur = cur[p[i]];\r\n              if(!cur) break;\r\n            }\r\n            return cur;\r\n          };\r\n        }\r\n        else {\r\n          p = p[0];\r\n          func = function(vars) {\r\n            return vars[p];\r\n          };\r\n        }\r\n        \r\n        replacements.push({\r\n          s: matches[i],\r\n          r: func\r\n        });\r\n      };\r\n      for(var i=0; i<l; i++) {\r\n        get_replacement(i);\r\n      }\r\n\r\n      // The compiled function\r\n      return function(vars) {\r\n        var ret = template+\"\";\r\n        var r;\r\n        for(i=0; i<l; i++) {\r\n          r = replacements[i];\r\n          ret = ret.replace(r.s, r.r(vars));\r\n        }\r\n        return ret;\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "JSONEditor.defaults.templates.ejs = function() {\r\n  if(!window.EJS) return false;\r\n\r\n  return {\r\n    compile: function(template) {\r\n      var compiled = new window.EJS({\r\n        text: template\r\n      });\r\n\r\n      return function(context) {\r\n        return compiled.render(context);\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "JSONEditor.defaults.templates.handlebars = function() {\r\n  return window.Handlebars;\r\n};\r\n",
    "JSONEditor.defaults.templates.hogan = function() {\r\n  if(!window.Hogan) return false;\r\n\r\n  return {\r\n    compile: function(template) {\r\n      var compiled = window.Hogan.compile(template);\r\n      return function(context) {\r\n        return compiled.render(context);\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "JSONEditor.defaults.templates.markup = function() {\r\n  if(!window.Mark || !window.Mark.up) return false;\r\n\r\n  return {\r\n    compile: function(template) {\r\n      return function(context) {\r\n        return window.Mark.up(template,context);\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "JSONEditor.defaults.templates.mustache = function() {\r\n  if(!window.Mustache) return false;\r\n\r\n  return {\r\n    compile: function(template) {\r\n      return function(view) {\r\n        return window.Mustache.render(template, view);\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "JSONEditor.defaults.templates.swig = function() {\r\n  return window.swig;\r\n};\r\n",
    "JSONEditor.defaults.templates.underscore = function() {\r\n  if(!window._) return false;\r\n\r\n  return {\r\n    compile: function(template) {\r\n      return function(context) {\r\n        return window._.template(template, context);\r\n      };\r\n    }\r\n  };\r\n};\r\n",
    "// Set the default theme\r\nJSONEditor.defaults.theme = 'html';\r\n\r\n// Set the default template engine\r\nJSONEditor.defaults.template = 'default';\r\n\r\n// Default options when initializing JSON Editor\r\nJSONEditor.defaults.options = {};\r\n\r\n// String translate function\r\nJSONEditor.defaults.translate = function(key, variables) {\r\n  var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language];\r\n  if(!lang) throw \"Unknown language \"+JSONEditor.defaults.language;\r\n  \r\n  var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];\r\n  \r\n  if(typeof string === \"undefined\") throw \"Unknown translate string \"+key;\r\n  \r\n  if(variables) {\r\n    for(var i=0; i<variables.length; i++) {\r\n      string = string.replace(new RegExp('\\\\{\\\\{'+i+'}}','g'),variables[i]);\r\n    }\r\n  }\r\n  \r\n  return string;\r\n};\r\n\r\n// Translation strings and default languages\r\nJSONEditor.defaults.default_language = 'en';\r\nJSONEditor.defaults.language = JSONEditor.defaults.default_language;\r\nJSONEditor.defaults.languages.en = {\r\n  /**\r\n   * When a property is not set\r\n   */\r\n  error_notset: \"Property must be set\",\r\n  /**\r\n   * When a string must not be empty\r\n   */\r\n  error_notempty: \"Value required\",\r\n  /**\r\n   * When a value is not one of the enumerated values\r\n   */\r\n  error_enum: \"Value must be one of the enumerated values\",\r\n  /**\r\n   * When a value doesn't validate any schema of a 'anyOf' combination\r\n   */\r\n  error_anyOf: \"Value must validate against at least one of the provided schemas\",\r\n  /**\r\n   * When a value doesn't validate\r\n   * @variables This key takes one variable: The number of schemas the value does not validate\r\n   */\r\n  error_oneOf: 'Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\r\n  /**\r\n   * When a value does not validate a 'not' schema\r\n   */\r\n  error_not: \"Value must not validate against the provided schema\",\r\n  /**\r\n   * When a value does not match any of the provided types\r\n   */\r\n  error_type_union: \"Value must be one of the provided types\",\r\n  /**\r\n   * When a value does not match the given type\r\n   * @variables This key takes one variable: The type the value should be of\r\n   */\r\n  error_type: \"Value must be of type {{0}}\",\r\n  /**\r\n   *  When the value validates one of the disallowed types\r\n   */\r\n  error_disallow_union: \"Value must not be one of the provided disallowed types\",\r\n  /**\r\n   *  When the value validates a disallowed type\r\n   * @variables This key takes one variable: The type the value should not be of\r\n   */\r\n  error_disallow: \"Value must not be of type {{0}}\",\r\n  /**\r\n   * When a value is not a multiple of or divisible by a given number\r\n   * @variables This key takes one variable: The number mentioned above\r\n   */\r\n  error_multipleOf: \"Value must be a multiple of {{0}}\",\r\n  /**\r\n   * When a value is greater than it's supposed to be (exclusive)\r\n   * @variables This key takes one variable: The maximum\r\n   */\r\n  error_maximum_excl: \"Value must be less than {{0}}\",\r\n  /**\r\n   * When a value is greater than it's supposed to be (inclusive\r\n   * @variables This key takes one variable: The maximum\r\n   */\r\n  error_maximum_incl: \"Value must be at most {{0}}\",\r\n  /**\r\n   * When a value is lesser than it's supposed to be (exclusive)\r\n   * @variables This key takes one variable: The minimum\r\n   */\r\n  error_minimum_excl: \"Value must be greater than {{0}}\",\r\n  /**\r\n   * When a value is lesser than it's supposed to be (inclusive)\r\n   * @variables This key takes one variable: The minimum\r\n   */\r\n  error_minimum_incl: \"Value must be at least {{0}}\",\r\n  /**\r\n   * When a value have too many characters\r\n   * @variables This key takes one variable: The maximum character count\r\n   */\r\n  error_maxLength: \"Value must be at most {{0}} characters long\",\r\n  /**\r\n   * When a value does not have enough characters\r\n   * @variables This key takes one variable: The minimum character count\r\n   */\r\n  error_minLength: \"Value must be at least {{0}} characters long\",\r\n  /**\r\n   * When a value does not match a given pattern\r\n   */\r\n  error_pattern: \"Value must match the pattern {{0}}\",\r\n  /**\r\n   * When an array has additional items whereas it is not supposed to\r\n   */\r\n  error_additionalItems: \"No additional items allowed in this array\",\r\n  /**\r\n   * When there are to many items in an array\r\n   * @variables This key takes one variable: The maximum item count\r\n   */\r\n  error_maxItems: \"Value must have at most {{0}} items\",\r\n  /**\r\n   * When there are not enough items in an array\r\n   * @variables This key takes one variable: The minimum item count\r\n   */\r\n  error_minItems: \"Value must have at least {{0}} items\",\r\n  /**\r\n   * When an array is supposed to have unique items but has duplicates\r\n   */\r\n  error_uniqueItems: \"Array must have unique items\",\r\n  /**\r\n   * When there are too many properties in an object\r\n   * @variables This key takes one variable: The maximum property count\r\n   */\r\n  error_maxProperties: \"Object must have at most {{0}} properties\",\r\n  /**\r\n   * When there are not enough properties in an object\r\n   * @variables This key takes one variable: The minimum property count\r\n   */\r\n  error_minProperties: \"Object must have at least {{0}} properties\",\r\n  /**\r\n   * When a required property is not defined\r\n   * @variables This key takes one variable: The name of the missing property\r\n   */\r\n  error_required: \"Object is missing the required property '{{0}}'\",\r\n  /**\r\n   * When there is an additional property is set whereas there should be none\r\n   * @variables This key takes one variable: The name of the additional property\r\n   */\r\n  error_additional_properties: \"No additional properties allowed, but property {{0}} is set\",\r\n  /**\r\n   * When a dependency is not resolved\r\n   * @variables This key takes one variable: The name of the missing property for the dependency\r\n   */\r\n  error_dependency: \"Must have property {{0}}\",\r\n  /**\r\n   * Text on Delete All buttons\r\n   */\r\n  button_delete_all: \"All\",\r\n  /**\r\n   * Title on Delete All buttons\r\n   */\r\n  button_delete_all_title: \"Delete All\",\r\n  /**\r\n    * Text on Delete Last buttons\r\n    * @variable This key takes one variable: The title of object to delete\r\n    */\r\n  button_delete_last: \"Last {{0}}\",\r\n  /**\r\n    * Title on Delete Last buttons\r\n    * @variable This key takes one variable: The title of object to delete\r\n    */\r\n  button_delete_last_title: \"Delete Last {{0}}\",\r\n  /**\r\n    * Title on Add Row buttons\r\n    * @variable This key takes one variable: The title of object to add\r\n    */\r\n  button_add_row_title: \"Add {{0}}\",\r\n  /**\r\n    * Title on Move Down buttons\r\n    */\r\n  button_move_down_title: \"Move down\",\r\n  /**\r\n    * Title on Move Up buttons\r\n    */\r\n  button_move_up_title: \"Move up\",\r\n  /**\r\n    * Title on Delete Row buttons\r\n    * @variable This key takes one variable: The title of object to delete\r\n    */\r\n  button_delete_row_title: \"Delete {{0}}\",\r\n  /**\r\n    * Title on Delete Row buttons, short version (no parameter with the object title)\r\n    */\r\n  button_delete_row_title_short: \"Delete\",\r\n  /**\r\n    * Title on Collapse buttons\r\n    */\r\n  button_collapse: \"Collapse\"\r\n};\r\n\r\n// Miscellaneous Plugin Settings\r\nJSONEditor.plugins = {\r\n  ace: {\r\n    theme: ''\r\n  },\r\n  epiceditor: {\r\n\r\n  },\r\n  sceditor: {\r\n\r\n  },\r\n  select2: {\r\n    \r\n  },\r\n  selectize: {\r\n  }\r\n};\r\n\r\n// Default per-editor options\r\nfor(var i in JSONEditor.defaults.editors) {\r\n  if(!JSONEditor.defaults.editors.hasOwnProperty(i)) continue;\r\n  JSONEditor.defaults.editors[i].options = JSONEditor.defaults.editors.options || {};\r\n}\r\n\r\n// Set the default resolvers\r\n// Use \"multiple\" as a fall back for everything\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(typeof schema.type !== \"string\") return \"multiple\";\r\n});\r\n// If the type is not set but properties are defined, we can infer the type is actually object\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // If the schema is a simple type\r\n  if(!schema.type && schema.properties ) return \"object\";\r\n});\r\n// If the type is set and it's a basic type, use the primitive editor\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // If the schema is a simple type\r\n  if(typeof schema.type === \"string\") return schema.type;\r\n});\r\n// Boolean editors\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(schema.type === 'boolean') {\r\n    // If explicitly set to 'checkbox', use that\r\n    if(schema.format === \"checkbox\" || (schema.options && schema.options.checkbox)) {\r\n      return \"checkbox\";\r\n    }\r\n    // Otherwise, default to select menu\r\n    return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\r\n  }\r\n});\r\n// Use the multiple editor for schemas where the `type` is set to \"any\"\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // If the schema can be of any type\r\n  if(schema.type === \"any\") return \"multiple\";\r\n});\r\n// Editor for base64 encoded files\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // If the schema can be of any type\r\n  if(schema.type === \"string\" && schema.media && schema.media.binaryEncoding===\"base64\") {\r\n    return \"base64\";\r\n  }\r\n});\r\n// Editor for uploading files\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(schema.type === \"string\" && schema.format === \"url\" && schema.options && schema.options.upload === true) {\r\n    if(window.FileReader) return \"upload\";\r\n  }\r\n});\r\n// Use the table editor for arrays with the format set to `table`\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // Type `array` with format set to `table`\r\n  if(schema.type == \"array\" && schema.format == \"table\") {\r\n    return \"table\";\r\n  }\r\n});\r\n// Use the `select` editor for dynamic enumSource enums\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(schema.enumSource) return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\r\n});\r\n// Use the `enum` or `select` editors for schemas with enumerated properties\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(schema[\"enum\"]) {\r\n    if(schema.type === \"array\" || schema.type === \"object\") {\r\n      return \"enum\";\r\n    }\r\n    else if(schema.type === \"number\" || schema.type === \"integer\" || schema.type === \"string\") {\r\n      return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\r\n    }\r\n  }\r\n});\r\n// Specialized editors for arrays of strings\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  if(schema.type === \"array\" && schema.items && !(Array.isArray(schema.items)) && schema.uniqueItems && ['string','number','integer'].indexOf(schema.items.type) >= 0) {\r\n    // For enumerated strings, number, or integers\r\n    if(schema.items.enum) {\r\n      return 'multiselect';\r\n    }\r\n    // For non-enumerated strings (tag editor)\r\n    else if(JSONEditor.plugins.selectize.enable && schema.items.type === \"string\") {\r\n      return 'arraySelectize';\r\n    }\r\n  }\r\n});\r\n// Use the multiple editor for schemas with `oneOf` set\r\nJSONEditor.defaults.resolvers.unshift(function(schema) {\r\n  // If this schema uses `oneOf`\r\n  if(schema.oneOf) return \"multiple\";\r\n});\r\n",
    "/**\r\n * This is a small wrapper for using JSON Editor like a typical jQuery plugin.\r\n */\r\n(function() {\r\n  if(window.jQuery || window.Zepto) {\r\n    var $ = window.jQuery || window.Zepto;\r\n    $.jsoneditor = JSONEditor.defaults;\r\n    \r\n    $.fn.jsoneditor = function(options) {\r\n      var self = this;\r\n      var editor = this.data('jsoneditor');\r\n      if(options === 'value') {\r\n        if(!editor) throw \"Must initialize jsoneditor before getting/setting the value\";\r\n        \r\n        // Set value\r\n        if(arguments.length > 1) {\r\n          editor.setValue(arguments[1]);\r\n        }\r\n        // Get value\r\n        else {\r\n          return editor.getValue();\r\n        }\r\n      }\r\n      else if(options === 'validate') {\r\n        if(!editor) throw \"Must initialize jsoneditor before validating\";\r\n        \r\n        // Validate a specific value\r\n        if(arguments.length > 1) {\r\n          return editor.validate(arguments[1]);\r\n        }\r\n        // Validate current value\r\n        else {\r\n          return editor.validate();\r\n        }\r\n      }\r\n      else if(options === 'destroy') {\r\n        if(editor) {\r\n          editor.destroy();\r\n          this.data('jsoneditor',null);\r\n        }\r\n      }\r\n      else {\r\n        // Destroy first\r\n        if(editor) {\r\n          editor.destroy();\r\n        }\r\n        \r\n        // Create editor\r\n        editor = new JSONEditor(this.get(0),options);\r\n        this.data('jsoneditor',editor);\r\n        \r\n        // Setup event listeners\r\n        editor.on('change',function() {\r\n          self.trigger('change');\r\n        });\r\n        editor.on('ready',function() {\r\n          self.trigger('ready');\r\n        });\r\n      }\r\n      \r\n      return this;\r\n    };\r\n  }\r\n})();\r\n",
    "  window.JSONEditor = JSONEditor;\r\n})();\r\n"
  ]
}